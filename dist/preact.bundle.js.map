{"version":3,"sources":["webpack://Apple2/webpack/universalModuleDefinition","webpack://Apple2/webpack/runtime/load script","webpack://Apple2/./js/roms/character|lazy|/^\\.\\/.*$/|groupOptions: {}|namespace object","webpack://Apple2/./js/roms/system|lazy|/^\\.\\/.*$/|groupOptions: {}|namespace object","webpack://Apple2/./node_modules/apple2shader/screenEmu.js","webpack://Apple2/./node_modules/classnames/index.js","webpack://Apple2/./js/components/css/App.module.scss","webpack://Apple2/./js/components/css/Apple2.module.scss","webpack://Apple2/./js/components/css/BlockDisk.module.scss","webpack://Apple2/./js/components/css/BlockFileModal.module.scss","webpack://Apple2/./js/components/css/CPUMeter.module.scss","webpack://Apple2/./js/components/css/Components.module.scss","webpack://Apple2/./js/components/css/ControlButton.module.scss","webpack://Apple2/./js/components/css/ControlStrip.module.scss","webpack://Apple2/./js/components/css/DiskII.module.scss","webpack://Apple2/./js/components/css/DownloadModal.module.scss","webpack://Apple2/./js/components/css/Drives.module.scss","webpack://Apple2/./js/components/css/ErrorModal.module.scss","webpack://Apple2/./js/components/css/FileModal.module.scss","webpack://Apple2/./js/components/css/Header.module.scss","webpack://Apple2/./js/components/css/Inset.module.scss","webpack://Apple2/./js/components/css/Keyboard.module.scss","webpack://Apple2/./js/components/css/Modal.module.scss","webpack://Apple2/./js/components/css/OptionsModal.module.scss","webpack://Apple2/./js/components/css/Printer.module.scss","webpack://Apple2/./js/components/css/ProgressModal.module.scss","webpack://Apple2/./js/components/css/Screen.module.scss","webpack://Apple2/./js/components/css/Tabs.module.scss","webpack://Apple2/./js/components/debugger/css/Applesoft.module.scss","webpack://Apple2/./js/components/debugger/css/CPU.module.scss","webpack://Apple2/./js/components/debugger/css/Debugger.module.scss","webpack://Apple2/./js/components/debugger/css/Disks.module.scss","webpack://Apple2/./js/components/debugger/css/FileViewer.module.scss","webpack://Apple2/./js/components/debugger/css/Memory.module.scss","webpack://Apple2/./js/components/debugger/css/VideoModes.module.scss","webpack://Apple2/./node_modules/css-loader/dist/runtime/api.js","webpack://Apple2/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://Apple2/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://Apple2/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://Apple2/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://Apple2/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://Apple2/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://Apple2/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://Apple2/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://Apple2/webpack/bootstrap","webpack://Apple2/webpack/runtime/compat get default export","webpack://Apple2/webpack/runtime/define property getters","webpack://Apple2/webpack/runtime/ensure chunk","webpack://Apple2/webpack/runtime/get javascript chunk filename","webpack://Apple2/webpack/runtime/hasOwnProperty shorthand","webpack://Apple2/webpack/runtime/make namespace object","webpack://Apple2/webpack/runtime/publicPath","webpack://Apple2/webpack/runtime/jsonp chunk loading","webpack://Apple2/./node_modules/preact/dist/preact.module.js","webpack://Apple2/./node_modules/preact/devtools/dist/devtools.module.js","webpack://Apple2/./node_modules/preact/debug/dist/debug.module.js","webpack://Apple2/./js/components/css/Header.module.scss?3803","webpack://Apple2/./js/components/Header.tsx","webpack://Apple2/./node_modules/preact/hooks/dist/hooks.module.js","webpack://Apple2/./js/util.ts","webpack://Apple2/./js/apple2io.ts","webpack://Apple2/./js/canvas.ts","webpack://Apple2/./js/gl.ts","webpack://Apple2/./js/cpu6502.ts","webpack://Apple2/./js/ram.ts","webpack://Apple2/./js/mmu.ts","webpack://Apple2/./js/symbols.ts","webpack://Apple2/./js/debugger.ts","webpack://Apple2/./js/ui/types.ts","webpack://Apple2/./js/ui/gamepad.ts","webpack://Apple2/./js/apple2.ts","webpack://Apple2/./js/components/css/CPUMeter.module.scss?edd3","webpack://Apple2/./js/components/CPUMeter.tsx","webpack://Apple2/./js/components/css/Inset.module.scss?e2b6","webpack://Apple2/./js/components/Inset.tsx","webpack://Apple2/./js/components/hooks/useHotKey.ts","webpack://Apple2/./js/components/css/ControlButton.module.scss?5641","webpack://Apple2/./js/components/ControlButton.tsx","webpack://Apple2/./js/prefs.ts","webpack://Apple2/./js/options.ts","webpack://Apple2/./js/components/OptionsContext.tsx","webpack://Apple2/./js/ui/audio.ts","webpack://Apple2/./js/components/AudioControl.tsx","webpack://Apple2/./node_modules/preact/compat/dist/compat.module.js","webpack://Apple2/./js/components/css/Modal.module.scss?e14c","webpack://Apple2/./js/components/css/Components.module.scss?3f0d","webpack://Apple2/./js/components/Modal.tsx","webpack://Apple2/./js/components/css/OptionsModal.module.scss?172f","webpack://Apple2/./js/components/OptionsModal.tsx","webpack://Apple2/./js/roms/cards/parallel.ts","webpack://Apple2/./js/cards/parallel.ts","webpack://Apple2/./js/components/css/Printer.module.scss?1f15","webpack://Apple2/./js/components/Printer.tsx","webpack://Apple2/./js/ui/joystick.ts","webpack://Apple2/./js/ui/screen.ts","webpack://Apple2/./js/ui/system.ts","webpack://Apple2/./js/components/css/ControlStrip.module.scss?d35b","webpack://Apple2/./js/components/ControlStrip.tsx","webpack://Apple2/./js/components/css/Tabs.module.scss?9cc0","webpack://Apple2/./js/components/Tabs.tsx","webpack://Apple2/./js/applesoft/tokens.ts","webpack://Apple2/./js/applesoft/decompiler.ts","webpack://Apple2/./js/applesoft/zeropage.ts","webpack://Apple2/./js/applesoft/heap.ts","webpack://Apple2/./js/components/debugger/css/Applesoft.module.scss?8d40","webpack://Apple2/./js/components/debugger/css/Debugger.module.scss?3c72","webpack://Apple2/./js/components/debugger/Applesoft.tsx","webpack://Apple2/./js/components/util/promises.ts","webpack://Apple2/./js/components/FileChooser.tsx","webpack://Apple2/./js/formats/types.ts","webpack://Apple2/./js/types.ts","webpack://Apple2/./js/components/util/files.ts","webpack://Apple2/./js/components/debugger/css/CPU.module.scss?d81e","webpack://Apple2/./js/components/debugger/CPU.tsx","webpack://Apple2/./js/base64.ts","webpack://Apple2/./js/formats/format_utils.ts","webpack://Apple2/./js/formats/do.ts","webpack://Apple2/./js/formats/nib.ts","webpack://Apple2/./js/formats/po.ts","webpack://Apple2/./js/formats/2mg.ts","webpack://Apple2/./js/formats/woz.ts","webpack://Apple2/./js/formats/create_disk.ts","webpack://Apple2/./js/formats/d13.ts","webpack://Apple2/./js/roms/cards/disk2.ts","webpack://Apple2/./js/cards/drivers/EmptyDriver.ts","webpack://Apple2/./js/cards/drivers/BaseDiskDriver.ts","webpack://Apple2/./js/cards/drivers/NibbleDiskDriver.ts","webpack://Apple2/./js/cards/drivers/WozDiskDriver.ts","webpack://Apple2/./js/cards/disk2.ts","webpack://Apple2/./js/roms/cards/smartport.ts","webpack://Apple2/./js/formats/block.ts","webpack://Apple2/./js/cards/smartport.ts","webpack://Apple2/./js/formats/prodos/constants.ts","webpack://Apple2/./js/formats/prodos/base_file.ts","webpack://Apple2/./js/formats/prodos/sapling_file.ts","webpack://Apple2/./js/formats/prodos/seedling_file.ts","webpack://Apple2/./js/formats/prodos/tree_file.ts","webpack://Apple2/./js/formats/prodos/file_entry.ts","webpack://Apple2/./js/formats/prodos/directory.ts","webpack://Apple2/./js/formats/prodos/utils.ts","webpack://Apple2/./js/formats/prodos/vdh.ts","webpack://Apple2/./js/formats/prodos/bit_map.ts","webpack://Apple2/./js/formats/prodos/index.ts","webpack://Apple2/./js/components/debugger/css/Disks.module.scss?34b6","webpack://Apple2/./js/intbasic/decompiler.ts","webpack://Apple2/./js/formats/dos/dos33.ts","webpack://Apple2/./js/components/debugger/css/FileViewer.module.scss?e6d2","webpack://Apple2/./js/components/debugger/FileViewer.tsx","webpack://Apple2/./js/components/debugger/Disks.tsx","webpack://Apple2/./js/cards/langcard.ts","webpack://Apple2/./js/components/debugger/css/Memory.module.scss?7aeb","webpack://Apple2/./js/components/debugger/Memory.tsx","webpack://Apple2/./js/components/debugger/css/VideoModes.module.scss?2387","webpack://Apple2/./js/components/debugger/VideoModes.tsx","webpack://Apple2/./js/components/debugger/Debugger.tsx","webpack://Apple2/./js/components/css/ErrorModal.module.scss?d5f5","webpack://Apple2/./js/components/ErrorModal.tsx","webpack://Apple2/./js/components/util/keyboard.ts","webpack://Apple2/./js/components/css/Keyboard.module.scss?8d85","webpack://Apple2/./js/components/Keyboard.tsx","webpack://Apple2/./js/components/LanguageCard.tsx","webpack://Apple2/./js/ui/mouse.ts","webpack://Apple2/./js/roms/cards/mouse.ts","webpack://Apple2/./js/cards/mouse.ts","webpack://Apple2/./js/components/Mouse.tsx","webpack://Apple2/./js/components/css/Screen.module.scss?915e","webpack://Apple2/./js/components/Screen.tsx","webpack://Apple2/./js/components/hooks/useHash.ts","webpack://Apple2/./js/components/css/FileModal.module.scss?698e","webpack://Apple2/./js/components/FileModal.tsx","webpack://Apple2/./js/components/css/DiskII.module.scss?a11e","webpack://Apple2/./js/components/DiskDragTarget.tsx","webpack://Apple2/./js/components/css/DownloadModal.module.scss?b4a9","webpack://Apple2/./js/components/DownloadModal.tsx","webpack://Apple2/./js/components/DiskII.tsx","webpack://Apple2/./js/components/css/BlockFileModal.module.scss?b34d","webpack://Apple2/./js/components/BlockFileModal.tsx","webpack://Apple2/./js/components/css/BlockDisk.module.scss?e6a1","webpack://Apple2/./js/components/BlockDisk.tsx","webpack://Apple2/./js/components/css/ProgressModal.module.scss?9e79","webpack://Apple2/./js/components/ProgressModal.tsx","webpack://Apple2/./js/components/css/Drives.module.scss?5e34","webpack://Apple2/./js/components/Drives.tsx","webpack://Apple2/./js/roms/cards/ramfactor.ts","webpack://Apple2/./js/cards/ramfactor.ts","webpack://Apple2/./js/components/Slinky.tsx","webpack://Apple2/./js/roms/cards/thunderclock.ts","webpack://Apple2/./js/cards/thunderclock.ts","webpack://Apple2/./js/components/ThunderClock.tsx","webpack://Apple2/./js/roms/cards/videoterm.ts","webpack://Apple2/./js/cards/videoterm.ts","webpack://Apple2/./js/components/Videoterm.tsx","webpack://Apple2/./js/components/css/Apple2.module.scss?9c9a","webpack://Apple2/./js/components/Apple2.tsx","webpack://Apple2/./js/components/hooks/usePrefs.ts","webpack://Apple2/./js/components/util/systems.ts","webpack://Apple2/./js/components/css/App.module.scss?3059","webpack://Apple2/./js/entry.tsx","webpack://Apple2/./js/components/App.tsx"],"names":["root","factory","exports","module","define","amd","self","inProgress","dataWebpackPrefix","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","screenEmu","Point","constructor","x","y","this","Size","width","height","copy","ratio","Rect","origin","size","l","r","t","b","Vector","n","data","Float32Array","normalize","vec","sum","item","gain","i","mul","other","w","length","realIDFT","omega","Math","PI","j","cos","resize","newData","min","static","sidelobeDb","m","alpha","cosh","acosh","pow","a","abs","acos","max","reduce","prev","cur","fc","v","halfN","floor","sin","Matrix3","c00","c01","c02","c10","c11","c12","c20","c21","c22","at","val","k","NTSC_FSC","NTSC_4FSC","NTSC_IQ_DELTA","NTSC_I_CUTOFF","ntscVisibleRect","ntscClockFrequency","ntscDisplayRect","palVisibleRect","palClockFrequency","palDisplayRect","VERTEX_RENDER_SHADER","buildTiming","clockFrequency","displayRect","visibleRect","vertTotal","fsc","vertStart","frameCycleNum","horizStart","imageSize","imageLeft","colorBurst","cycleNum","topLeft","topLeft80Col","CELL_WIDTH","NTSC_DETAILS","PAL_DETAILS","loadImage","path","reject","img","Image","onload","onerror","src","TEXTURE_NAMES","SHADER_NAMES","resizeCanvas","canvas","displayWidth","clientWidth","displayHeight","clientHeight","createShader","gl","name","type","source","shader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","log","getShaderInfoLog","deleteShader","createProgram","shaders","program","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteProgram","TextureInfo","glTexture","C","HORIZ_START","HORIZ_BLANK","HORIZ_DISPLAY","HORIZ_TOTAL","CELL_HEIGHT","VERT_NTSC_START","VERT_PAL_START","VERT_DISPLAY","BLOCK_WIDTH","BLOCK_HEIGHT","NTSC_Q_CUTOFF","screenData","image","details","dhgr","naturalWidth","naturalHeight","document","createElement","context","getContext","fillStyle","fillRect","drawImage","getImageData","ScreenView","getExtension","textures","buffers","display","imageSampleRate","imageBlackLevel","imageWhiteLevel","imageSubcarrier","viewportSize","persistenceTexRect","configurationChanged","imageChanged","_image","displayConfiguration","async","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","createTexture","push","createBuffer","loadTextures","pixelStorei","PACK_ALIGNMENT","UNPACK_ALIGNMENT","loadShaders","freeOpenGL","deleteTexture","buffer","deleteBuffer","deleteShaders","all","loadTexture","isMipMap","texInfo","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","generateMipmap","loadShader","fragmentSource","vertexSource","glVertexShader","VERTEX_SHADER","glFragmentShader","FRAGMENT_SHADER","glProgram","vsync","canvasWidth","canvasHeight","viewport","uploadImage","configureShaders","renderImage","displayPersistence","drawDisplayCanvas","resizeTexture","texInfoImage","format","LUMINANCE","luminance","imageData","ary","Uint8Array","luminanceData","texSubImage2D","sampleRate","blackLevel","whiteLevel","subCarrier","texHeight","ceil","log2","phaseAlternation","phaseInfo","c","texInfoPhase","RGB","FLOAT","getRenderShader","videoDecoder","decoder","renderShader","renderShaderName","displayShader","isCompositeDecoder","useProgram","uniform1f","getUniformLocation","chebyshevWindow","wy","wu","wv","bandwidth","videoBandwidth","yBandwidth","videoLumaBandwidth","uBandwidth","videoChromaBandwidth","vBandwidth","videoWhiteOnly","lanczosWindow","uniform3f","decoderMatrix","videoSaturation","hue","videoHue","brightness","videoBrightness","decoderOffset","contrast","videoContrast","videoLevel","uniformMatrix3fv","displayBarrel","uniform1i","displayShadowMaskLevel","centerLighting","displayCenterLighting","displayLuminanceGain","texSize","uniform2f","activeTexture","TEXTURE1","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE0","clipSize","textureRect","canvasRect","drawRectangle","copyTexSubImage2D","posRect","texRect","texRect2","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","positionLocation","getAttribLocation","texcoordLocations","texRects","positionBuffer","bindBuffer","ARRAY_BUFFER","p_x1","p_x2","p_y1","p_y2","bufferData","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","texcoordBuffer","t_x1","t_x2","t_y1","t_y2","drawArrays","TRIANGLES","displayResolution","vertexRect","viewportAspectRatio","displayAspectRatio","baseTexRect","interlaceShift","interlace","canvasTexLowerLeft","getDisplayCanvasTexPoint","canvasTexUpperRight","canvasTexRect","canvasSize","canvasVideoSize","videoSize","barrelTexRect","texture","scanlineHeight","shadowMaskTexture","shadowMaskAspectRatio","scanlineLevel","displayScanlineLevel","displayShadowMask","shadowMaskDotPitch","displayShadowMaskDotPitch","shadowMaskElemX","displayPixelDensity","shadowMaskSize","TEXTURE2","LINEAR","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","p","videoCenter","dummy","DisplayConfiguration","ImageInfo","ImageData","hasOwn","hasOwnProperty","classNames","classes","arguments","arg","argType","Array","isArray","inner","apply","toString","prototype","key","call","join","default","___CSS_LOADER_EXPORT___","locals","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","cssWithMappingToString","list","content","needLayer","concat","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","_k","url","options","String","__esModule","test","slice","hash","needQuotes","replace","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","sourceMapping","sourceURLs","sources","sourceRoot","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","insert","style","target","styleTarget","querySelector","window","HTMLIFrameElement","contentDocument","head","getTarget","appendChild","element","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","getter","d","definition","defineProperty","enumerable","get","f","chunkId","promises","u","prop","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","onScriptComplete","event","clearTimeout","doneFns","forEach","fn","setTimeout","bind","Symbol","toStringTag","value","baseURI","location","href","installedChunks","installedChunkData","promise","error","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal","h","children","defaultProps","props","ref","__k","__","__b","__e","__d","__c","__h","__v","vnode","_","indexOf","g","__r","debounceRendering","sort","some","__P","__n","ownerSVGElement","z","A","P","N","M","nextSibling","insertBefore","$","setProperty","H","toLowerCase","addEventListener","T","I","removeEventListener","removeAttribute","contextType","__E","render","O","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","nodeType","createElementNS","is","childNodes","dangerouslySetInnerHTML","__html","innerHTML","checked","current","unmount","componentWillUnmount","S","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","__PREACT_DEVTOOLS__","attachPreact","Fragment","Component","displayName","__o","__source","fileName","lineNumber","console","warn","WeakMap","pop","useEffect","useLayoutEffect","lazyPropTypes","componentStack","propTypes","has","set","__f","nodeName","create","__self","__proto__","Header","className","rel","__H","F","shift","cancelAnimationFrame","requestAnimationFrame","filter","garbage","random","allocMem","idx","allocMemPages","pages","bytify","args","Apple2IO","cpu","vm","_slot","fill","_auxRom","_khz","_rate","_sample_size","_buffer","_key","_keyDown","_button","_paddle","_phase","_sample","_sampleIdx","_sampleTime","_didAudio","_high","_low","_trigger","_annunciators","_tape","_tapeOffset","_tapeNext","_tapeCurrent","init","_calcSampleRate","_debug","_args","_tick","now","getCycles","phase","_cycles_per_sample","_audioListener","_updateKHz","khz","_access","off","writeMode","delta","text","mixed","hires","page","charCodeAt","start","end","ioSwitch","slot","card","reset","blit","read","write","getState","annunciators","cards","cardState","setSlot","getSlot","keyDown","ascii","keyUp","buttonDown","buttonUp","paddle","updateKHz","getKHz","setKeyBuffer","split","setTape","tape","rate","sample_size","tick","addSampleListener","cb","annunciator","cycles","dim","orangeCol","greenCol","blueCol","violetCol","whiteCol","blackCol","_colors","r4","dcolors","notDirty","top","bottom","left","right","LoresPage2D","_refreshing","_blink","highColorTextMode","dirty","createImageData","setLoresPage","_drawPixel","color","c0","c1","c2","_drawHalfPixel","_checkInverse","inverse","_80colMode","altCharMode","bank0","_start","_end","_read","_write","bank1","bank","fore","back","col","adj","row","textMode","hiresMode","mixedMode","offset","jdx","colorMode","monoMode","odd","an3State","refresh","addr","blink","setInterval","rowToBase","ab","mapCharCode","charCode","getText","line","fromCharCode","trimRight","HiresPage2D","colorDHRMode","setHiresPage","_draw3Pixel","_draw4Pixel","rowa","rowb","dx","dy","bz","b0","b1","b2","b3","b4","oneSixtyMode","c3","c4","doubleHiresMode","mod","mcol","baseOff","hb","monoColor","monoDHRMode","hbs","dcolor","bits","mixedDHRMode","bb","rr","vv","v0","v1","v2","oddCol","evenCol","highColorHGRMode","flag","VideoModes2D","screen","_grs","_hgrs","_refreshFlag","ready","_canvas","screenContext","_screenContext","imageSmoothingEnabled","_left","_top","_refresh","pageMode","lores","getLoresPage","getHiresPage","on","old","_80col","altChar","an3","doubleHires","pageNo","isText","isMixed","isPage2","isHires","isDoubleHires","is80Col","isAltChar","buildScreen","mainData","mixData","putImageData","updateImage","mainDirty","mixDirty","blitted","altData","hgr","gr","grs","hgrs","mono","classList","add","scanlines","parent","parentElement","LoresPageGL","HiresPageGL","lastCol","cropLastPixel","val0","after","VideoModesGL","_scanlines","_sv","initOpenGL","_displayConfig","defaultMonitor","config","monitorII","imageInfo","clearRect","FLAVOR_6502","FLAVOR_ROCKWELL_65C02","FLAVOR_WDC_65C02","FLAVORS_65C02","sizes","accumulator","implied","immediate","absolute","zeroPage","relative","absoluteX","absoluteY","zeroPageX","zeroPageY","absoluteIndirect","zeroPageXIndirect","zeroPageIndirectY","zeroPageIndirect","absoluteXIndirect","zeroPage_relative","flags","BLANK_PAGE","CPU6502","flavor","pc","sr","ar","xr","yr","sp","memPages","resetHandlers","sync","wait","stop","readByte","readImmediate","readBytePC","readAbsolute","readWordPC","readZeroPage","readAbsoluteX","addrIdx","workCycleIndexedRead","readAbsoluteY","readZeroPageX","zpAddr","readZeroPageY","readZeroPageXIndirect","readZPWord","readZeroPageIndirectY","readZeroPageIndirect","writeAbsolute","writeByte","writeZeroPage","writeAbsoluteX","workCycleIndexedWrite","writeAbsoluteY","writeZeroPageX","writeZeroPageY","writeZeroPageXIndirect","writeZeroPageIndirectY","writeZeroPageIndirect","readAddrZeroPage","readAddrZeroPageX","readAddrAbsolute","readAddrAbsoluteIndirectBug","lsb","readAddrAbsoluteIndirect","readWord","readAddrAbsoluteX","opts","is65C02","inc","readAddrAbsoluteY","readAddrZeroPageXIndirect","readAddrZeroPageIndirectY","oldPage","readAddrAbsoluteXIndirect","readNop","readNopImplied","brk","readFn","pushWord","pushByte","setFlag","stp","wai","lda","testNZ","ldx","ldy","sta","writeFn","stx","sty","stz","adc","sbc","incA","increment","readAddrFn","oldVal","workCycle","inx","iny","decA","decrement","dec","dex","dey","shiftLeft","aslA","asl","shiftRight","lsrA","lsr","rotateLeft","rolA","rol","rorA","rotateRight","ror","and","ora","eor","rmb","bit","smb","trb","testZ","tsb","bitI","cmp","compare","cpx","cpy","brs","newPage","newOff","brc","bbr","newPC","bbs","tax","txa","tay","tya","tsx","txs","pha","pla","pullByte","phx","plx","phy","ply","php","plp","jmp","jsr","msb","rts","pullWordRaw","rti","clr","nop","aso","rla","lse","rra","axs","lax","dcm","ins","alr","arr","ah","al","b7","b6","xaa","oal","sax","tas","say","xas","axa","anc","las","skp","hlt","_impliedFn","OPS_6502","op","modeFn","mode","OPS_65C02","OPS_NMOS_6502","OPS_ROCKWELL_65C02","OPS_WDC_65C02","includes","ops","opary","unknown","a7","ci","co","updateFlags","bin","updateBCDFlags","unk","step","stepN","stepCycles","stepCyclesDebug","addPageHandler","pho","irq","nmi","getPC","setPC","getDebugInfo","cmd","getSync","getStop","getWait","getOpInfo","opcode","RAM","ep","start_page","end_page","mem","Switches","mmu","_page","AuxRom","rom","_setIntc8rom","_updateBanks","_val","MMU","lores1","lores2","hires1","hires2","io","_readPages","_writePages","_pages","_vbEnd","switches","auxRom","mem00_01","mem02_03","mem04_07","mem08_0B","mem0C_1F","mem20_3F","mem40_5F","mem60_BF","memC0_C0","memC1_CF","memD0_DF","memE0_FF","_initSwitches","_bank1","_readbsr","_writebsr","_prewrite","_auxRamRead","_auxRamWrite","_altzp","_intcxrom","_slot3rom","_intc8rom","__80store","_page2","_hires","_iouDisable","_accessMMUSet","_accessStatus","_accessIOUDisable","_accessGraphics","_accessLangCard","readMode","offSwitch","bank1Switch","bankStr","rwStr","writeBank","resetVB","readbsr","writebsr","auxread","auxwrite","altzp","_80store","page2","intcxrom","prewrite","slot3rom","intc8rom","auxRamRead","auxRamWrite","alwaysBreak","_info","dumpStatusRegister","Debugger","container","verbose","maxTrace","trace","breakpoints","Map","symbols","break","info","printDebugInfo","updateTrace","continue","run","runAt","address","isRunning","setVerbose","setMaxTrace","getTrace","printTrace","getStack","stack","isSP","addrStr","valStr","setBreakpoint","exp","clearBreakpoint","delete","listBreakpoints","entries","addSymbols","symbol","padWithSymbol","dumpRegisters","dumpRawOp","dumpOp","dumpPC","debugInfo","dumpPage","results","getMemory","bytes","setMemory","byte","padding","substring","parts","toHexOrSymbol","BUTTON","gamepad","DEFAULT_GAMEPAD","gamepadMap","gamepadState","entry","mapVal","parseInt","Apple2","paused","runTimer","runAnimationFrame","stats","frames","renderedFrames","romImportPromise","characterRomImportPromise","characterRom","LoresPage","HiresPage","VideoModes","enhanced","Apple2ROM","gr2","hgr2","ram","theDebugger","last","Date","runFn","kHz","stepMax","navigator","getGamepads","axes","buttons","button","pressed","processGamepad","clearInterval","getStats","getCPU","getIO","getMMU","getROM","getVideoModes","getDebugger","CPUMeter","apple2","lastStats","lastTime","setKhz","fps","setFps","rps","setRps","setMode","interval","time","onClick","Inset","useHotKey","callback","onKeyDown","ev","preventDefault","stopPropagation","ControlButton","active","icon","title","havePrefs","localStorage","Prefs","readPref","defaultValue","searchParams","getItem","writePref","history","replaceState","setItem","BOOLEAN_OPTION","SELECT_OPTION","OptionsContext","Consumer","Provider","prefs","handlers","sections","addOptions","handler","getOptions","section","option","getOption","setOption","defaultVal","stringVal","prefVal","Boolean","getSections","SOUND_ENABLED_OPTION","AudioContext","webkitAudioContext","Audio","sound","samples","started","autoStart","audioContext","resume","catch","isEnabled","AudioWorklet","workletReady","audioWorklet","addModule","workletNode","AudioWorkletNode","sample","port","postMessage","connect","destination","audioNode","createScriptProcessor","onaudioprocess","outputBuffer","getChannelData","len","ontouchstart","label","AudioControl","audioEnabled","setAudioEnabled","audio","setAudio","doToggleSound","disabled","E","isPureReactComponent","for","__u","U","__R","__O","fallback","revealOrder","reverse","V","configurable","writable","Z","Y","cancelBubble","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","J","class","K","multiple","selected","$$typeof","Q","ModalOverlay","ModalContent","ModalFooter","role","ModalCloseButton","onClose","doClose","ModalHeader","Modal","isOpen","body","setValue","onChange","currentTarget","Select","values","OptionsModal","makeOption","Parallel","cbs","access","putChar","_state","Printer","setIsOpen","setContent","raw","rawLength","setHref","visible","char","newRaw","parallel","blob","Blob","createObjectURL","onClear","onOpen","tabIndex","download","JOYSTICK_DISABLE","mouseMode","JoyStick","disableMouseJoystick","flipX","flipY","swapXY","mousemove","evt","getBoundingClientRect","pageX","pageY","querySelectorAll","which","SCREEN_MONO","SCREEN_FULL_PAGE","SCREEN_SCANLINE","SCREEN_GL","Screen","enterFullScreen","elem","getElementById","fullscreenEnabled","fullscreenElement","exitFullscreen","requestFullscreen","webkitRequestFullScreen","webkitIsFullScreen","webkitCancelFullScreen","setFullPage","SYSTEM_TYPE_APPLE2E","SYSTEM_CPU_ACCELERATED","System","ControlStrip","toggleDebugger","showOptions","setShowOptions","setIO","system","joystick","doReset","doReadme","open","doShowOptions","doCloseOptions","doToggleFullPage","flexGrow","Tab","TabWrapper","Tabs","setSelected","innerSelected","setInnerSelected","innerSetSelected","child","TOKEN_TO_STRING","LETTERS","resolveToken","token","tokenString","DEFAULT_LIST_OPTIONS","columns","DEFAULT_DECOMPILE_OPTIONS","ApplesoftDecompiler","nextLine","wordAt","nextLineIndex","TXTTAB","PRGEND","forEachLine","from","to","nextLineAddr","nextLineNo","listLine","lines","lineNo","unshift","allOptions","compactLine","spaceIf","nextToken","toUpperCase","startsWith","prettyLine","inString","decompile","VariableType","ApplesoftHeap","readInt","readFloat","unpacked","exponent","sb3","sb2","sign","readString","str","readVar","firstByte","lastByte","firstLetter","lastLetter","readArray","strLen","strAddr","dumpInternals","txttab","fac","curline","dumpVariables","simpleVariableTable","arrayVariableTable","variableStorageEnd","vars","Float","Function","Integer","TYPE_SYMBOL","TYPE_NAME","formatArray","Variable","variable","arrayStr","Applesoft","animationRef","setData","listing","variables","internals","heap","setHeap","animate","decompiler","decompilerFromMemory","spawn","abortController","AbortController","signal","Ready","errorHandler","onReady","onError","ACCEPT_EVERYTHING_TYPE","description","accept","controlDefault","showOpenFilePicker","InputFileChooser","inputRef","filesRef","onChangeInternal","files","newFiles","extraProps","newAccept","suffixes","FilePickerChooser","busy","setBusy","selectedFilename","setSelectedFilename","fileHandles","setFileHandles","onClickInternal","pickedFiles","excludeAcceptAllOption","types","FileChooser","control","rest","onChangeForInput","handles","file","kind","getFile","createWritable","_options","queryPermission","descriptor","requestPermission","isSameEntry","_unused","isDirectory","isFile","onChangeForPicker","DRIVE_NUMBERS","NO_DISK","ENCODING_NIBBLE","ENCODING_BITSTREAM","ENCODING_BLOCK","NIBBLE_FORMATS","DISK_FORMATS","isNoFloppyDisk","disk","encoding","isNibbleDisk","isWozDisk","getHashParts","match","setHashParts","getNameAndExtension","fileParts","ext","decodeURIComponent","loadLocalFile","storage","formats","driveNo","fileReader","FileReader","setBinary","readAsArrayBuffer","loadJSON","disk2","response","fetch","ok","statusText","json","setDisk","loadHttpUnknownFile","smartStorageBroker","onProgress","reader","getReader","contentLength","headers","received","chunks","chunk","loadHttpFile","SmartStorageBroker","smartPort","byteLength","getBinary","_drive","loadLocalBinaryFile","debug","_reject","CIDERPRESS_EXTENSION","VALID_PAGE","VALID_ADDRESS","ERROR_ICON","CPU","running","registers","memory","memoryPage","setMemoryPage","loadAddress","setLoadAddress","setRun","doPause","doRun","doStep","doLoadAddress","doRunCheck","doMemoryPage","doChooseFile","atAddress","matches","aux","memoryPageValid","loadAddressValid","maxLength","B64","base64_encode","o1","o2","o3","h1","h2","h3","h4","ac","enc","tmp_arr","charAt","base64_decode","DO","_DO","PO","_PO","D13O","_D13O","TRANS53","DETRANS53","TRANS62","DETRANS62","fourXfour","xx","yy","defourXfour","explodeSector16","volume","track","sector","gap","buf","checksum","nibbles","idx2","idx6","val6","val2","explodeSector13","a5","a3","b5","c5","d5","d3","e5","e3","LookingFor","FindSectorError","super","findSector","tracks","sectors","START_OF_FIELD_MARKER_FIRST_NIBBLE","retry","_readNext","_skipBytes","checkSum","START_OF_FIELD_MARKER_SECOND_NIBBLE","FIELD_TYPE_MARKER","ADDRESS_FIELD","DATA_FIELD_6AND2","DATA_FIELD_5AND3","nibble","InvalidChecksum","expected","ReadSectorError","readSector","trackNibble","dOff","eOff","readSector13","data2","kdx","readSector16","grabNibble","waitForOne","createDiskFromDOS","side","rawData","readOnly","metadata","physical_sector","dos_sector","createDiskFromNibble","createDiskFromProDOS","physical_track","prodos_sector","FLAGS","FORMAT","read2MGHeader","prefix","DataView","TextDecoder","signature","decode","OFFSETS","creator","headerLength","getInt16","getInt32","blocks","commentOffset","commentLength","creatorDataOffset","creatorDataLength","ProDOS","dataEnd","commentEnd","creatorDataEnd","extras","comment","creatorData","DOS","createDiskFrom2MG","NIB","stringFromBytes","byteArray","byteOffset","InfoChunk","sides","bootSector","bitTiming","compatibleHardware","requiredRAM","largestTrack","version","getUint8","diskType","writeProtected","synchronized","cleaned","getUint16","TMapChunk","trackMap","TrksChunk","TrksChunk1","rawTracks","trackNo","rawTrack","trackData","trackBitCount","byteIndex","bitIndex","TrksChunk2","trks","startBlock","blockCount","bitCount","getUint32","trk","MetaChunk","acc","part","subParts","createDisk","fmt","disk_sector","dv","wozVersion","dvOffset","readChunk","WOZ_HEADER_START","readHeader","tmap","meta","createDiskFromWoz","BOOTSTRAP_ROM_16","BOOTSTRAP_ROM_13","EmptyDriver","drive","onQ6Low","onQ6High","_readMode","onDriveOn","onDriveOff","clampTrack","BaseDiskDriver","controller","isOn","isWriteProtected","NibbleDiskDriver","onDirty","skip","nibbleCount","q7","bus","latch","WozDiskDriver","lastCycles","zeros","clock","moveHead","workCycles","pulse","q6","command","SEQUENCER_ROM","lastTrack","BOOTSTRAP_ROM","PHASE_DELTA","getDiskState","DiskII","callbacks","drives","disks","driver","offTimeout","updateActiveDrive","initWorker","curDrive","curDriver","setPhase","driveLight","updateDirty","getDriveState","curDisk","controllerState","setDriveState","setDiskInternal","getMetadata","rwts","jsonDisk","worker","payload","createDiskFromJsonDisk","insertDisk","getJSON","pretty","_sector","jsonEncode","setJSON","parse","_s","isNibbleDiskFormat","jsonDecode","Worker","maxSector","sectorMap","getBase64","createBlockDisk","ID","Address","lo","hi","loByte","hiByte","readLo","readAddress","readHi","writeWord","writeAddress","SmartPort","busyTimeout","block","dumbPortRom","dumpBlock","getDeviceInfo","readBlock","writeBlock","formatDevice","unit","blockOff","smartOff","bufferAddr","blockAddr","driveSlot","stackAddr","retVal","cmdBlockAddr","cmdListAddr","parameterCount","status","header","headerData","suffix","prefixView","prefixLength","dataLength","commentData","TextEncoder","encode","encoder","setInt32","setInt16","create2MGFragments","imageLength","create2MGFromBlockDisk","BLOCK_SIZE","FILE_TYPES","ProDOSFile","SaplingFile","fileEntry","bitMap","getBlockPointers","saplingBlock","keyPointer","seedlingPointers","pointers","seedlingPointer","remainingLength","eof","storageType","allocBlock","setUint8","freeBlock","SeedlingFile","seedlingBlock","TreeFile","treeBlock","saplingPointers","saplingPointer","ENTRY_OFFSETS","FileEntry","fileType","auxType","blocksUsed","creation","lastMod","headerPointer","nameLength","caseBits","readFileName","uint32ToDate","writeFileName","setUint16","setUint32","dateToUint32","getFileData","getFileText","hex","readEntries","entryLength","next","fileCount","entriesPerBlock","writeEntries","parentEntryLength","parentEntryNumber","vdh","yearMonthDay","hourMinute","year","date","getFullYear","month","getMonth","day","getDate","getHours","getMinutes","VDH","bitMapPointer","totalBlocks","BLOCK_ENTRIES","BitMap","freeBlocks","free","blockOffset","bitOffset","bitMapBlock","mask","ProDOSVolume","_disk","_vdh","_bitMap","TOKENS","IntBasicDump","himem","inRem","inQuote","isAlphaNum","lineno","DEFAULT_VTOC_TRACK_SECTOR","DOS33","vtoc","readVolumeTOC","_data","writeSector","dumpSector","readFileTrackSectorList","full","fileTrackSectorList","trackSectorList","readFile","allocateSector","trackSectorMap","findIndex","lastAllocationTrack","allocationDirection","catalog","trackCount","freeSectorCount","usedSectorCount","writeFile","fileData","sectorByteCount","trackSectorListSize","dataRequiredSectors","requiredSectors","lastTrackSectorList","sectorData","writeVolumeTOC","writeCatalog","dumpFile","trackSector","sectorCount","bitmap","readCatalog","catTrack","catSector","locked","deleted","getVolumeNumber","HiresPreview","binary","canvasRef","DoubleHiresPreview","FileViewer","binaryHref","setBinaryHref","textHref","setTextHref","binaryBlob","textBlob","formatDate","toLocaleString","dateStyle","timeStyle","FileListing","depth","setFileData","doSetFileData","repeat","DirectoryListing","dirEntry","setOpen","CatalogEntry","dos","Catalog","DiskInfo","massStorage","massStorageData","doData","DEFAULT_VTOC_TRACK","isMaybeDOS33","isBlockDiskFormat","isBlockDisk","prodos","freeCount","usedCount","colSpan","Disks","LanguageCard","_bsr2","bank2","write1","write2","read1","read2","updateBanks","bsr2","calcLC","calcHires","page2sel","calcText","readAndWrite","rw","LanguageCardMap","lc","Legend","Memory","banks","setBanks","setLC","main","zp","calcBanks","calcLanguageCard","setText","setHires","setPage2","canvas1","canvas2","canvas3","canvas4","ErrorModal","setError","errorStr","SPECIAL_KEY_MAP","SPECIAL_KEY_CODE","keys2","keys2e","SHIFTED","mapKeyboardEvent","caps","isSpecialKey","keyLabel","isShiftyKey","keyCode","hasSpecialKeyCode","mapMouseEvent","shifted","controlled","dataset","key2","buildLabel","small","Key","lower","upper","onMouseDown","onMouseUp","keyName","center","Keyboard","setPressed","setActive","inKeys","rows","keysAsTuples","activeElement","toggleActive","bindKey","MouseUI","setMouse","mouse","enableMouseMode","updateTouchXY","targetTouches","rect","leftPad","topPad","clientX","clientY","xPos","yPos","setMouseXY","setMouseDown","offsetX","offsetY","Mouse","clampXMin","clampYMin","clampXMax","clampYMax","down","lastDown","lastX","lastY","serve","shouldIntMove","shouldIntPress","_off","holeWrite","holeRead","clearCarry","moved","mouseXLow","mouseYLow","mouseXHigh","mouseYHigh","rangeX","rangeY","screenRef","mouseUI","useHash","setHash","popstateListener","DISK_TYPES","FileModal","empty","setEmpty","category","setCategory","setHandles","filename","setFilename","setIndex","indexResponse","doCancel","doOpen","hashParts","loadLocalNibbleFile","doSelectCategory","doSelectFilename","categories","categoryNames","DiskDragTarget","dropRef","div","onDragOver","dt","dataTransfer","items","every","dropEffect","onDragEnd","clearData","onDrop","targetDrive","DownloadModal","downloadName","setDownloadName","storageData","number","modalOpen","setModalOpen","downloadModalOpen","setDownloadModalOpen","onOpenModal","doCloseDownload","onOpenDownloadModal","BlockFileModal","loadLocalBlockFile","BlockDisk","ProgressModal","total","Drives","setCurrent","setTotal","bodyRef","storageDevices","setStorageDevices","data1","setData1","setData2","smartData1","setSmartData1","smartData2","setSmartData2","controllers","loading","hashPart","isHttp","isJson","abort","setSmartData","smartPortCallbacks","RAMFactor","firmware","ramlo","rammid","ramhi","loc","sethi","setmid","setlo","Slinky","slinky","Thunderclock","strobe","shiftMode","register","calcBits","shiftBCD","weekday","getDay","hour","minutes","seconds","getSeconds","ThunderClock","ROM","VIDEO_ROM","BLACK","WHITE","Videoterm","regs","curReg","refreshCursor","updateBuffer","saddr","startPos","cdata","fromRegs","blinkmode","cursorPos","caddr","updateStartPos","shouldRefresh","videoterm","setApple2","setReady","showDebug","setShowDebug","drivesReady","doPaste","paste","clipboardData","getData","doCopy","aborted","apple2e","usePrefs","defaultSystem","systemTypes","apple2rm","apple2ex","apple213","original","apple2jplus","apple2pig","apple2lc","apple2plus","systemType"],"mappings":"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AAK,IAAK,EAAK,IAAK,EAAK,IAAK,GACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,EAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,EAAK,IAAK,IAAK,GACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,EAAK,GAAK,EAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,EAAK,IAAK,GAAK,GAAK,EAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,EAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,EAAK,EACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,EAAK,IAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,GAAK,EACnC,EAAK,GAAK,GAAK,EAAK,EAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IA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M,IAAM,IAAM,IAAM,IAC1F,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,EAAM,EAAM,IAAM,IAAM,EAAM,EAAM,IAAM,IAC1F,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,EAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,EAAM,EAAM,IAAM,IAAM,EAAM,GAgC1F,GA7BqB,CAQrB,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAC1F,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAC1F,IAAM,GAAM,EAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAC1F,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAC1F,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM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,IAKnB,SAAe,MAAW,YAAiB,iBAAiBtE,EClB7DuqD,GAA+B,CACjC,EAAM,SACN,EAAM,MACN,EAAM,IACN,EAAM,IACN,EAAM,OACN,EAAM,OACN,EAAM,MACN,EAAM,MACN,EAAM,MACN,EAAM,MACN,GAAM,IACN,GAAM,MACN,GAAM,MACN,GAAM,OACN,GAAM,IACN,GAAM,MACN,GAAM,SACN,GAAM,SACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,KACN,GAAM,IACN,GAAM,KACN,GAAM,KACN,GAAM,IACN,GAAM,MACN,GAAM,KACN,GAAM,MACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,OACN,GAAM,OACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,OACN,GAAM,MACN,GAAM,MACN,GAAM,MACN,GAAM,MACN,GAAM,OACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,MACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,OACN,GAAM,OACN,GAAM,QACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,OACN,GAAM,KACN,GAAM,OACN,GAAM,MACN,GAAM,MACN,GAAM,MACN,GAAM,MACN,GAAM,QACN,GAAM,QACN,GAAM,QACN,GAAM,MACN,GAAM,IACN,GAAM,KACN,GAAM,OACN,GAAM,OACN,GAAM,IACN,GAAM,SACN,GAAM,QACN,GAAM,MACN,GAAM,MACN,GAAM,OACN,GAAM,KACN,GAAM,QACN,GAAM,QACN,GAAM,QACN,IAAM,OACN,IAAM,IACN,IAAM,SACN,IAAM,OACN,IAAM,IACN,IAAM,OACN,IAAM,IACN,IAAM,KACN,IAAM,OACN,IAAM,IACN,IAAM,KACN,IAAM,OACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,OACN,IAAM,IACN,IAAM,OACN,IAAM,MACN,IAAM,QACN,IAAM,QACN,IAAM,UACN,IAAM,MACN,IAAM,MACN,IAAM,QACN,IAAM,MACN,IAAM,OAGK,MAAMC,GACjBlkE,YAAoBkB,GAAA,KAAAA,MAAoB,CAEhCi6B,SAASxJ,GACb,OAAOxxB,KAAKe,KAAKywB,EACrB,CAEQ0L,SAAS1L,GACb,MAAMwL,EAAMh9B,KAAKg7B,SAASxJ,GAG1B,OAFYxxB,KAAKg7B,SAASxJ,EAAO,IAElB,EAAKwL,CACxB,CAEAplB,WACI,IAAIyqC,EAAM,GACN7wB,EAAO,EACX,MAAMwyC,EAAQhkE,KAAKe,KAAKW,OACxB,EAAG,CACC,IAAIuiE,GAAQ,EACRC,GAAU,EACVC,GAAa,EACInkE,KAAKg7B,SAASxJ,KACnC,MAAM4yC,EAASpkE,KAAKk9B,SAAS1L,GAC7BA,GAAQ,EAER6wB,GAAO+hB,EACP/hB,GAAO,IACP,IAAIn+C,EAAM,EACV,GAEI,GADAA,EAAMlE,KAAKg7B,SAASxJ,MACfyyC,IAAUC,IAAYC,GAAcjgE,GAAO,KAAQA,GAAO,IAC3Dm+C,GAAOriD,KAAKk9B,SAAS1L,GACrBA,GAAQ,OACL,GAAIttB,EAAM,KAAQA,EAAM,EAAM,CACjC,MAAMvD,EAAImjE,GAAO5/D,GACbvD,EAAEe,OAAS,IAAK2gD,GAAO,KAC3BA,GAAO1hD,EACHA,EAAEe,OAAS,IAAK2gD,GAAO,KACf,KAARn+C,IAAgBggE,GAAU,GAClB,KAARhgE,IAAgBggE,GAAU,GAClB,KAARhgE,IAAgB+/D,GAAQ,GAC5BE,GAAa,C,MACV,GAAIjgE,EAAM,IAAM,CACnB,MAAMw3C,EApLtB,qIAoLqCx3C,EAAM,KAC3Bm+C,GAAO3G,EACPyoB,EAAa,WAAWrqD,KAAK4hC,E,QAEpB,IAARx3C,GACTm+C,GAAO,I,OACF7wB,EAAOwyC,GAEhB,OAAO3hB,CACX,ECxLG,MAMMgiB,GAA4B,CACrCzV,MAP8B,GAQ9BC,OAL+B,GAuGnC,SAAS,GAAavG,GAClB,QAAWA,EAA4B,QAC3C,CAKO,MAAMgc,GAUTzkE,YAAoByoD,GAAA,KAAAA,OAChBtoD,KAAKukE,KAAOvkE,KAAKwkE,eACrB,CAYA3J,KAAKjM,EAAaC,EAAc9tD,GAC5B,GAAIA,EACA,GAAI,GAAaf,KAAKsoD,O9B6e3B,SAAqBA,EAAkBsG,EAAaC,EAAc4V,GACjDvU,GAAW5H,EAAMsG,EAAOC,EAQhD,C8BrfgB6V,CAAY1kE,KAAKsoD,KAAMsG,EAAOf,GAAIgB,QAC/B,CACH,MAAM59B,EAAiB,KAAR29B,EAA0B,IAATC,EAChC,IAAItgD,WAAWvO,KAAKsoD,KAAKvnD,MAAM0mB,IAAI1mB,EAAMkwB,E,MAG7C,GAAI,GAAajxB,KAAKsoD,MAClBvnD,EAAOowD,GAAWnxD,KAAKsoD,KAAMsG,EAAOf,GAAIgB,QACrC,CACH,MAAM59B,EAAiB,KAAR29B,EAA0B,IAATC,EAEhC9tD,EAAO,IAAIwN,WAAWvO,KAAKsoD,KAAKvnD,KAAKgZ,MAAMkX,EAAQA,EAAS,K,CAGpE,OAAOlwB,CACX,CASA4jE,WAAW/V,EAAaC,GACpB,IAAI5zC,EAAS,GACb,MAAMla,EAAOf,KAAK66D,KAAKjM,EAAOC,GAC9B,IAAIjuD,EACJ,IAAK,IAAI+nB,EAAM,EAAGA,EAAM,GAAIA,IAAO,CAC/B1N,GAAU,GAAM0N,GAAO,GAAK,KAC5B,IAAK,IAAIuI,EAAM,EAAGA,EAAM,GAAIA,IACxBtwB,EAAIG,EAAW,GAAN4nB,EAAWuI,GACpBjW,GAAU,GAAMra,GAAK,IAEzBqa,GAAU,WACV,IAAK,IAAIiW,EAAM,EAAGA,EAAM,GAAIA,IACxBtwB,EAA2B,IAAvBG,EAAW,GAAN4nB,EAAWuI,GAEhBjW,GADAra,GAAK,IAAQA,EAAI,IACPgZ,OAAOqY,aAAarxB,GAEpB,IAGlBqa,GAAU,I,CAEd,OAAOA,CACX,CASA2pD,wBAAwB3d,EAAiB4d,GACrC,MAAMC,EAAsB,GAC5B,IAAI,MAAElW,EAAK,OAAEC,GAAW5H,EAAK8d,gBAC7B,KAAOnW,GAASC,GAAQ,CAChBgW,GACAC,EAAoBr5D,KAAK,CAAEmjD,QAAOC,WAEtC,IAAI39B,EAAM,EACV,MAAMnwB,EAAOf,KAAK66D,KAAKjM,EAAOC,GAC9BD,EAAQ7tD,EAAK,GACb8tD,EAAS9tD,EAAK,GACd,IAAIkwB,EAAS,GACb,MAAQlwB,EAAKkwB,IAAWlwB,EAAKkwB,EAAS,KAAOC,EAAM,KAC/C4zC,EAAoBr5D,KAAK,CACrBmjD,MAAO7tD,EAAKkwB,GACZ49B,OAAQ9tD,EAAKkwB,EAAS,KAE1BA,GAAU,EACVC,G,CAGR,OAAO4zC,CACX,CAQAE,SAAS/d,GACL,IACIt+B,EADA5nB,EAAe,GAEnB,MAAM+jE,EAAsB9kE,KAAK4kE,wBAAwB3d,GACzD,IAAKt+B,EAAM,EAAGA,EAAMm8C,EAAoBpjE,OAAQinB,IAAO,CACnD,MAAM,MAAEimC,EAAK,OAAEC,GAAWiW,EAAoBn8C,GAC9C5nB,EAAOA,EAAKkY,OAAO,IAAIjZ,KAAK66D,KAAKjM,EAAOC,I,CAE5C,IAAI59B,EAAS,EACTvvB,EAAS,EACTurC,EAAU,EAEd,OAAQga,EAAK7/C,MACT,IAAK,IACL,IAAK,IACD6pB,EAAS,EACTvvB,EAASX,EAAK,GAAKA,EAAK,IAAM,EAC9B,MACJ,IAAK,IAED,IADAW,EAAS,EACFX,EAAKW,IAAWA,IACvB,MACJ,IAAK,IACDuvB,EAAS,EACTgc,EAAUlsC,EAAK,GAAKA,EAAK,IAAM,EAC/BW,EAASX,EAAK,GAAKA,EAAK,IAAM,EAMtC,OAFAA,EAAOA,EAAKgZ,MAAMkX,EAAQA,EAASvvB,GAE5B,CAAEX,KAAM,IAAIwN,WAAWxN,GAAOksC,UACzC,CAOAg4B,iBACI,MAAM,KAAEV,GAASvkE,KACXkwD,EAActB,GACE2V,EAAKW,eAAetW,GACrBuW,WAAWtW,GAAoBA,IAIpD,IAAID,EADc2V,EAAKa,oBAEnBvW,EAASqB,EAAWtB,GACxB,MAAmB,IAAZC,GAAe,CAClB,GAAiC,IAA7B0V,EAAKc,oBACLzW,GAAgB,EACZA,EAAQ,IACRA,EAAQ2V,EAAKe,QAAQ1W,MACrB2V,EAAKc,oBAAsB,UAI/B,GADAzW,GAAgB,EACZA,GAAS2V,EAAKgB,WACd,MAAM,IAAIlmE,MAAM,2BAGxBwvD,EAASqB,EAAWtB,E,CAMxB,OAHA2V,EAAKa,oBAAsBxW,EAC3B2V,EAAKW,eAAetW,GAAOC,IAAU,EAE9B,CAAED,QAAOC,SACpB,CAOA2W,kBACI,OAAOxlE,KAAKukE,KAAKW,eAAeniE,QAAO,CAACuY,EAAO2e,IAC3C3e,EAAQ2e,EAAMl3B,QAAO,CAACuY,EAAOmZ,IACzBnZ,GAASmZ,EAAO,EAAI,IACrB,IACJ,EACP,CAOAgxC,kBACI,OAAOzlE,KAAKukE,KAAKW,eAAeniE,QAAO,CAACuY,EAAO2e,IAC3C3e,EAAQ2e,EAAMl3B,QAAO,CAACuY,EAAOmZ,IACzBnZ,GAASmZ,EAAO,EAAI,IACrB,IACJ,EACP,CASAixC,UAAUze,EAAiB0e,GACvB,IAAIhT,EAAiB,IACjB,KAAE5xD,GAAS4kE,EACf,OAAQ1e,EAAK7/C,MACT,IAAK,IACL,IAAK,IACDurD,EAAS,CACL5xD,EAAKW,OAAS,IACdX,EAAKW,QAAU,GAEnB,MACJ,IAAK,IACDixD,EAAS,CACLgT,EAAS14B,QAAU,IACnB04B,EAAS14B,SAAW,EACpBlsC,EAAKW,OAAS,IACdX,EAAKW,QAAU,GAI3BX,EAAO,IAAIwN,WAAWokD,EAAOjxD,OAASX,EAAKW,QAC3CX,EAAK0mB,IAAIkrC,GACT5xD,EAAK0mB,IAAI1mB,EAAM4xD,EAAOjxD,QAEtB,MAAM,gBAAEkkE,EAAe,oBAAEC,GAAwB7lE,KAAKukE,KAChDuB,EAAsBjkE,KAAKkN,KAAKhO,EAAKW,OAASkkE,GAE9CG,EAAkBD,EADcjkE,KAAKkN,KAAK+2D,EAAsBD,GAEtE,IAAIl9C,EACAynC,EAAyB,GAK7B,GAHInJ,EAAK8d,kBACL3U,EAAUpwD,KAAK4kE,wBAAwB3d,GAAM,IAE7CmJ,EAAQ1uD,OAASqkE,EAAiB,CAClC,IAAKp9C,EAAMo9C,EAAiBp9C,EAAMynC,EAAQ1uD,OAAQinB,IAAO,CACrD,MAAM,MAAEimC,EAAK,OAAEC,GAAWuB,EAAQznC,GAClC3oB,KAAKukE,KAAKW,eAAetW,GAAOC,IAAU,C,CAE9CuB,EAAUA,EAAQr2C,MAAM,EAAGgsD,E,CAE/B,GAAI3V,EAAQ1uD,OAASqkE,EACjB,IAAKp9C,EAAMynC,EAAQ1uD,OAAQinB,EAAMo9C,EAAiBp9C,IAC9CynC,EAAQ3kD,KAAKzL,KAAKilE,kBAG1Bhe,EAAK8d,gBAAkB,OAAH,UAAQ3U,EAAQ,IACpCnJ,EAAKzmD,KAAOulE,EAEZ,IAAI70C,EAAM,EACN80C,EAAsB,KAE1B,IAAKr9C,EAAM,EAAGA,EAAMm9C,EAAqBn9C,IAAO,CAC5C,IAAIkmC,EACAoX,EAEJ,MAAM,oBAAEJ,GAAwB7lE,KAAKukE,KACrC,GAAI57C,EAAMk9C,GAAwB,EAAG,CASjC,IARAhX,EAASuB,EAAQhoC,QACjB69C,EAAa,IAAI13D,WACby3D,IACAA,EAAoB,GAAQnX,EAAOD,MACnCoX,EAAoB,GAAQnX,EAAOA,QAEvCoX,EAAW,GAAc,IAANt9C,EACnBs9C,EAAW,GAAQt9C,GAAO,EACrBuI,EAAM,EAAGA,EAAM20C,GAAuB30C,EAAMk/B,EAAQ1uD,OAAQwvB,IAAO,CACpE,MAAMD,EAAS,GAAY,EAANC,EACrB+0C,EAAWh1C,GAAUm/B,EAAQl/B,GAAK09B,MAClCqX,EAAWh1C,EAAS,GAAKm/B,EAAQl/B,GAAK29B,M,CAE1CmX,EAAsBC,EACtBjmE,KAAK66D,KAAKhM,EAAOD,MAAOC,EAAOA,OAAQ,IAAItgD,WAAW03D,G,CAG1DpX,EAASuB,EAAQhoC,QACjB69C,EAAa,IAAI13D,WAAW,KAC5B03D,EAAWx+C,IAAI1mB,EAAKgZ,MAAM,EAAG,MAC7BhZ,EAAOA,EAAKgZ,MAAM,KAClB/Z,KAAK66D,KAAKhM,EAAOD,MAAOC,EAAOA,OAAQoX,E,CAE3CjmE,KAAKkmE,iBACLlmE,KAAKmmE,cACT,CAQAC,SAASnf,GACL,IAAIhsC,EAAS,KACb,MAAM0qD,EAAW3lE,KAAKglE,SAAS/d,GAC/B,OAAQA,EAAK7/C,MACT,IAAK,IACD6T,EAAS,IAAI,GAAc0qD,EAAS5kE,KAAM,GAAG2gD,YAC7C,MACJ,IAAK,IACDzmC,EAAS,IAAI,GAAiB0qD,EAAS5kE,MAAM6W,WAC7C,MACJ,IAAK,IACDqD,EAAS,GACT,IAAK,IAAI0N,EAAM,EAAGA,EAAMg9C,EAAS5kE,KAAKW,OAAQinB,IAAO,CACjD,MAAM+yB,EAA4B,IAArBiqB,EAAS5kE,KAAK4nB,GAGnB1N,GAFJygC,EAAO,GACM,KAATA,EACU,KAEA,IAAI,GAAMA,KAGd9hC,OAAOqY,aAAaypB,E,CAGtC,MAEJ,QAAS,CACLzgC,EAAS,GACT,IAAIymD,EAAM,GACN10C,EAAQ,GACZ,IAAK,IAAIrE,EAAM,EAAGA,EAAMg9C,EAAS5kE,KAAKW,OAAQinB,IAAO,CACjD,MAAMzkB,EAAMyhE,EAAS5kE,KAAK4nB,GACtBA,EAAM,IAAO,IACD,IAARA,IACA1N,GAAU,GAAGymD,QAAU10C,OAE3B00C,EAAM,GACN10C,EAAQ,GACR/R,GAAU,GAAG,GAAM0qD,EAAS14B,QAAUtkB,EAAK,OAE/C+4C,GAAO,IAAI,GAAMx9D,KACjB8oB,IAAgB,IAAN9oB,IAAe,GAAO0V,OAAOqY,aAAmB,IAAN/tB,GAAc,G,CAEtE+W,GAAU,I,EAGlB,OAAOA,CACX,CAQAupD,cAAc6B,EAA2BhC,IACrC,MAAMtjE,EAAOf,KAAK66D,KAAKwL,EAAYzX,MAAOyX,EAAYxX,QACtD7uD,KAAKukE,KAAO,CACRe,QAAS,CACL1W,MAAO7tD,EAhdJ,GAidH8tD,OAAQ9tD,EAhdJ,IAkdR+zD,QAAS/zD,EAjdR,GAkdD4tD,OAAQ5tD,EAjdR,GAkdA8kE,oBAAqB9kE,EAjdL,IAkdhBqkE,oBAAqBrkE,EAjdN,IAkdfskE,oBAAqBtkE,EAjdP,IAkddwkE,WAAYxkE,EAjdP,IAkdLulE,YAAavlE,EAjdP,IAkdN6kE,gBAAiB7kE,EAjdF,IAkdVA,EAjdW,KAidkC,EAClDmkE,eAAgB,IAGpB,IAAK,IAAIv8C,EAAM,EAAGA,EAAM3oB,KAAKukE,KAAKgB,WAAY58C,IAAO,CACjD,MAAMmzC,EAAY,GACZ7qC,EAAS,GAAa,EAANtI,EACtB,IAAI49C,EACCxlE,EAAKkwB,IAAW,GAChBlwB,EAAKkwB,EAAS,IAAM,GACpBlwB,EAAKkwB,EAAS,IAAM,EACrBlwB,EAAKkwB,EAAS,GAElB,IAAK,IAAIC,EAAM,EAAGA,EAAMlxB,KAAKukE,KAAK+B,YAAap1C,IAC3C4qC,EAAU7a,WAAoB,WAATslB,IACrBA,IAAW,EAEfvmE,KAAKukE,KAAKW,eAAez5D,KAAKqwD,E,CAKlC,OAFA,GAAM,eAAe97D,KAAKukE,KAAK5V,UAExB3uD,KAAKukE,IAChB,CAOA2B,eAAeG,EAA2BhC,IACtC,MAAM,KAAEE,GAASvkE,KACXe,EAAO,IAAIwN,WAAW,KAAO6a,KAAK,GACxCroB,EA5fW,GA4fwBwjE,EAAKe,QAAQ1W,MAChD7tD,EA5fY,GA4fwBwjE,EAAKe,QAAQzW,OACjD9tD,EA5fK,GA4fwBwjE,EAAKzP,SAAW,EAC7C/zD,EA5fI,GA4fwBwjE,EAAK5V,QAAU,IAC3C5tD,EA5foB,IA4fwBwjE,EAAKsB,qBAAuB,IACxE9kE,EA5fmB,IA4fwBwjE,EAAKa,oBAChDrkE,EA5fkB,IA4fwBwjE,EAAKc,oBAC/CtkE,EA5fS,IA4fwBwjE,EAAKgB,WACtCxkE,EA5fU,IA4fwBwjE,EAAK+B,YACvCvlE,EA5fmB,IA4f+C,IAAvBwjE,EAAKqB,gBAChD7kE,EA5foB,IA4fwBwjE,EAAKqB,iBAAmB,EAEpE,IAAK,IAAIj9C,EAAM,EAAGA,EAAM47C,EAAKW,eAAexjE,OAAQinB,IAAO,CACvD,MAAMsI,EAAS,GAAa,EAANtI,EAChBmzC,EAAYyI,EAAKW,eAAev8C,GAEtC,IAAI86C,EAAO,EACX,IAAK,IAAIvyC,EAAM,EAAGA,EAAM4qC,EAAUp6D,OAAQwvB,IACtCuyC,IAAS,EACL3H,EAAU5qC,KACVuyC,GAAQ,YAIhB1iE,EAAKkwB,GAAWwyC,GAAQ,GAAM,IAC9B1iE,EAAKkwB,EAAS,GAAMwyC,GAAQ,GAAM,IAClC1iE,EAAKkwB,EAAS,GAAMwyC,GAAQ,EAAK,IACjC1iE,EAAKkwB,EAAS,GAAY,IAAPwyC,C,CAEvBzjE,KAAK66D,KAAKwL,EAAYzX,MAAOyX,EAAYxX,OAAQ9tD,EACrD,CAOAylE,cACI,MAAM,QAAElB,GAAYtlE,KAAKukE,KACzBvkE,KAAK4lD,MAAQ,GAEb,IAAI6gB,EAAWnB,EAAQ1W,MACnB8X,EAAYpB,EAAQzW,OACxB,KAAO6X,GAAaD,GAAU,CAC1B,MAAM1lE,EAAOf,KAAK66D,KAAK4L,EAAUC,GAEjCD,EAAW1lE,EAxhBC,GAyhBZ2lE,EAAY3lE,EAxhBC,GA0hBb,IAAK,IAAI4nB,EAzhBT,GAyhBuCA,EAAM,IAAOA,GAngB5B,GAmgByD,CAC7E,MAAMs+B,EAAkB,CACpB0f,QAAQ,EACRC,SAAS,EACTx/D,KAAM,IACN5G,KAAM,EACN2G,KAAM,GACN49D,gBAAiB,CAAEnW,MAAO,EAAGC,OAAQ,IAEzC,IAAIxM,EAAM,GACV,MAAM5S,EAAQ1uC,EAAKgZ,MAAM4O,EAAKA,EA7gBV,IA+gBpB,GAAK8mB,EAxhBE,GAwhBP,CAsBA,OAlBAwX,EAAK8d,gBAAkB,CACnBnW,MAAOnf,EA7hBJ,GA8hBHof,OAAQpf,EA7hBJ,IAgiB2B,MAA/BwX,EAAK8d,gBAAgBnW,QACrB3H,EAAK2f,SAAU,EACf3f,EAAK8d,gBAAgBnW,MAAQnf,EA/hBzB,KAmiBqC,IAAzCA,EAriBL,KAsiBKwX,EAAK0f,QAAS,GAGlBtkB,GAAO4E,EAAK0f,OAAS,IAAM,IAGsB,IAAzCl3B,EA5iBT,IA6iBK,KAAK,EACDwX,EAAK7/C,KAAO,IACZ,MACJ,KAAK,EACD6/C,EAAK7/C,KAAO,IACZ,MACJ,KAAK,EAYL,KAAK,GACD6/C,EAAK7/C,KAAO,IACZ,MAXJ,KAAK,EAYL,KAAK,GACD6/C,EAAK7/C,KAAO,IACZ,MAXJ,KAAK,EACD6/C,EAAK7/C,KAAO,IACZ,MACJ,KAAK,GACD6/C,EAAK7/C,KAAO,IASpBi7C,GAAO4E,EAAK7/C,KACZi7C,GAAO,IAGP4E,EAAKzmD,KAAOivC,EAvkBP,IAwkBDA,EAvkBE,KAukB+C,EACrD4S,GAAOxgD,KAAKwB,MAAM4jD,EAAKzmD,KAAO,KAC9B6hD,GAAOxgD,KAAKwB,MAAM4jD,EAAKzmD,KAAO,IAAM,GACpC6hD,GAAO4E,EAAKzmD,KAAO,GACnB6hD,GAAO,IAGP,IAAK,IAAInxB,EAjlBV,EAilBiDA,EAAM,GAAMA,IACxD+1B,EAAK9/C,MAAQyS,OAAOqY,aAA0B,IAAbwd,EAAMve,IAE3CmxB,GAAO4E,EAAK9/C,KACZ,GAAMk7C,GACNriD,KAAK4lD,MAAMn6C,KAAKw7C,E,GAGxB,OAAOjnD,KAAK4lD,KAChB,CAKAugB,eACI,MAAM,QAAEb,GAAYtlE,KAAKukE,KAEzB,IAAIkC,EAAWnB,EAAQ1W,MACnB8X,EAAYpB,EAAQzW,OACxB,KAAO6X,GAAaD,GAAU,CAC1B,MAAM1lE,EAAOf,KAAK66D,KAAK4L,EAAUC,GAEjC,IAAK,IAAI/9C,EAvnBT,GAunBuCA,EAAM,IAAOA,GA1mBzC,EA0mByF,CAChG,MAAMs+B,EAAOjnD,KAAK4lD,MAAMx9B,QAExB,GAAK6+B,aAAI,EAAJA,EAAM8d,gBAAX,CAUA,OANAhkE,EAAK4nB,EAjnBE,GAinB+Cs+B,EAAK8d,gBAAgBnW,MAC3E7tD,EAAK4nB,EAjnBG,GAinB+Cs+B,EAAK8d,gBAAgBlW,OAE5E9tD,EAAK4nB,EAlnBN,GAknB+Cs+B,EAAK0f,OAAS,IAAO,EAG3D1f,EAAK7/C,MACT,IAAK,IACD,MACJ,IAAK,IACDrG,EAAK4nB,EAznBd,IAynBwD,EAC/C,MACJ,IAAK,IACD5nB,EAAK4nB,EA5nBd,IA4nBwD,EAC/C,MACJ,IAAK,IACD5nB,EAAK4nB,EA/nBd,IA+nBwD,EAC/C,MACJ,IAAK,IACD5nB,EAAK4nB,EAloBd,IAkoBwD,EAC/C,MACJ,IAAK,IACD5nB,EAAK4nB,EAroBd,IAqoBwD,GAKvD5nB,EAAK4nB,EAvoBA,IAuoB2D,IAAZs+B,EAAKzmD,KACzDO,EAAK4nB,EAvoBC,IAuoB+Cs+B,EAAKzmD,MAAQ,EAGlE,IAAK,IAAI0wB,EAAM,EAAGA,EAAM,GAAMA,IAC1BnwB,EAAK4nB,EA9oBV,EA8oBkDuI,GAAmC,IAA5B+1B,EAAK9/C,KAAK4kB,WAAWmF,E,EAGjFlxB,KAAK66D,KAAK4L,EAAUC,EAAW3lE,GAE/B0lE,EAAW1lE,EArqBC,GAsqBZ2lE,EAAY3lE,EArqBC,E,CAuqBrB,CAOA8lE,kBACI,OAAO7mE,KAAKukE,KAAK5V,MACrB,E,eC/sBA,GAAU,CAAC,EAEf,GAAQ7wC,kBAAoB,KAC5B,GAAQN,cAAgB,KAElB,GAAQZ,OAAS,UAAc,KAAM,QAE3C,GAAQX,OAAS,IACjB,GAAQ4B,mBAAqB,KAEhB,IAAI,KAAS,IAKnB,SAAe,MAAW,YAAiB,iBAAiBtE,ECK7DutD,GAAe,EAAGC,aACpB,MAAMC,EAAY,GAA0B,MAG5C,GAAID,EAAOjc,WAAa,MAAQic,EAAOjc,WAAa,KAChD,OAAO,KAGX,GAAIkc,EAAUlhD,QAAS,CACnB,MAAMoD,EAAK,IAAIwL,GAAasyC,EAAUlhD,SAAS,GACzC0P,EAAQ,IAAIvG,GAAY/F,EAAI,EAAG,IAAI3a,YAAc,GACjDsd,EAAQ,IAAIsG,GAAYjJ,EAAI,GAClCA,EAAGqG,aAAa,EAAGiG,GACnBtM,EAAGmJ,aAAa,EAAGxG,GACnB3C,EAAGyC,MAAK,GACRzC,EAAG2C,OAAM,GACT3C,EAAG8M,aAAY,GACf9M,EAAG4C,KAAK,GAER,IAAK,IAAInD,EAAM,EAAGA,EAAM,GAAMA,IAC1B,IAAK,IAAIuI,EAAM,EAAGA,EAAM,IAAOA,IAC3BrF,EAAMW,MAAM7D,EAAM,GAAMuI,EAAK61C,EAAa,IAANp+C,EAAcuI,IAG1DhI,EAAGoD,M,CAGP,OAAO,YAAQvK,IAAKilD,EAAW9mE,MAAO,IAAKC,OAAQ,IAAK6nB,UAAW,iBAAuB,EASxFi/C,GAAqB,EAAGF,aAC1B,MAAMC,EAAY,GAA0B,MAC5C,GAAID,EAAOjc,WAAa,OAASic,EAAOjc,WAAa,MACjD,OAAO,KAGX,GAAIkc,EAAUlhD,QAAS,CACnB,MAAMoD,EAAK,IAAIwL,GAAasyC,EAAUlhD,SAAS,GACzC0P,EAAQ,IAAIvG,GAAY/F,EAAI,EAAG,IAAI3a,YAAc,GACjDsd,EAAQ,IAAIsG,GAAYjJ,EAAI,GAClCA,EAAGqG,aAAa,EAAGiG,GACnBtM,EAAGmJ,aAAa,EAAGxG,GACnB3C,EAAGyC,MAAK,GACRzC,EAAG2C,OAAM,GACT3C,EAAG2M,QAAO,GACV3M,EAAG8M,aAAY,GACf9M,EAAG4C,KAAK,GAER,IAAK,IAAInD,EAAM,EAAGA,EAAM,GAAMA,IAC1B,IAAK,IAAIuI,EAAM,EAAGA,EAAM,IAAOA,IAC3BrF,EAAM0E,QAAQ/D,MAAM7D,EAAM,GAAMuI,EAAK61C,EAAa,IAANp+C,EAAcuI,IAGlE,IAAK,IAAIvI,EAAM,GAAMA,EAAM,GAAMA,IAC7B,IAAK,IAAIuI,EAAM,EAAGA,EAAM,IAAOA,IAC3BrF,EAAMqE,QAAQ1D,MAAM7D,EAAKuI,EAAK61C,EAAa,IAANp+C,EAAcuI,IAG3DhI,EAAGoD,M,CAGP,OAAO,YAAQvK,IAAKilD,EAAW9mE,MAAO,IAAKC,OAAQ,IAAK6nB,UAAW,iBAAuB,EAWjFk/C,GAAa,EAAGvB,WAAU1rB,cACnC,MAAOktB,EAAYC,GAAiB,GAAS,KACtCC,EAAUC,GAAe,GAAS,IAoBzC,GAlBA,IAAU,KACN,GAAI3B,EAAU,CACV,MAAM,OAAEoB,EAAM,KAAEp7C,GAASg6C,EACnB4B,EAAa,IAAIzrB,KACnB,CAACirB,GACD,CAAE3/D,KAAM,6BAEN+/D,EAAalqD,OAAO5E,IAAI0jC,gBAAgBwrB,GAC9CH,EAAcD,GACd,MAAMK,EAAW,IAAI1rB,KACjB,CAACnwB,GACD,CAAEvkB,KAAM,6BAENigE,EAAWpqD,OAAO5E,IAAI0jC,gBAAgByrB,GAC5CF,EAAYD,E,IAEjB,CAAC1B,KAECA,EACD,OAAO,KAGX,MAAM,SAAE9+C,EAAQ,KAAE8E,EAAI,OAAEo7C,GAAWpB,EAEnC,OACI,SACI,EAACvrB,GAAK,CAACC,QAAQ,EAAMJ,QAASA,EAASvG,MAAO7sB,GAC1C,EAACgzB,GAAY,KACT,SAAK7xB,UAAW,eACZ,EAAC8+C,GAAY,CAACC,OAAQA,IACtB,EAACE,GAAkB,CAACF,OAAQA,IAC5B,SAAK/+C,UAAW,cAAmBk0B,UAAW,GACzCvwB,KAIb,EAACmuB,GAAW,KACR,OACIqC,SAAU,GAAGt1B,QACbjG,KAAMumD,EACNptB,KAAK,UAAQ,gBAIjB,OACIoC,SAAU,GAAGt1B,QACbjG,KAAMymD,EACNttB,KAAK,UAAQ,iBAIjB,YAAQhH,QAASkH,GAAO,WAIvC,EC1ICwtB,GAAclF,GACTA,EAAKmF,oBAAenuD,EAAW,CAAEouD,UAAW,QAASC,UAAW,UA8BrEC,GAAc,EAAGC,QAAO1I,YAAW2I,kB,MACrC,MAAMnB,EhBzDG,IgByDOxH,EAAUU,YACpBkI,EAAgB,IAAY,KAC9B,MAAMjB,EAAS3H,EAAUoC,cACnB71C,EAAOyzC,EAAUqC,cACnBsF,GAAUp7C,GACVo8C,EAAY,CACRhB,SACAp7C,OACA9E,SAAUu4C,EAAUj4D,M,GAG7B,CAACi4D,EAAW2I,IACf,OACI,YACI,QACI//C,UAAW,IAAG,YAAiB,CAAE,CAAC,YAAiB4+C,IACnDlzB,MAAO0rB,EAAUj4D,KACjB4rC,QAASi1B,GAER,KAAKC,OAAOH,GAET,MADHlB,EACG,CAAG5+C,UAAU,4BACb,CAAGA,UAAU,gBAEhB,IACAo3C,EAAUj4D,MAEf,YAAmC,QAA9B,EAAA83D,GAAWG,EAAUsB,iBAAS,QAAI,IAAI,GAAMtB,EAAUsB,aAC3D,YAAK,IAAI,GAAMtB,EAAUuB,QAAS,MAClC,YAAKvB,EAAUwB,YACf,YAAK6G,GAAWrI,EAAUyB,WAC1B,YAAK4G,GAAWrI,EAAU0B,UAEjC,EAsBCoH,GAAmB,EAAGvZ,SAAQmZ,QAAOK,WAAUJ,kBACjD,MAAOjpB,EAAMspB,GAAW,GAAmB,IAAVN,GACjC,OACI,SACI,YACI,QACI9/C,UAAW,YACX+qB,QAAS,IAAMq1B,GAAStpB,IAAUA,IAClCpL,MAAOy0B,EAAShhE,MAEf,KAAK8gE,OAAOH,GACb,OAAG9/C,UAAW,IAAG,MAAO,CAAE,iBAAkB82B,EAAM,oBAAqBA,MACtE,IACAqpB,EAAShhE,MAEd,aACA,aACA,aACA,YAAKsgE,GAAWU,EAAStH,WACzB,cAEH/hB,GAAQqpB,EAASl6B,QAAQrvC,KAAI,CAACwgE,EAAWz2C,KACtC,GhBhID,KgBgIKy2C,EAAUU,YAAyC,CACnD,MAAMqI,EAAW,IAAI,GAAUxZ,EAAQyQ,GACvC,OAAO,EAAC8I,GAAgB,CACpBpwD,IAAK6Q,EACLm/C,MAAOA,EAAQ,EACfnZ,OAAQA,EACRwZ,SAAUA,EACVJ,YAAaA,G,CAGjB,OAAO,EAACF,GAAW,CACf/vD,IAAK6Q,EACLm/C,MAAOA,EAAQ,EACfnZ,OAAQA,EACRyQ,UAAWA,EACX2I,YAAaA,G,IAKhC,EAkBCM,GAAe,EAAGC,MAAKlJ,YAAW2I,iBAWhC,QAAIh1B,QAVc,IAAY,KAC9B,MAAM,KAAEhyC,GAASunE,EAAItD,SAAS5F,GAC9B2I,EAAY,CACRhB,OAAQhmE,EACR4qB,KAAM28C,EAAIlC,SAAShH,GACnBv4C,SAAUu4C,EAAUj4D,MACtB,GACH,CAACmhE,EAAKlJ,EAAW2I,KAIZ,QAAI//C,UAAW,IAAG,YAAiB,CAAE,CAAC,YAAiBo3C,EAAUwH,WAC5DxH,EAAUuH,QAAU,OAAG3+C,UAAU,gBACjC,IACAo3C,EAAUj4D,MAEf,YAAKi4D,EAAUh4D,MACf,YAAKg4D,EAAU5+D,MACf,cAoBN+nE,GAAU,EAAGD,MAAKP,iBAGhB,SAFY,IAAQ,IAAMO,EAAI9B,eAAe,CAAC8B,IAGjC1pE,KAAI,CAACwgE,EAAWz2C,IACrB,EAAC0/C,GAAY,CACTvwD,IAAK6Q,EACL2/C,IAAKA,EACLlJ,UAAWA,EACX2I,YAAaA,OA2B3BS,GAAW,EAAGC,cAAarf,UAAS2e,kBACtC,MAAMzf,EAAO,IAAQ,KACjB,MAAMogB,EAAkBD,EAAY1d,UAAU3B,EAAS,MACvD,GAAIsf,EAAiB,CACjB,MAAM,KAAE3nE,EAAI,SAAEixD,EAAQ,IAAEjJ,GAAQ2f,GAC1B,KAAEvhE,GAASuhE,EAAgBzW,SACjC,IAAI3J,EAAsC,KAC1C,GAAY,QAARS,EACAT,EAAO4L,GAAkB,CACrB/sD,OACA4qD,QAAShxD,EACTixD,WACArD,OAAQ,WAET,GAAI5tD,EAAK+pD,WAAa,OAAY,CACrC,MAAM6d,EAASF,EAAY1d,UAAU3B,EAAS,MAC1Cuf,GHwdb,SAAsBrgB,GACzB,IAAIvnD,EACJ,GAAI,GAAaunD,GACbvnD,EAAOowD,GAAW7I,EA/tBQ,GA+tBkBuF,GA5tBjB,QA6tBxB,MAAIvF,EAAKvnD,KAAK+pD,WAAa,GAO9B,OAAO,EANP/pD,EAAO,IAAIwN,WACP+5C,EAAKvnD,KACL6nE,MACA,I,CAKR,OAAsC,IAA/B7nE,EAxtBE,EAytBb,CGrewB8nE,CAAaF,KACbrgB,EAAOuJ,GAAkB,CACrB1qD,OACA4qD,QAAS4W,EAAO5nE,KAChBixD,WACArD,OAAQ,M,CAaxB,OARKrG,GvC3HV,SAA2BtpC,GAC9B,OAAO,GAAcsmB,SAAStmB,EAClC,CuCyHyB8pD,CAAkB/f,KAC3BT,EAAO0T,GAAgBjT,EAAK,CACxB5hD,OACA4qD,QAAShxD,EACTixD,WACArD,OAAQ,OAGTrG,C,CAEX,OAAO,IAAI,GACZ,CAACmgB,EAAarf,IAEjB,GAAId,EACA,IACI,GA9PZ,SAAqBA,GACjB,QAAWA,EAAyB,MACxC,CA4PgBygB,CAAYzgB,IACZ,GAAIA,EAAK+K,OAAO3xD,OAAQ,CACpB,MAAMsnE,EAAS,IAAItF,GAAapb,IAC1B,YAAE2a,GAAgB+F,EAAO7G,MACzB8G,EAAYD,EAAO3J,SAAS+D,aAAa1hE,OACzCwnE,EAAYjG,EAAcgG,EAChC,OACI,SAAKjhD,UAAW,WACZ,eACI,eACI,YACI,QAAIA,UAAW,aAAe,YAC9B,QAAIA,UAAW,SAAW,QAC1B,QAAIA,UAAW,QAAU,OACzB,QAAIA,UAAW,WAAa,UAC5B,QAAIA,UAAW,YAAc,WAC7B,QAAIA,UAAW,aAAe,cAGtC,eACI,EAACkgD,GAAgB,CACbJ,MAAO,EACPnZ,OAAQqa,EACRb,SAAUa,EAAO7G,MACjB4F,YAAaA,KAGrB,eACI,YACI,QAAIoB,QAAS,G,gBAAiBF,GAC9B,QAAIE,QAAS,G,SAAUD,GACvB,QAAIC,QAAS,G,UAAWlG,M,OAO7C,GAAIza,GAAaF,GAAO,CAC3B,MAAMggB,EAAM,IAAIhE,GAAMhc,GACtB,OACI,SAAKtgC,UAAW,WACZ,eACI,eACI,YACI,QAAIA,UAAW,aAAe,YAC9B,QAAIA,UAAW,SAAW,QAC1B,QAAIA,UAAW,YAAc,WAC7B,eAGR,eACI,EAACugD,GAAO,CAACD,IAAKA,EAAKP,YAAaA,KAEpC,eACI,YACI,8BACA,QAAIoB,QAAS,GAAIb,EAAIzB,oBAEzB,YACI,6BACA,QAAIsC,QAAS,GAAIb,EAAI7C,oBAEzB,YACI,6BACA,QAAI0D,QAAS,GAAIb,EAAI9C,sB,EAO/C,MAAOxkD,GAEL,OADA+F,QAAQ/F,MAAMA,GACP,8B,CAGf,OAAO,uBAAkB,EAiBhBooD,GAAQ,EAAGh3B,aACpB,MAAOuzB,EAAUoC,GAAe,GAA0B,MACpD3/B,EAAKgK,EAAON,QACZnlB,EAAmC,GAEnCstB,EAAU,IAAY,KACxB8tB,EAAY,KAAK,GAClB,IAEH,IAAK,IAAIp/C,EAAM,EAAGA,GAAO,EAAGA,IAAO,CAC/B,MAAMyD,EAAOgc,EAAGtb,QAAQnE,IACpByD,aAAgBstC,IAAUttC,aAAgBwwC,KAC1CjwC,EAAMlhB,KAAK2gB,E,CAInB,OACI,aACKO,EAAM/tB,KAAI,CAACwtB,EAAMzD,IACd,SAAK7Q,IAAK6Q,GACN,SAAKX,UAAW,eACXoE,EAAKvsB,YAAYsH,K,QAEtB,EAACqhE,GAAQ,CAACC,YAAar8C,EAAMg9B,QAAS,EAAG2e,YAAaA,IACtD,SAAK//C,UAAW,eACXoE,EAAKvsB,YAAYsH,K,QAEtB,EAACqhE,GAAQ,CAACC,YAAar8C,EAAMg9B,QAAS,EAAG2e,YAAaA,OAG9D,EAACb,GAAU,CAACvB,SAAUA,EAAU1rB,QAASA,IAEhD,ECrZU,MAAMovB,GAgBjBxpE,YAAoB8nC,GAAA,KAAAA,MAXZ,KAAA8B,UAAW,EACX,KAAAC,WAAY,EACZ,KAAA4/B,OAAQ,EACR,KAAA3/B,WAAY,EAShB,GAAM,iBAEN3pC,KAAKuwB,MAAQ,IAAI2W,GAAI,IAAM,KAC3BlnC,KAAKupE,MAAQ,IAAIriC,GAAI,IAAM,KAC3BlnC,KAAK6wC,IAAM,IAAI3J,GAAI,IAAM,KAEzBlnC,KAAKwpE,OAASxpE,KAAK2nC,IACnB3nC,KAAKypE,OAASzpE,KAAK2nC,IAEnB3nC,KAAK0pE,MAAQ1pE,KAAK2nC,IAClB3nC,KAAK2pE,MAAQ3pE,KAAK2nC,GACtB,CAEQujB,SAASpgC,GAEjB,CAEQ8+C,cACA5pE,KAAKypC,UACLzpC,KAAK0pE,MAAQ1pE,KAAKspE,MAAQtpE,KAAKupE,MAAQvpE,KAAKuwB,MAC5CvwB,KAAK2pE,MAAQ3pE,KAAK6wC,MAElB7wC,KAAK0pE,MAAQ1pE,KAAK2nC,IAClB3nC,KAAK2pE,MAAQ3pE,KAAK2nC,KAGlB3nC,KAAK0pC,WACL1pC,KAAKwpE,OAASxpE,KAAKspE,MAAQtpE,KAAKupE,MAAQvpE,KAAKuwB,MAC7CvwB,KAAKypE,OAASzpE,KAAK6wC,MAEnB7wC,KAAKwpE,OAASxpE,KAAK2nC,IACnB3nC,KAAKypE,OAASzpE,KAAK2nC,IAE3B,CAcQqT,OAAOxvB,EAAWtnB,GACtB,MAAMymC,OAAmBpxB,IAARrV,EACX+W,EAAS0vB,EAAW,OAAIpxB,EAGxBqxB,EAAkB,EAANpf,EACZqf,EAAoB,EAANrf,EAEpB,IAAIsf,EACAC,EAuCJ,OA5C0B,EAANvf,GAQZmf,IACA3qC,KAAK0pC,UAAY1pC,KAAK2pC,WAE1B3pC,KAAK2pC,UAAYgB,EAEbC,GACA5qC,KAAKypC,UAAW,EAChBsB,EAAQ,eAER/qC,KAAKypC,UAAW,EAChBsB,EAAQ,WAGZ/qC,KAAK0pC,WAAY,EACjB1pC,KAAK2pC,WAAY,EAEbiB,GACA5qC,KAAKypC,UAAW,EAChBsB,EAAQ,QAER/qC,KAAKypC,UAAW,EAChBsB,EAAQ,SAIZF,GACA7qC,KAAKspE,OAAQ,EACbx+B,EAAU,WAEV9qC,KAAKspE,OAAQ,EACbx+B,EAAU,UAGd9qC,KAAKkrD,MAAMpgB,EAASC,GACpB/qC,KAAK4pE,cAEE3uD,CACX,CAEA+Q,QACI,OAAO,GACX,CAEAC,MACI,OAAO,GACX,CAEAC,SAASV,EAAWtnB,GAChB,OAAOlE,KAAKg7C,OAAOxvB,EAAKtnB,EAC5B,CAEAqoB,KAAKT,EAAYN,GACb,IAAIvQ,EAAiB,EAMrB,OAJIA,EADA6Q,EAAO,IACE9rB,KAAK0pE,MAAMn9C,KAAKT,EAAMN,GAEtBxrB,KAAK2pE,MAAMp9C,KAAKT,EAAMN,GAE5BvQ,CACX,CAEAuR,MAAMV,EAAYN,EAAWtnB,GACrB4nB,EAAO,IACP9rB,KAAKwpE,OAAOh9C,MAAMV,EAAMN,EAAKtnB,GAE7BlE,KAAKypE,OAAOj9C,MAAMV,EAAMN,EAAKtnB,EAErC,CAEW2lE,WACP,OAAO7pE,KAAKspE,KAChB,CAEWp+B,cACP,OAAOlrC,KAAKypC,QAChB,CAEW0B,eACP,OAAOnrC,KAAK0pC,SAChB,CAEAjd,WACI,MAAO,CACHye,QAASlrC,KAAKkrC,QACdC,SAAUnrC,KAAKmrC,SACf0+B,KAAM7pE,KAAK6pE,KACXn+B,SAAU1rC,KAAK2pC,UACfkH,IAAK7wC,KAAK6wC,IAAIpkB,WACd8D,MAAOvwB,KAAKuwB,MAAM9D,WAClB88C,MAAOvpE,KAAKupE,MAAM98C,WAE1B,CAEAtG,SAAS3B,GACLxkB,KAAKypC,SAAWjlB,EAAM0mB,QACtBlrC,KAAK0pC,UAAYllB,EAAM2mB,SACvBnrC,KAAKspE,MAAQ9kD,EAAMqlD,KACnB7pE,KAAK2pC,UAAYnlB,EAAMknB,SACvB1rC,KAAK6wC,IAAI1qB,SAAS3B,EAAMqsB,KACxB7wC,KAAKuwB,MAAMpK,SAAS3B,EAAM+L,OAC1BvwB,KAAKupE,MAAMpjD,SAAS3B,EAAM+kD,OAC1BvpE,KAAK4pE,aACT,E,eCtLA,GAAU,CAAC,EAEf,GAAQ9rD,kBAAoB,KAC5B,GAAQN,cAAgB,KAElB,GAAQZ,OAAS,UAAc,KAAM,QAE3C,GAAQX,OAAS,IACjB,GAAQ4B,mBAAqB,KAEhB,IAAI,KAAS,IAKnB,SAAe,MAAW,YAAiB,iBAAiBtE,EC6B7DuwD,GAAS,CAACtiC,EAAU8D,KACtB,MAAM/e,EAAOib,EAAI0D,SAAY1D,EAAI8D,QAAUA,EACrC9e,EAAQgb,EAAI2D,UAAa3D,EAAI8D,QAAUA,EAC7C,MAAO,CACH/e,OACAC,QACA0D,MAAO,CACH3D,KAAMA,IAASib,EAAIjX,MACnB/D,MAAOA,IAAUgb,EAAIjX,OAEzBA,MAAO,CACHhE,KAAMA,GAAQib,EAAIjX,MAClB/D,MAAOA,GAASgb,EAAIjX,OAExBoX,IAAK,CACDpb,MAAOib,EAAI0D,QACX1e,OAAQgb,EAAI2D,UAEnB,EAUC4+B,GAAY,CAACviC,EAAUklB,KACzB,MAAMsd,EAAWxiC,EAAI3b,OAAS2b,EAAI+D,SAClC,MAAO,CACHhf,KAAMy9C,EAAWxiC,EAAIgE,QAAUkhB,EAAMllB,EAAI4D,UAAYshB,EACrDlgC,MAAOw9C,EAAWxiC,EAAIgE,QAAUkhB,EAAMllB,EAAI6D,WAAaqhB,EAC1D,EAUCud,GAAW,CAACziC,EAAUklB,KACxB,MAAMsd,EAAWxiC,EAAI+D,SACrB,MAAO,CACHhf,KAAMy9C,EAAWxiC,EAAIgE,QAAUkhB,EAAMllB,EAAI4D,UAAYshB,EACrDlgC,MAAOw9C,EAAWxiC,EAAIgE,QAAUkhB,EAAMllB,EAAI6D,WAAaqhB,EAC1D,EASCwd,GAAgBz1C,IACX,CACHlI,KAAMkI,EACNjI,MAAOiI,IAmET01C,GAAMA,IACD,CACH,CAAC,SAAcA,EAAG59C,KAClB,CAAC,UAAe49C,EAAG39C,MACnB,CAAC,cAAmB29C,EAAG39C,QAAU29C,EAAG59C,OAoBtC69C,GAAkB,EAAGC,KAAIzoD,cAEvB,SAAKoG,UAAW,IAAG,UACf,SAAKA,UAAW,IAAG,MAAWmiD,GAAGE,KAC5BzoD,E,OAEL,SAAKoG,UAAW,YACZ,SAAKA,UAAW,IAAG,UAAe,WAAgBmiD,GAAGE,EAAGn6C,SAAO,UAG/D,SAAKlI,UAAW,IAAG,UAAemiD,GAAGE,EAAG95C,SAAO,YAczD+5C,GAAS,IAEP,aACI,aACI,SAAKtiD,UAAW,IAAG,QAAa,YAAc,K,SAElD,aACI,SAAKA,UAAW,IAAG,SAAc,YAAc,K,UAEnD,aACI,SAAKA,UAAW,IAAG,SAAc,QAAa,YAAc,K,eAEhE,aACI,SAAKA,UAAW,IAAG,YAAiB,YAAc,K,cAoBrDuiD,GAAS,EAAGn4B,aACrB,MAAM6R,EAAe,GAAe,IAC7BumB,EAAOC,GAAY,MACnBJ,EAAIK,GAAS,KAEdlmB,EAAU,IAAY,KACxB,GAAIpS,EAAQ,CACR,MAAM5K,EAAM4K,EAAOL,SACnB,GAAIvK,EACAijC,EAlJE,CAACjjC,IACR,CACHmjC,KAAM,CACFp+C,MAAOib,EAAI4D,QACX5e,OAAQgb,EAAI6D,SACZg/B,GAAIP,GAAOtiC,GAAK,GAChB3b,MAAOk+C,GAAUviC,GAAK,GACtB7b,KAAMs+C,GAASziC,GAAK,GACpBojC,GAAIV,IAAc1iC,EAAI8D,QAE1BohB,IAAK,CACDngC,KAAMib,EAAI4D,QACV5e,MAAOgb,EAAI6D,SACXg/B,GAAIP,GAAOtiC,GAAK,GAChB3b,MAAOk+C,GAAUviC,GAAK,GACtB7b,KAAMs+C,GAASziC,GAAK,GACpBojC,GAAIV,GAAa1iC,EAAI8D,QAEzBlD,GAAI8hC,IAAc1iC,EAAIiE,UACtBA,SAAUy+B,GAAa1iC,EAAIiE,YA+HVo/B,CAAUrjC,QAChB,CACH,MAAMpb,EAAOgmB,EAAON,QAAQhlB,QAAQ,GAChCV,aAAgBi9C,IAChBqB,EAzHK,CAACt+C,IACtB,MAAMG,EAAOH,EAAK8e,QACZ1e,EAAQJ,EAAK+e,SACnB,MAAO,CACH5e,OACAC,QACA0D,MAAO,CACH3D,KAAMA,IAASH,EAAKy9C,KACpBr9C,MAAOA,IAAUJ,EAAKy9C,MAE1Bt5C,MAAO,CACHhE,KAAMA,GAAQH,EAAKy9C,KACnBr9C,MAAOA,GAASJ,EAAKy9C,MAEzBliC,IAAK,CACDpb,MAAOH,EAAK8e,QACZ1e,OAAQJ,EAAK+e,UAEpB,EAuGqB2/B,CAAiB1+C,G,EAInC63B,EAAan+B,QAAUwC,sBAAsBk8B,EAAQ,GACtD,CAACpS,IAOJ,OALA,IAAU,KACN6R,EAAan+B,QAAUwC,sBAAsBk8B,GACtC,IAAMn8B,qBAAqB47B,EAAan+B,WAChD,CAAC0+B,IAEAgmB,EAEI,SAAKxiD,UAAW,WACZ,SAAKA,UAAW,YAAsB,OACtC,SAAKA,UAAW,IAAG,eAAoB,SACnC,EAACoiD,GAAe,CAACC,GAAIG,EAAM9d,IAAI2d,IAAE,OAGjC,EAACD,GAAe,CAACC,GAAIG,EAAMG,KAAKN,IAAE,QAGlC,SAAKriD,UAAW,IAAG,UACf,SAAKA,UAAW,IAAG,OAAYmiD,GAAGK,EAAMG,KAAKN,GAAG1iC,OAAK,SAK7D,SAAK3f,UAAW,IAAG,SACf,SAAKA,UAAW,IAAG,MAAWmiD,GAAGK,EAAMpiC,MAAI,MAG3C,SAAKpgB,UAAW,IAAG,YAAiBmiD,GAAGK,EAAM/+B,YAAU,UAI3D,SAAKzjB,UAAW,IAAG,eAAoB,SACnC,SAAKA,UAAW,IAAG,QAAamiD,GAAGK,EAAM9d,O,UAErC,SAAK1kC,UAAW,IAAG,SAAcmiD,GAAGK,EAAM9d,IAAI7gC,SAAO,SAGrD,SAAK7D,UAAW,IAAG,QAAamiD,GAAGK,EAAM9d,IAAI/gC,QAAM,cAGnD,SAAK3D,UAAW,IAAG,MAAWmiD,GAAGK,EAAM9d,IAAIke,MAAI,aAInD,SAAK5iD,UAAW,IAAG,QAAamiD,GAAGK,EAAMG,Q,WAErC,SAAK3iD,UAAW,IAAG,SAAcmiD,GAAGK,EAAMG,KAAK9+C,SAAO,SAGtD,SAAK7D,UAAW,IAAG,QAAamiD,GAAGK,EAAMG,KAAKh/C,QAAM,cAGpD,SAAK3D,UAAW,IAAG,MAAWmiD,GAAGK,EAAMG,KAAKC,MACxC,6BAIZ,aACA,EAACN,GAAM,OAGRD,EAEH,SAAKriD,UAAW,WACZ,SAAKA,UAAW,YAAsB,iBACtC,SAAKA,UAAW,IAAG,OAAoB,kBACnC,EAACoiD,GAAe,CAACC,GAAIA,IACrB,SAAKriD,UAAW,IAAG,UACf,SAAKA,UAAW,IAAG,OAAYmiD,GAAGE,EAAG1iC,OAAK,SAKlD,aACA,EAAC2iC,GAAM,OAIR,I,iBC7VX,GAAU,CAAC,EAEf,GAAQxsD,kBAAoB,KAC5B,GAAQN,cAAgB,KAElB,GAAQZ,OAAS,UAAc,KAAM,QAE3C,GAAQX,OAAS,IACjB,GAAQ4B,mBAAqB,KAEhB,IAAI,KAAS,IAKnB,SAAe,MAAW,YAAiB,iBAAiBtE,ECZ7D+S,GAAO,CAACR,EAAiBllB,KAC3B,GAAIA,EAAQ,CACR,MAAMiD,EAAUjD,EAAOkD,WAAW,MAC9BD,GACAA,EAAQ+sB,aAAa9K,EAAKzd,UAAW,EAAG,E,GAKvCmiC,GAAa,EAAG4B,aACzB,MAAOzmB,EAAMo/C,GAAW,IAAS,IAC1Bl/C,EAAOm/C,GAAY,IAAS,IAC5Bx/B,EAAOy/B,GAAY,IAAS,GAC7BC,EAAU,GAA0B,MACpCC,EAAU,GAA0B,MACpCC,EAAU,GAA0B,MACpCC,EAAU,GAA0B,MACpCpnB,EAAe,GAAe,GAE9BO,EAAU,IAAY,KACxB,GAAIpS,EAAQ,CACR,MAAMlpB,EAAKkpB,EAAOH,gBACZtmB,EAAOzC,EAAGgN,SACVrK,EAAQ3C,EAAGmN,UACXmV,EAAQtiB,EAAGkN,UAEjBlN,EAAGuM,aAAa,GAAGlE,UACnBrI,EAAGuM,aAAa,GAAGlE,UACnBrI,EAAGwM,aAAa,GAAGnE,UACnBrI,EAAGwM,aAAa,GAAGnE,UACnBjF,GAAKpD,EAAGuM,aAAa,GAAIy1C,EAAQplD,SACjCwG,GAAKpD,EAAGuM,aAAa,GAAI01C,EAAQrlD,SACjCwG,GAAKpD,EAAGwM,aAAa,GAAI01C,EAAQtlD,SACjCwG,GAAKpD,EAAGwM,aAAa,GAAI21C,EAAQvlD,SAEjCilD,EAAQp/C,GACRq/C,EAASn/C,GACTo/C,EAASz/B,E,CAEbyY,EAAan+B,QAAUwC,sBAAsBk8B,EAAQ,GACtD,CAACpS,IAOJ,OALA,IAAU,KACN6R,EAAan+B,QAAUwC,sBAAsBk8B,GACtC,IAAMn8B,qBAAqB47B,EAAan+B,WAChD,CAAC0+B,IAGA,SAAKx8B,UAAW,UACZ,SAAKA,UAAW,QACZ,SAAKA,UAAW,IAAG,QAAa,CAAE,CAAC,YAAiB2D,IAASE,KAAW2f,KACpE,SAAKxjB,UAAW,YAAsB,qBAGtC,YAAQ9nB,MAAM,MAAMC,OAAO,MAAM4hB,IAAKmpD,KAE1C,SAAKljD,UAAW,IAAG,QAAa,CAAE,CAAC,YAAiB2D,IAASE,IAAU2f,KACnE,SAAKxjB,UAAW,YAAsB,qBAGtC,YAAQ9nB,MAAM,MAAMC,OAAO,MAAM4hB,IAAKopD,MAG9C,SAAKnjD,UAAW,QACZ,SAAKA,UAAW,IAAG,QAAa,CAAE,CAAC,YAAkB2D,GAAQE,IAAW2f,KACpE,SAAKxjB,UAAW,YAAsB,gBAGtC,YAAQ9nB,MAAM,MAAMC,OAAO,MAAM4hB,IAAKqpD,KAE1C,SAAKpjD,UAAW,IAAG,QAAa,CAAE,CAAC,YAAkB2D,GAAQE,GAAU2f,KACnE,SAAKxjB,UAAW,YAAsB,gBAGtC,YAAQ9nB,MAAM,MAAMC,OAAO,MAAM4hB,IAAKspD,MAIrD,EC1EQ,GAAW,EAAGj5B,aACvB,MAAOqH,EAAU6F,GAAe,GAAS,GAEzC,OAAKlN,EAKD,EAACY,GAAK,CAAChrB,UAAW,UACd,EAACq3B,GAAI,CAACC,YAAaA,GACf,EAACH,GAAG,YACJ,EAACA,GAAG,cACJ,EAACA,GAAG,eACJ,EAACA,GAAG,cACJ,EAACA,GAAG,mBAER,SAAKn3B,UAAW,aACE,IAAbyxB,EAAiB,EAAC+R,GAAG,CAACpZ,OAAQA,IAAa,KAC9B,IAAbqH,EAAiB,EAACjJ,GAAU,CAAC4B,OAAQA,IAAa,KACrC,IAAbqH,EAAiB,EAAC8wB,GAAM,CAACn4B,OAAQA,IAAa,KACjC,IAAbqH,EAAiB,EAAC2vB,GAAK,CAACh3B,OAAQA,IAAa,KAChC,IAAbqH,EAAiB,EAACuK,GAAS,CAAC5R,OAAQA,IAAa,OAjBnD,IAoBV,E,eC/BD,GAAU,CAAC,EAEf,GAAQt0B,kBAAoB,KAC5B,GAAQN,cAAgB,KAElB,GAAQZ,OAAS,UAAc,KAAM,QAE3C,GAAQX,OAAS,IACjB,GAAQ4B,mBAAqB,KAEhB,IAAI,KAAS,IAKnB,SAAe,MAAW,YAAiB,iBAAiBtE,ECftD+xD,GAAa,EAAGtqD,QAAOuqD,eAChC,MAAMtxB,EAAU,IAAY,IAAMsxB,OAAShyD,IAAY,CAACgyD,IACxD,IAAIC,EAAW,KAYf,OAXIxqD,IACIA,aAAiB3hB,MACjBmsE,EAAWxqD,EAAMG,QACO,iBAAVH,EACdwqD,EAAWxqD,GAEXwqD,EAAW,gBACXzkD,QAAQ/F,MAAMA,KAIlBwqD,EAEI,EAACpxB,GAAK,CACF1G,MAAM,QACND,KAAK,uBACL4G,QAAQ,EACRJ,QAASA,GAET,EAACJ,GAAY,KACT,SAAK7xB,UAAW,eACXwjD,IAGT,EAAC1xB,GAAW,KACR,YAAQ/G,QAASkH,GAAO,QAK7B,I,ECzCFwxB,GAAkB,CAC3B,MAAS,QACT,MAAS,SACT,SAAY,OACZ,QAAW,OACX,OAAU,MACV,OAAU,QACV,IAAO,MACP,UAAa,SACb,QAAW,SACX,UAAa,SACb,WAAc,SACd,UAAa,SAEb,oBAAuB,SACvB,qBAAwB,SACxB,kBAAqB,SACrB,oBAAuB,SACvB,iBAAoB,OAOXC,GAAmB,CAC5B,IAAO,EACP,OAAU,GACV,IAAO,GACP,SAAU,GACV,SAAU,GACV,SAAU,GACV,SAAU,EACV,OAAU,KAUDC,GAAQ,CACjB,CACI,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,SAC7D,CAAC,MAAO,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,OAAQ,UAClE,CAAC,OAAQ,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,SAAU,UACrE,CAAC,QAAS,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,SAC5D,CAAC,QAAS,WACX,CACC,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAM,IAAK,IAAK,IAAK,IAAK,IAAK,SAC9D,CAAC,MAAO,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,OAAQ,UAClE,CAAC,OAAQ,IAAK,IAAK,IAAK,IAAK,OAAQ,IAAK,IAAK,IAAK,IAAK,IAAK,SAAU,UACxE,CAAC,QAAS,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,SAC5D,CAAC,QAAS,YASLC,GAAS,CAClB,CACI,CAAC,MAAO,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,UACpE,CAAC,MAAO,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MACpE,CAAC,OAAQ,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,UAChE,CAAC,QAAS,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,SAC5D,CAAC,OAAQ,IAAK,MAAO,aAAc,SAAU,eAAgB,SAAU,SAAU,SAAU,WAC5F,CACC,CAAC,MAAO,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,UACpE,CAAC,MAAO,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACpE,CAAC,OAAQ,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAM,UACjE,CAAC,QAAS,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,SAC5D,CAAC,OAAQ,IAAK,MAAO,aAAc,SAAU,eAAgB,SAAU,SAAU,SAAU,YAK7FC,GAAU,CACZ,IAAM,IACN,IAAM,IACN,IAAM,IACN,EAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,EAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,KACN,IAAM,IACN,IAAO,IACP,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,KAwBGC,GAAmB,CAAC9rD,EAAsB+rD,GAAgB,EAAOllB,GAAmB,KAC7F,IAAI/uC,EAEAA,EA5GoB,CAAC3T,GAClBA,KAAKsnE,GA0GRO,CAAahsD,EAAMlI,KACb2zD,GAAgBzrD,EAAMlI,KACP,QAAdkI,EAAMlI,IACY,IAAnBkI,EAAMW,SAAiB,aAAe,eAEtCX,EAAMlI,IAGhB,IAAIm0D,EAAWn0D,EACI,IAAfA,EAAIpW,SAEAuqE,EAlCe,CAAC9nE,GACjBA,KAAK0nE,GAgCJK,CAAYp0D,GACD+zD,GAAQ/zD,GAERA,EAAIwpC,eAIvB,IAAI6qB,EAAU,IAad,MA1H6B,CAAChoE,GACvBA,KAAKunE,GA6GRU,CAAkBt0D,GAClBq0D,EAAUT,GAAiB5zD,GACJ,IAAfA,EAAIpW,SACZyqE,EAAUr0D,EAAIiU,WAAW,KAExBggD,GAAQllB,IAAYslB,GAAW,IAAQA,GAAW,MACnDA,GAAW,IAEXtlB,GAAWslB,GAAW,IAAQA,EAAU,KACxCA,GAAW,IAGR,CAAEr0D,MAAKm0D,WAAUE,UAAQ,EAcvBE,GAAgB,CACzBrsD,EACAssD,EACAC,EACAR,EACA3sE,K,YAEA,MAAM6sE,EAA4C,QAAjC,EAAmB,QAAnB,EAAAjsD,EAAMy6B,qBAAa,eAAE+xB,QAAQC,YAAI,QAAI,GACtD,IAAI30D,EAA6D,QAAvD,EAAmB,QAAnB,EAAAkI,EAAMy6B,qBAAa,eAAE+xB,QAAQF,EAAU,OAAS,eAAO,QAAI,GACjEH,EAAU,IAEd,OAAQr0D,GACJ,IAAK,OACDA,EAAM,IACN,MACJ,IAAK,SACDA,EAAM,KACN,MACJ,IAAK,MACDA,EAAM,KACN,MACJ,IAAK,SACDA,EAAM,IACN,MACJ,IAAK,SACDA,EAAM,KACN,MACJ,IAAK,SACDA,EAAM,IACN,MACJ,IAAK,SACDA,EAAM,KACN,MACJ,IAAK,SACDA,EAAM,KACN,MACJ,IAAK,SACDA,EAAM,IACN,MACJ,IAAK,MACDA,EAAM,IAkBd,OAZmB,IAAfA,EAAIpW,SAEAyqE,EADAI,GAAcz0D,GAAO,KAAOA,GAAO,IACzBA,EAAIiU,WAAW,GAAK,GAE9B3sB,IAAMktE,IAAYP,GAClBj0D,GAAO,KAAOA,GAAO,IAEXA,EAAIiU,WAAW,GAAK,GAEpBjU,EAAIiU,WAAW,IAG1B,CAAEogD,UAASr0D,MAAKm0D,WAAU,E,eC9NjC,GAAU,CAAC,EAEf,GAAQnuD,kBAAoB,KAC5B,GAAQN,cAAgB,KAElB,GAAQZ,OAAS,UAAc,KAAM,QAE3C,GAAQX,OAAS,IACjB,GAAQ4B,mBAAqB,KAEhB,IAAI,KAAS,IAKnB,SAAe,MAAW,YAAiB,iBAAiBtE,ECL7DmzD,GAAc50D,IAChB,MAAM60D,EAAQ70D,EAAIpW,OAAS,IAAMoW,EAAIypC,WAAW,KAChD,OACI,UACIv5B,UAAW,IAAG,CAAE,CAAC,UAAe2kD,IAChCjnD,wBAAyB,CAAEC,OAAQ7N,IAE1C,EA0BQ80D,GAAM,EACfC,QACAC,QACAt5B,SACA/B,UACAs7B,cACAC,gBAEA,MAAMC,EAAUJ,EAAM3yD,QAAQ,SAAU,IAClCgzD,EACQ,SAAVL,EACM,YACCC,IAAUD,GAASC,EAAMprE,OAAS,EAC/B,WACA,GACd,OACI,SACIsmB,UAAW,IACP,OACA,GAAO,OAAOilD,KACdC,EACA,CACI,CAAC,YAAiBz7B,EAClB,CAAC,WAAgB+B,IAExB,YACUq5B,EAAK,YACLC,EACXC,YAAaA,EACbC,UAAWA,GAEX,aACKN,GAAWI,GACXA,IAAUD,GAAS,SAAE,aAAOH,GAAWG,KAGnD,EAmBQM,GAAW,EAAG/6B,SAAQhzC,QAC/B,MAAOqyC,EAAS27B,GAAc,GAAmB,KAC1C55B,EAAQ65B,GAAa,GAAmB,CAAC,SAC1C5tE,EAAO,IAAQ,IFmIG,CAAC6tE,IACzB,MAAMC,EAAO,GACb,IAAK,IAAI5kD,EAAM,EAAGA,EAAM2kD,EAAO,GAAG5rE,OAAQinB,IAAO,CAC7C,MAAMmkD,EAAQQ,EAAO,GAAG3kD,GAClBkkD,EAAQS,EAAO,GAAG3kD,GAClBlpB,EAAO,GACb,IAAK,IAAIyxB,EAAM,EAAGA,EAAM47C,EAAMprE,OAAQwvB,IAClCzxB,EAAKgM,KAAK,CAACqhE,EAAM57C,GAAM27C,EAAM37C,KAEjCq8C,EAAK9hE,KAAKhM,E,CAEd,OAAO8tE,CAAI,EE9IgBC,CAAapuE,EAAIwsE,GAASD,KAAQ,CAACvsE,IAG9D,IAAU,KACN,MAAM2tB,EAAW/M,IACb,IAAKoyB,EACD,OAGJ,GAAIzoC,SAAS8jE,eAAiB9jE,SAAS8jE,gBAAkB9jE,SAAS2wC,KAC9D,OAGJt6B,EAAMqzB,iBAEN,MAAM,IAAEv7B,EAAG,QAAEq0D,EAAO,SAAEF,GAAaH,GAAiB9rD,EAAOwzB,EAAOlO,SAAS,QAASkO,EAAOlO,SAAS,SAIpG,GAHA8nC,GAAW37B,GAAWA,EAAQx4B,OAAO,CAACgzD,MACtCoB,GAAU75B,GAAUA,EAAOv6B,OAAO,CAACgzD,MAEvB,UAARn0D,EAEA,YADAs6B,EAAO/lB,QAIX,MAAM+b,EAAKgK,EAAON,QACN,eAARh6B,EAIQ,iBAARA,EAKY,MAAZq0D,GACA/5B,EAAON,QAAQ/kB,QAAQo/C,GALvB/jC,EAAGlb,WAAW,GAAG,GAJjBkb,EAAGlb,WAAW,GAAG,E,EAYnBD,EAASjN,IACX,IAAKoyB,EACD,OAEJ,MAAM,IAAEt6B,EAAG,SAAEm0D,GAAaH,GAAiB9rD,GAC3CotD,GAAW37B,GAAWA,EAAQlpB,QAAOpkB,GAAKA,IAAM8nE,MAChDoB,GAAU75B,GAAUA,EAAOjrB,QAAOpkB,GAAKA,IAAM8nE,MAE7C,MAAM7jC,EAAKgK,EAAON,QACN,eAARh6B,GACAswB,EAAGlb,WAAW,GAAG,GAET,iBAARpV,GACAswB,EAAGlb,WAAW,GAAG,GAErBklB,EAAON,QAAQ7kB,OAAO,EAK1B,OAHAtjB,SAASma,iBAAiB,UAAWiJ,GACrCpjB,SAASma,iBAAiB,QAASmJ,GAE5B,KACHtjB,SAASsa,oBAAoB,UAAW8I,GACxCpjB,SAASsa,oBAAoB,QAASgJ,EAAM,CAC/C,GACF,CAACmlB,EAAQoB,IAEZ,MAAMu5B,EAAc,IACf/sD,IACG,IAAKoyB,EACD,OAGJpyB,EAAMqzB,iBACN,MAAMq6B,EAAgB51D,GACb07B,EAAOlO,SAASxtB,IAIrBu1D,EAAU75B,EAAOjrB,QAAOzoB,GAAKA,IAAMgY,MAC5B,IAJHu1D,EAAU,IAAI75B,EAAQ17B,KACf,GAMTswB,EAAKgK,EAAON,SACZ,QAAEq6B,EAAO,IAAEr0D,EAAG,SAAEm0D,GAAaI,GAC/BrsD,EACAwzB,EAAOlO,SAAS,SAChBkO,EAAOlO,SAAS,QAChBkO,EAAOlO,SAAS,SAChB,GAEJ,GAAgB,MAAZ6mC,EACA/jC,EAAGrb,QAAQo/C,QACR,GAAIr0D,EACP,OAAQA,GACJ,IAAK,QACL,IAAK,OACL,IAAK,OACD41D,EAAa51D,GACb,MACJ,IAAK,QACDs6B,EAAO/lB,QACP,MACJ,IAAK,aACD+b,EAAGlb,WAAW,EAAGwgD,EAAa51D,IAC9B41D,EAAa51D,GACb,MACJ,IAAK,eACDswB,EAAGlb,WAAW,EAAGwgD,EAAa51D,IAC9B41D,EAAa51D,GAMzBs1D,EAAW,IAAI37B,EAASw6B,GAAU,GAEtC,CAAC75B,EAAQoB,EAAQ/B,IAGfu7B,EAAY,IACbhtD,IACG,MAAM,SAAEisD,GAAaI,GACjBrsD,EACAwzB,EAAOlO,SAAS,SAChBkO,EAAOlO,SAAS,QAChBkO,EAAOlO,SAAS,SAChB,GAEJ8M,WAAQN,QAAQ7kB,QAChBmgD,EAAW37B,EAAQlpB,QAAOzoB,GAAKA,IAAMmsE,IAAU,GAEnD,CAAC75B,EAAQoB,EAAQ/B,IAGfk8B,EAAU,EAAEd,EAAOC,KACrB,EAACF,GAAG,CACAC,MAAOA,EACPC,MAAOA,EACPt5B,OAAQA,EAAOlO,SAASunC,GACxBp7B,QAASA,EAAQnM,SAASunC,GAC1BE,YAAaA,EACbC,UAAWA,IAGbO,EAAO9tE,EAAKb,KAAI,CAACiyB,EAAKlI,IACxB,SAAK7Q,IAAK6Q,EAAKX,UAAW,IAAG,OAAY,GAAO,MAAMW,OACjDkI,EAAIjyB,IAAI+uE,MAIjB,OACI,SAAK3lD,UAAW,aACXulD,EAER,EChPQ,GAAe,EAAGtkD,MAAKmf,KAAIT,MAAKxb,WACzC,IAAU,KACN,GAAIic,GAAMnf,GAAO0e,EAAK,CAClB,MAAM0iC,EAAK,IAAIhB,GAAiB1hC,GAChCS,EAAGvb,QAAQV,EAAMk+C,GACjBphD,EAAIod,eAAegkC,E,IAExB,CAACjiC,EAAInf,EAAK0e,EAAKxb,IAEX,MC5BJ,MAAMyhD,GAGT/tE,YAAoB+G,GAAA,KAAAA,SA8EpB,KAAAinE,SAAYC,IACR9tE,KAAK8tE,MAAQA,CAAK,EAGtB,KAAAzxB,UAAa1mB,KpEhFV,SAAyBA,GAC5B0mB,GAAY1mB,CAChB,CoE+EQo4C,CAAgBp4C,GACZA,EACA31B,KAAK4G,OAAO2wB,UAAUC,IAAI,aAE1Bx3B,KAAK4G,OAAO2wB,UAAUnb,OAAO,Y,EAtFjC,MAAM4xD,EAAiBhuD,IACnB,MAAM,cAAEiuD,EAAa,OAAEnxD,GAAWkD,EAClC,GAAIiuD,EAAcvsE,OAAS,EACvB,OAEJ,MAAMwsE,EAAOpxD,EAAO+/B,wBACdsxB,GAAWD,EAAKhuE,MAAQ,KAAO,EAAIguE,EAAKn/C,KACxCq/C,GAAUF,EAAK/tE,OAAS,KAAO,EAAI+tE,EAAKr/C,KACxC,QAAEw/C,EAAO,QAAEC,GAAYL,EAAc,GACrCM,EAAOF,EAAUF,EACjBK,EAAOF,EAAUF,EACvBpuE,KAAK8tE,MAAMW,WACP5sE,KAAKiB,IAAIjB,KAAKM,IAAIosE,EAAM,KAAM,GAC9B1sE,KAAKiB,IAAIjB,KAAKM,IAAIqsE,EAAM,KAAM,GAC9B,IACA,IACH,EAGD,iBAAkBvxD,QAClBjd,KAAK4G,OAAOkd,iBACR,aACC9D,IACGguD,EAAchuD,EAAM,IAI5BhgB,KAAK4G,OAAOkd,iBACR,cACC9D,IACGguD,EAAchuD,GAIdK,YAAW,IAAMrgB,KAAK8tE,MAAMY,cAAa,IAAO,IAAI,IAI5D1uE,KAAK4G,OAAOkd,iBACR,YACC9D,IACGguD,EAAchuD,GACdhgB,KAAK8tE,MAAMY,cAAa,EAAM,IAItC1uE,KAAK4G,OAAOkd,iBACR,eACC9D,IACGguD,EAAchuD,GACdhgB,KAAK8tE,MAAMY,cAAa,EAAM,MAItC1uE,KAAK4G,OAAOkd,iBACR,aACC9D,IACG,MAAM,QAAE2uD,EAAO,QAAEC,EAAO,OAAE9xD,GAAWkD,EACrChgB,KAAK8tE,MAAMW,WACPE,EACAC,EACA9xD,EAAOhW,YACPgW,EAAO9V,aACV,IAIThH,KAAK4G,OAAOkd,iBAAiB,aAAa,KACtC9jB,KAAK8tE,MAAMY,cAAa,EAAK,IAGjC1uE,KAAK4G,OAAOkd,iBAAiB,WAAW,KACpC9jB,KAAK8tE,MAAMY,cAAa,EAAM,IAG1C,EClFG,MAAM,GAA0B,IAAIngE,WAAW,CAClD,EAAK,EAAK,EAAK,EAAK,EAAK,GAAK,EAAK,GACnC,EAAK,EAAK,EAAK,EAAK,GAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EAAK,IC2BxB,MAAMsgE,GAgCjBhvE,YACYopB,EACA8xB,GADA,KAAA9xB,MACA,KAAA8xB,MAhCJ,KAAA+zB,UAAkB,EAElB,KAAAC,UAAkB,EAElB,KAAAC,UAAkB,KAElB,KAAAC,UAAkB,KAElB,KAAAnvE,EAAU,EAEV,KAAAC,EAAU,EAEV,KAAAklC,KAAa,EAEb,KAAAiqC,MAAO,EAEP,KAAAC,UAAW,EAEX,KAAAC,MAAc,EAEd,KAAAC,MAAc,EAEd,KAAAC,MAAc,EAEd,KAAAC,eAAgB,EAEhB,KAAAC,gBAAiB,EAEjB,KAAArjD,KAAO,EASXnsB,KAAK+6C,IAAI8yB,SAAS7tE,KACtB,CAEAksB,SAASujD,EAAY3nC,GAErB,CAEAvb,KAAKkb,EAAajc,GACd,IAAIhH,EAAQxkB,KAAKipB,IAAIwD,WAErB,MAAMijD,EAAY,CAACl+C,EAAYttB,KAC3BlE,KAAKipB,IAAIuD,MAAMgF,GAAQ,GAAW,IAAPA,GAAexxB,KAAKmsB,KAAMjoB,EAAI,EAGvDyrE,EAAYn+C,GACPxxB,KAAKipB,IAAIsD,KAAKiF,GAAQ,EAAU,IAAPA,GAG9Bo+C,EAAcprD,IAChBA,EAAM9E,GAAK,IACJ8E,GAGX,GAAIxkB,KAAKipB,IAAI4d,UAAW,CACpB,OAAQrb,GACJ,KAAK,GA5FN,IA8FSxrB,KAAKilC,KAAOzgB,EAAM7hB,EAClB3C,KAAK+6C,IAAIsB,aAxGjB,EAwG8Br8C,KAAKilC,OAC3BzgB,EAAQorD,EAAWprD,GASvB,MACJ,KAAK,GAzGJ,IA2GGkrD,EA/HL,KA+HuB1vE,KAAKsvE,OACvB9qD,EAAQorD,EAAWprD,GACnBxkB,KAAKsvE,MAAQ,EACb,MACJ,KAAK,GA9GL,IA+GI,CACI,MAAMO,EAAS7vE,KAAKovE,QAAUpvE,KAAKF,GAAOE,KAAKqvE,QAAUrvE,KAAKD,EACxDi+D,GACDh+D,KAAKkvE,KApId,IAoImC,IAC1BlvE,KAAKmvE,SApId,GAoIuC,IAC9BU,EApIR,GAoI+B,GACtBC,EAAqB,IAAT9vE,KAAKF,EACjBiwE,EAAqB,IAAT/vE,KAAKD,EACjBiwE,EAAahwE,KAAKF,GAAK,EACvBmwE,EAAajwE,KAAKD,GAAK,EAI7B2vE,EArJV,KAqJ2BI,GACjBJ,EArJV,KAqJ2BK,GACjBL,EArJT,KAqJ2BM,GAClBN,EArJT,KAqJ2BO,GAClBP,EArJT,KAqJ2B1R,GAClB0R,EArJX,KAqJ2B1vE,KAAKilC,MAErBjlC,KAAKmvE,SAAWnvE,KAAKkvE,KACrBlvE,KAAKovE,MAAQpvE,KAAKF,EAClBE,KAAKqvE,MAAQrvE,KAAKD,EAElBykB,EAAQorD,EAAWprD,E,CAEvB,MACJ,KAAK,GAzIJ,IA0IG,GAAM,cACNA,EAAQorD,EAAWprD,GACnB,MACJ,KAAK,GA5IN,IA6IK,GAAM,YACNA,EAAQorD,EAAWprD,GACnB,MACJ,KAAK,GA/IJ,IAiJsBA,EAAM7hB,GAEjB3C,KAAK+uE,UAAYY,EApLvB,MAoLkDA,EAlLjD,OAkL6E,EACxE3vE,KAAKivE,UAAYU,EApLvB,MAoLkDA,EAlLjD,OAkL6E,EACxE,GAAM,eAAgB3vE,KAAK+uE,UAAW/uE,KAAKivE,aAE3CjvE,KAAK8uE,UAAYa,EAxLvB,MAwLkDA,EAtLjD,OAsL6E,EACxE3vE,KAAKgvE,UAAYW,EAxLvB,MAwLkDA,EAtLjD,OAsL6E,EACxE,GAAM,eAAgB3vE,KAAK8uE,UAAW9uE,KAAKgvE,YAE/CxqD,EAAQorD,EAAWprD,GAEvB,MACJ,KAAK,GA7JL,IA+JQ,GAAM,aACNxkB,KAAKF,EAAIE,KAAK8uE,UACd9uE,KAAKD,EAAIC,KAAK+uE,UACdvqD,EAAQorD,EAAWprD,GAEvB,MACJ,KAAK,GApKL,IAsKQxkB,KAAKmsB,KAAO3H,EAAMzkB,GAAK,EACvB,GAAM,iBAAkBC,KAAKmsB,MAC7B3H,EAAQorD,EAAWprD,GAK/BxkB,KAAKipB,IAAI9C,SAAS3B,E,CAGtB,OAAO,GAAIgH,EACf,CAEAgB,QAEA,CAMAqB,OAxMiB,EAyMT7tB,KAAKilC,OACLjlC,KAAKsvE,OAjNE,GAMI,EA6MVtvE,KAAKilC,MAA0BjlC,KAAKwvE,iBACrCxvE,KAAKsvE,OAnNC,GAII,EAiNTtvE,KAAKilC,MAAyBjlC,KAAKuvE,gBACpCvvE,KAAKsvE,OArNA,GAuNLtvE,KAAKsvE,OACLtvE,KAAKipB,IAAIsd,MAEbvmC,KAAKuvE,eAAgB,EACrBvvE,KAAKwvE,gBAAiB,CAC1B,CAYAf,WAAW3uE,EAAWC,EAAW0B,EAAWkgB,GACxC,MAAMuuD,EAASlwE,KAAKgvE,UAAYhvE,KAAK8uE,UAC/BqB,EAASnwE,KAAKivE,UAAYjvE,KAAK+uE,UACrC/uE,KAAKF,EAAKA,EAAIowE,EAASzuE,EAAIzB,KAAK8uE,UAAa,MAC7C9uE,KAAKD,EAAKA,EAAIowE,EAASxuD,EAAI3hB,KAAK+uE,UAAa,MAC7C/uE,KAAKuvE,eAAgB,CACzB,CASAb,aAAaQ,GACTlvE,KAAKwvE,eAAiBxvE,KAAKkvE,OAASA,EACpClvE,KAAKkvE,KAAOA,CAChB,CAQA/oD,SAAS3B,GACLxkB,KAAK8uE,UAAYtqD,EAAMsqD,UACvB9uE,KAAK+uE,UAAYvqD,EAAMuqD,UACvB/uE,KAAKgvE,UAAYxqD,EAAMwqD,UACvBhvE,KAAKivE,UAAYzqD,EAAMyqD,UACvBjvE,KAAKF,EAAI0kB,EAAM1kB,EACfE,KAAKD,EAAIykB,EAAMzkB,EACfC,KAAKilC,KAAOzgB,EAAMygB,KAClBjlC,KAAKkvE,KAAO1qD,EAAM0qD,KAClBlvE,KAAKmvE,SAAW3qD,EAAM2qD,SACtBnvE,KAAKovE,MAAQ5qD,EAAM4qD,MACnBpvE,KAAKqvE,MAAQ7qD,EAAM6qD,MACnBrvE,KAAKsvE,MAAQ9qD,EAAM8qD,MACnBtvE,KAAKuvE,cAAgB/qD,EAAM+qD,cAC3BvvE,KAAKwvE,eAAiBhrD,EAAMgrD,eAC5BxvE,KAAKmsB,KAAO3H,EAAM2H,IACtB,CAQAM,WACI,MAAO,CACHqiD,UAAW9uE,KAAK8uE,UAChBC,UAAW/uE,KAAK+uE,UAChBC,UAAWhvE,KAAKgvE,UAChBC,UAAWjvE,KAAKivE,UAChBnvE,EAAGE,KAAKF,EACRC,EAAGC,KAAKD,EACRklC,KAAMjlC,KAAKilC,KACXiqC,KAAMlvE,KAAKkvE,KACXC,SAAUnvE,KAAKmvE,SACfC,MAAOpvE,KAAKovE,MACZC,MAAOrvE,KAAKqvE,MACZC,MAAOtvE,KAAKsvE,MACZC,cAAevvE,KAAKuvE,cACpBC,eAAgBxvE,KAAKwvE,eACrBrjD,KAAMnsB,KAAKmsB,KAEnB,ECxSG,MAAM,GAAQ,EAAGlD,MAAKmnD,YAAWhoC,KAAIjc,WACxC,IAAU,KACN,GAAIlD,GAAOmf,GAAMgoC,EAAUtqD,QAAS,CAChC,MAAMuqD,EAAU,IAAIzC,GAAQwC,EAAUtqD,SAChCgoD,EAAQ,IAAIe,GAAU5lD,EAAKonD,GACjCjoC,EAAGvb,QAAQV,EAAM2hD,E,IAEtB,CAAC7kD,EAAKmf,EAAIgoC,EAAWjkD,IAEjB,M,eCxBP,GAAU,CAAC,EAEf,GAAQrO,kBAAoB,KAC5B,GAAQN,cAAgB,KAElB,GAAQZ,OAAS,UAAc,KAAM,QAE3C,GAAQX,OAAS,IACjB,GAAQ4B,mBAAqB,KAEhB,IAAI,KAAS,IAKnB,SAAe,MAAW,YAAiB,iBAAiBtE,ECRtD,GAAS,EAAG62D,eAEjB,SAAKpoD,UAAW,YACZ,SAAKA,UAAW,aACZ,YACIA,UAAW,UACX9nB,MAAM,MACNC,OAAO,MACP4hB,IAAKquD,MCxBZE,GAAU,KACnB,MAAOt2D,EAAMu2D,GAAW,GAAStzD,OAAO0D,SAAS3G,MAE3Cw2D,EAAmB,KACrB,MAAMx2D,EAAOiD,OAAO0D,SAAS3G,KAC7Bu2D,EAAQv2D,EAAK,EAUjB,OAPA,IAAU,KACNiD,OAAO6G,iBAAiB,WAAY0sD,GAC7B,KACHvzD,OAAOgH,oBAAoB,WAAYusD,EAAiB,IAE7D,IAEIx2D,CAAI,E,eCNX,GAAU,CAAC,EAEf,GAAQ8D,kBAAoB,KAC5B,GAAQN,cAAgB,KAElB,GAAQZ,OAAS,UAAc,KAAM,QAE3C,GAAQX,OAAS,IACjB,GAAQ4B,mBAAqB,KAEhB,IAAI,KAAS,IAKnB,SAAe,MAAW,YAAiB,iBAAiBtE,E,2SCZnE,MAAMk3D,GAAqC,CACvC,CACIrrB,YAAa,cACbC,OAAQ,CAAE,2BAA4B,QAAmBvlD,GAAK,IAAMA,OAuB/D4wE,GAAY,EAAGhnB,QAAON,UAASnP,UAASI,aACjD,MAAO6L,EAAMC,GAAW,IAAkB,IACnCwqB,EAAOC,GAAY,IAAkB,IACrCC,EAAUC,GAAe,MACzB9pB,EAAS+pB,GAAc,MACvBC,EAAUC,GAAe,MACzBjwD,EAAOuqD,GAAY,MACnBhvD,EAAO20D,GAAY,KACpBl3D,EAAOs2D,KAEb,IAAU,KACN3rB,IAAM,IAAY,qCACd,IACI,MAAMwsB,QAAsBvnB,MAAM,yBAC5BrtC,QAAc40D,EAAcpnB,OAClCmnB,EAAS30D,E,CACX,MAAOyE,GACLkwD,EAAS,IACT3F,EAASvqD,E,CAEjB,KAAE,GACH,IAEH,MAAMowD,EAAW,IAAY,IAAMn3B,GAAQ,IAAO,CAACA,IAE7Co3B,EAAS,IAAY,IAAY,qCACnC,MAAMC,EAAY5oB,GAAa1uC,GAC/BmsC,GAAQ,GAER,IAKI,GAJwB,KAApBa,aAAO,EAAPA,EAAStlD,UACT4vE,EAAUloB,GAAW,Q1DwBF,EAACM,EAAcN,EAAsBnC,IAC7DgC,GAAcS,EAAO,GAAgBN,EAASnC,G0DxBnCsqB,CAAoB7nB,EAAON,QAAepC,EAAQ,GAAGG,YAE3D6pB,EAAU,CACV,MAAM7pE,EAAO6pE,EAASroB,MAAM,oBAAsB,CAAC,GAAI,IACvD2oB,EAAUloB,GAAWjiD,EAAK,SACpBsiD,GAASC,EAAON,EAAS4nB,E,EAErC,MAAO5xE,GACLmsE,EAASnsE,E,SAETwpD,GAAa0oB,GACbnrB,GAAQ,GACRlM,G,CAGJ2O,GAAa0oB,EACjB,KAAG,CAAC5nB,EAAOsnB,EAAU5nB,EAASnP,EAAS+M,EAAShtC,IAE1CwgC,EAAW,IAAawM,IAC1B4pB,EAA4B,IAAnB5pB,EAAQtlD,QACjBqvE,EAAW/pB,EAAQ,GACpB,IAEGwqB,EAAmB,IACpBxxD,GACG8wD,EAAY9wD,EAAMy6B,cAAch6B,QAClC,IAGAgxD,EAAmB,IACpBzxD,IACG4wD,GAAU5wD,EAAMy6B,cAAch6B,OAC9BwwD,EAAYjxD,EAAMy6B,cAAch6B,MAAM,GACvC,IAGP,IAAKlE,EACD,OAAO,KAGX,MAAMm1D,EAAan1D,EAAMxZ,QACrB,CACIyzD,EACAlO,KAEA,MAAMuoB,EAAWvoB,EAAKuoB,UAAY,OAGlC,OAFAra,EAAIqa,GAAY,CAACvoB,KAAUkO,EAAIqa,IAAa,IAErCra,CAAG,GAEd,CAAC,GAECmb,EAAgBjyE,OAAOD,KAAKiyE,GAAY5uD,OAExC+2C,EAAQgX,EAAWa,EAAWb,GAAU/tD,OAAS,GAEvD,OACI,SACI,EAACs3B,GAAK,CAAC1G,MAAM,YAAY2G,OAAQA,EAAQJ,QAASA,GAC9C,EAACJ,GAAY,KACT,SAAK7xB,UAAW,cACZ,YAAQwxB,UAAQ,EAACgB,SAAUg3B,GACtBG,EAAc/yE,KAAKuI,GAChB,YAAQ2Q,IAAK3Q,GAAOA,MAG5B,YAAQqyC,UAAQ,EAACgB,SAAUi3B,GACtB5X,EAAMj7D,KAAK0pD,GACR,YAAQxwC,IAAKwwC,EAAK0oB,SAAUvwD,MAAO6nC,EAAK0oB,UACnC1oB,EAAKnhD,KACLmhD,EAAKA,KAAO,MAAMA,EAAKA,OAAS,QAKjD,EAAC1B,GAAW,CAACpM,SAAUA,EAAU6K,OAAQorB,MAE7C,EAAC32B,GAAW,KACR,YAAQ/G,QAASq+B,GAAQ,UACzB,YAAQr+B,QAAiBs+B,EAASt5B,SAAUmO,GAAQyqB,GAAK,UAGjE,EAACrF,GAAU,CAACtqD,MAAOA,EAAOuqD,SAAUA,IAE3C,E,eCjJD,GAAU,CAAC,EAEf,GAAQztD,kBAAoB,KAC5B,GAAQN,cAAgB,KAElB,GAAQZ,OAAS,UAAc,KAAM,QAE3C,GAAQX,OAAS,IACjB,GAAQ4B,mBAAqB,KAEhB,IAAI,KAAS,IAKnB,SAAe,MAAW,YAAiB,iBAAiBtE,E,2SCV5D,MAAMq4D,GAAkB,I,IAAA,QAC3B1oB,EAAO,QACPE,EAAO,QACPyoB,EAAO,QACP1oB,EAAO,QACPjE,EAAO,SACPtjC,GAAQ,EACLE,E,yUAAK,GAPmB,gEAS3B,MAAMC,EAAM,GAAuB,MAkEnC,OAhEA,IAAU,KACN,MAAM+vD,GAAMD,aAAO,EAAPA,EAAS/rD,UAAW/D,EAAI+D,QACpC,GAAIgsD,EAAK,CACL,MAAMC,EAAc/xD,IAChBA,EAAMqzB,iBACN,MAAM2+B,EAAKhyD,EAAMiyD,aACbD,IACIx6D,MAAMkpC,KAAKsxB,EAAGE,OAAOC,OAAO/wE,GAAuB,SAAdA,EAAK8lD,OAC1C8qB,EAAGI,WAAa,OAEhBJ,EAAGI,WAAa,O,EAKtBC,EAAaryD,IACf,MAAMgyD,EAAKhyD,EAAMiyD,aACjB,GAAID,aAAE,EAAFA,EAAIE,MACJ,IAAK,IAAI5wE,EAAI,EAAGA,EAAI0wE,EAAGE,MAAMxwE,OAAQJ,IACjC0wE,EAAGE,MAAM91D,OAAO9a,QAGpB0wE,WAAIM,W,EAINC,EAAUvyD,IACZA,EAAMqzB,iBACNrzB,EAAMszB,kBACN,MAAMk/B,EAAcppB,UAAW,EAEzB4oB,EAAKhyD,EAAMiyD,aACQ,KAArBD,aAAE,EAAFA,EAAIpsB,MAAMlkD,SAAgBwnD,EAC1BvE,IAAM,IAAY,qCACd,UACUsE,GAAcC,EAASC,EAASqpB,EAAaR,EAAGpsB,MAAM,G,CAC9D,MAAOxmD,GACL8lD,EAAQ9lD,E,CAEhB,MAC4B,KAArB4yE,aAAE,EAAFA,EAAIpsB,MAAMlkD,SAAgBwnD,GACjCvE,IAAM,IAAY,qCACd,UACUsE,GAAcC,EAASC,EAAS,EAAG6oB,EAAGpsB,MAAM,UAC5CqD,GAAcC,EAASC,EAAS,EAAG6oB,EAAGpsB,MAAM,G,CACpD,MAAOxmD,GACL8lD,EAAQ9lD,E,CAEhB,K,EAQR,OAJA0yE,EAAIhuD,iBAAiB,WAAYiuD,GACjCD,EAAIhuD,iBAAiB,UAAWuuD,GAChCP,EAAIhuD,iBAAiB,OAAQyuD,GAEtB,KACHT,EAAI7tD,oBAAoB,WAAY8tD,GACpCD,EAAI7tD,oBAAoB,UAAWouD,GACnCP,EAAI7tD,oBAAoB,OAAQsuD,EAAO,C,IAGhD,CAACnpB,EAASyoB,EAAS1oB,EAASjE,EAASgE,IAGpC,uBAAKnnC,IAAKA,GAASD,GACdF,EAER,E,eCpFD,GAAU,CAAC,EAEf,GAAQ9D,kBAAoB,KAC5B,GAAQN,cAAgB,KAElB,GAAQZ,OAAS,UAAc,KAAM,QAE3C,GAAQX,OAAS,IACjB,GAAQ4B,mBAAqB,KAEhB,IAAI,KAAS,IAKnB,SAAe,MAAW,YAAiB,iBAAiBtE,ECZtDk5D,GAAgB,EAAGhK,cAAarf,UAASnP,UAASI,aAC3D,MAAOz5B,EAAM46B,GAAW,GAAS,KAC1Bk3B,EAAcC,GAAmB,GAAS,IAC3CvB,EAAW,IAAY,IAAMn3B,GAAQ,IAAO,CAACA,IAwBnD,OAtBA,IAAU,KACN,GAAII,EAAQ,CACR,MAAMu4B,EAAcnK,EAAY1d,UAAU3B,GAC1C,GAAIwpB,EAAa,CACb,MAAM,IAAE7pB,EAAG,KAAEhoD,GAAS6xE,GAChB,KAAEzrE,GAASyrE,EAAY3gB,SAC7B,GAAIlxD,EAAK+pD,WAAY,CACjB,MAAMjP,EAAO,IAAIC,KACb,CAAC/6C,GACD,CAAEqG,KAAM,6BAENwZ,EAAO3D,OAAO5E,IAAI0jC,gBAAgBF,GAGxC,OAFAL,EAAQ56B,QACR+xD,EAAgB,GAAGxrE,KAAQ4hD,I,EAInCvN,EAAQ,IACRm3B,EAAgB,G,IAErB,CAACt4B,EAAQ+O,EAASqf,IAGjB,SACI,EAACruB,GAAK,CAAC1G,MAAM,YAAY2G,OAAQA,EAAQJ,QAASA,GAC9C,EAACJ,GAAY,KACT,SAAK7xB,UAAW,iBACXpH,EAEO,SACI,c,cAAkB8xD,GAClB,OACI34B,KAAK,SACLn5B,KAAMA,EACNu7B,SAAUu2B,GAAY,aAM9B,yCAKhB,EAAC54B,GAAW,KACR,YAAQ/G,QAASq+B,GAAQ,WAIxC,EC3BQ,GAAS,EAAG1nB,QAAOmpB,SAAQl9C,KAAIxuB,OAAM2qD,WAC9C,MAAMta,EAAQsa,EAAO,GAAG3qD,OAAU2qD,IAAS3qD,GACpC2rE,EAAWC,GAAgB,IAAS,IACpCC,EAAmBC,GAAwB,IAAS,IACpDjyD,EAAOuqD,GAAY,KAEpBrxB,EAAU,IAAY,KACxB64B,GAAa,EAAM,GACpB,IAEGG,EAAc,IAAY,KAC5BH,GAAa,EAAK,GACnB,IAEGI,EAAkB,IAAY,KAChCF,GAAqB,EAAM,GAC5B,IAEGG,EAAsB,IAAY,KACpCH,GAAqB,EAAK,GAC3B,IAEH,OACI,EAACrB,GAAc,CACX5pD,UAAW,QACXkhC,QAASQ,EACTN,QAASypB,EACT1pB,QAAS,GACTjE,QAASqmB,GAET,EAACmF,GAAS,CAAChnB,MAAOA,EAAON,QAASypB,EAAQ54B,QAASC,EAASG,OAAQy4B,IACpE,EAACL,GAAa,CACVrpB,QAASypB,EACTpK,YAAa/e,EACbrP,OAAQ24B,EACR/4B,QAASk5B,IAEb,EAAC7H,GAAU,CAACtqD,MAAOA,EAAOuqD,SAAUA,IACpC,SAAKvjD,UAAW,IAAG,aAAkB,CAAE,CAAC,OAAY2N,MACpD,EAAC4d,GAAa,CAACG,MAAM,YAAYX,QAASmgC,EAAaz/B,KAAK,gBAC5D,EAACF,GAAa,CAACG,MAAM,YAAYX,QAASqgC,EAAqB3/B,KAAK,SACpE,SAAKzrB,UAAW,cACXwvB,GAGZ,E,eC5ED,GAAU,CAAC,EAEf,GAAQ15B,kBAAoB,KAC5B,GAAQN,cAAgB,KAElB,GAAQZ,OAAS,UAAc,KAAM,QAE3C,GAAQX,OAAS,IACjB,GAAQ4B,mBAAqB,KAEhB,IAAI,KAAS,IAKnB,SAAe,MAAW,YAAiB,iBAAiBtE,ECbnE,MAAM,GAAqC,CACvC,CACI6rC,YAAa,cACbC,OAAQ,CAAE,2BAA4B,QAAkBvlD,GAAK,IAAMA,OAW9DuzE,GAAiB,EAAGxoB,YAAWzB,QAASypB,EAAQ54B,UAASI,aAClE,MAAO2M,EAAS+pB,GAAc,MACvB7qB,EAAMC,GAAW,IAAkB,IACnCwqB,EAAOC,GAAY,IAAkB,IACrC5vD,EAAOuqD,GAAY,KACpBvxD,EAAOs2D,KAEPc,EAAW,IAAY,IAAMn3B,GAAQ,IAAO,CAACA,IAE7Co3B,EAAS,IAAY,I,mSAAY,mCACnC,MAAMC,EAAY5oB,GAAa1uC,GAE/B,GAAwB,KAApBgtC,aAAO,EAAPA,EAAStlD,QAAc,CACvB4vE,EAAUuB,GAAU,GACpB1sB,GAAQ,GACR,SjEwCsB,EAAC0E,EAAsBzB,EAAsBnC,IACpEgC,GAAc4B,EAAW,GAAezB,EAASnC,GiExCtCqsB,CAAmBzoB,EAAWgoB,QAAc7rB,EAAQ,GAAGG,U,CAC/D,MAAOnmC,GACLuqD,EAASvqD,E,SAETmlC,GAAQ,GACRlM,G,EAIR2O,GAAa0oB,EACjB,KAAG,CAACtqB,EAAShtC,EAAM6wC,EAAWgoB,EAAQ54B,IAEhCO,EAAW,IAAawM,IAC1B4pB,EAA4B,IAAnB5pB,EAAQtlD,QACjBqvE,EAAW/pB,EAAQ,GACpB,IAEH,OACI,SACI,EAAC5M,GAAK,CAAC1G,MAAM,YAAY2G,OAAQA,EAAQJ,QAASA,GAC9C,EAACJ,GAAY,KACT,SAAK7xB,UAAW,iBACZ,EAAC4+B,GAAW,CAACpM,SAAUA,EAAU6K,OAAQ,OAGjD,EAACvL,GAAW,KACR,YAAQ/G,QAASq+B,GAAQ,UACzB,YAAQr+B,QAAiBs+B,EAASt5B,SAAUmO,GAAQyqB,GAAK,UAGjE,EAACrF,GAAU,CAACtqD,MAAOA,EAAOuqD,SAAUA,IAE3C,E,eChED,GAAU,CAAC,EAEf,GAAQztD,kBAAoB,KAC5B,GAAQN,cAAgB,KAElB,GAAQZ,OAAS,UAAc,KAAM,QAE3C,GAAQX,OAAS,IACjB,GAAQ4B,mBAAqB,KAEhB,IAAI,KAAS,IAKnB,SAAe,MAAW,YAAiB,iBAAiBtE,ECetDg6D,GAAY,EAAG1oB,YAAWgoB,SAAQl9C,KAAIxuB,WAC/C,MAAO2rE,EAAWC,GAAgB,IAAS,IACpCC,EAAmBC,GAAwB,IAAS,IACpDjyD,EAAOuqD,GAAY,KAEpBrxB,EAAU,IAAY,KACxB64B,GAAa,EAAM,GACpB,IAEGG,EAAc,IAAY,KAC5BH,GAAa,EAAK,GACnB,IAEGI,EAAkB,IAAY,KAChCF,GAAqB,EAAM,GAC5B,IAEGG,EAAsB,IAAY,KACpCH,GAAqB,EAAK,GAC3B,IAEH,OACI,EAACrB,GAAc,CACX5pD,UAAW,QACXkhC,QAAS2B,EACTzB,QAASypB,EACT1pB,QAAS,GACTjE,QAASqmB,GAET,EAACD,GAAU,CAACtqD,MAAOA,EAAOuqD,SAAUA,IACpC,EAAC8H,GAAc,CACXxoB,UAAWA,EACXzB,QAASypB,EACT54B,QAASC,EACTG,OAAQy4B,IAEZ,EAACL,GAAa,CACVrpB,QAASypB,EACTpK,YAAa5d,EACbxQ,OAAQ24B,EACR/4B,QAASk5B,IAEb,SACI3zE,GAAI,OAAOqzE,IACX7qD,UAAW,IAAG,aAAkB,CAAE,CAAC,OAAY2N,MAEnD,EAAC4d,GAAa,CAACG,MAAM,YAAYX,QAASmgC,EAAaz/B,KAAK,gBAC5D,EAACF,GAAa,CAACG,MAAM,YAAYX,QAASqgC,EAAqB3/B,KAAK,SACpE,SACIj0C,GAAI,aAAaqzE,IACjB7qD,UAAW,cAEV7gB,GAGZ,E,eCrFD,GAAU,CAAC,EAEf,GAAQ2W,kBAAoB,KAC5B,GAAQN,cAAgB,KAElB,GAAQZ,OAAS,UAAc,KAAM,QAE3C,GAAQX,OAAS,IACjB,GAAQ4B,mBAAqB,KAEhB,IAAI,KAAS,IAKnB,SAAe,MAAW,YAAiB,iBAAiBtE,ECftDi6D,GAAgB,EAAG9/B,QAAO5tB,UAAS2tD,WACxC3tD,GAAW2tD,EAEP,EAACr5B,GAAK,CAAC1G,MAAOA,EAAO2G,QAAQ,GACzB,EAACR,GAAY,KACT,SAAK7xB,UAAW,sBACZ,SACIA,UAAW,eACXnL,MAAO,CAAE3c,MAAO2B,KAAKwB,MAAayiB,EAAU2tD,EAAjB,WAOxC,K,eCfX,GAAU,CAAC,EAEf,GAAQ31D,kBAAoB,KAC5B,GAAQN,cAAgB,KAElB,GAAQZ,OAAS,UAAc,KAAM,QAE3C,GAAQX,OAAS,IACjB,GAAQ4B,mBAAqB,KAEhB,IAAI,KAAS,IAKnB,SAAe,MAAW,YAAiB,iBAAiBtE,E,2SCyB5D,MAAMm6D,GAAS,EAAGzqD,MAAKmf,KAAIgoB,UAAS3f,WAAU1b,YACjD,MAAOjP,EAAS6tD,GAAc,GAAS,IAChC3yD,EAAOuqD,GAAY,MACnBkI,EAAOG,GAAY,GAAS,GAC7BC,EAAU,GAAOlqE,SAAS2wC,MAC1B6P,EAAa,IAAY,CAACrkC,EAAiB2tD,KAC7CE,EAAW7tD,GACX8tD,EAASH,EAAM,GAChB,KAEIK,EAAgBC,GAAqB,MAErCC,EAAOC,GAAY,GAAqB,CAC3Ct+C,IAAI,EACJk9C,OAAQ,EACR1rE,KAAM,YAEHqqD,EAAO0iB,GAAY,GAAqB,CAC3Cv+C,IAAI,EACJk9C,OAAQ,EACR1rE,KAAM,YAEHgtE,EAAYC,GAAiB,GAAqB,CACrDz+C,IAAI,EACJk9C,OAAQ,EACR1rE,KAAM,UAEHktE,EAAYC,GAAiB,GAAqB,CACrD3+C,IAAI,EACJk9C,OAAQ,EACR1rE,KAAM,SAGJ6S,EAAOs2D,KAyFb,GAvFA,IAAU,KACN,GAAIwD,EAAgB,CAChB,MAAM,mBAAE5pB,EAAkB,MAAER,GAAUoqB,EAChCxC,EAAY5oB,GAAa1uC,GACzBu6D,EAAiC,GACvC,IAAIC,EAAU,EACd,IAAK,MAAMprB,KAAWtB,GAClB,GAAIwpB,GAAaA,EAAUloB,GAAU,CACjC,MAAMqrB,EAAWzrB,mBAAmBsoB,EAAUloB,IACxCsrB,EAASD,EAAS9rB,MAAM,aACxBgsB,EAASF,EAAS9rB,MAAM,YAC1B+rB,IAAWC,GACXH,IACAD,EAAY9oE,KAAKk5C,IAAaG,GAAW,qCACrC,UACUmF,GACFC,EACAd,EACAqrB,EACA3vB,EACAqF,E,CACN,MAAO/qD,GACLmsE,EAASnsE,E,CAEK,KAAZo1E,GACFz/C,EAAMkwB,UAEV0uB,EAAW,GACXC,EAAS,EACb,QAGAnqB,GAASC,EAAON,EADJsrB,EAASD,EAAW,cAAcA,UAChBr+B,OAAOh3C,GAAMmsE,EAASnsE,I,CAOhE,OAHKo1E,GACDz/C,EAAMkwB,UAEH,IAAMsvB,EAAYp0D,SAAS+3C,GAAeA,EAAW0c,S,IAEjE,CAAC56D,EAAMmwC,EAAYp1B,EAAO++C,IAE7B,IAAU,KACN,MAAM5vB,EAAU,CAAC+vB,EAAUC,GACrBW,EAAe,CAACT,EAAeE,GAiB/BQ,EAAgC,CAClCza,WAAY,CAAC3C,EAAO/hC,K,MACO,QAAvB,EAAAk/C,EAAand,EAAQ,UAAE,iBAAG32D,GAAS,OAAD,wBAAMA,GAAI,CAAE40B,QAAM,EAExD6hB,MAAO,CAACkgB,EAAOvwD,EAAM2qD,K,MACM,QAAvB,EAAA+iB,EAAand,EAAQ,UAAE,iBAAG32D,GAAS,OAAD,wBAC3BA,GAAI,CACPoG,KAAMA,UAAQ,MAAMuwD,IACpB5F,UACD,EAEPziC,MAAO,QAGX,GAAIpG,GAAOmf,EAAI,CACX,MAAMshB,EAAQ,IAAI,GAAMthB,EA/BC,CACzBiyB,WAAY,CAAC3C,EAAO/hC,K,MACE,QAAlB,EAAAuuB,EAAQwT,EAAQ,UAAE,iBAAG32D,GAAS,OAAD,wBAAMA,GAAI,CAAE40B,QAAM,EAEnD6hB,MAAO,CAACkgB,EAAOvwD,EAAM2qD,K,MACC,QAAlB,EAAA5N,EAAQwT,EAAQ,UAAE,iBAAG32D,GAAS,OAAD,wBACtBA,GAAI,CACPoG,KAAMA,UAAQ,QAAQuwD,IACtB5F,UACD,EAEPziC,MAAO,QAoBgC+gC,GACvChoB,EAAGvb,QAAQ,EAAG68B,GACd,MAAMmB,EAAY,IAAI+R,GAAU3zC,EAAK6rD,EAAoB,CAAEhY,OAAQrsB,IACnErI,EAAGvb,QAAQ,EAAGg+B,GAEd,MAAMX,EAAqB,IAAIU,GAAmBlB,EAAOmB,GACzDkpB,EAAkB,CAAErqB,QAAOmB,YAAWX,sB,IAE3C,CAACjhC,EAAKwnB,EAAUrI,EAAIgoB,KAElB0jB,EACD,OAAO,KAGX,MAAM,MAAEpqB,EAAK,UAAEmB,EAAS,mBAAEX,GAAuB4pB,EAEjD,OACI,EAAClC,GAAc,CACX1oB,QAASgB,EACT2nB,QAASgC,EACT7rD,UAAW,UACXk9B,QAASqmB,EACTpiB,QAASf,IAET,EAACorB,GAAa,CAAC1tD,QAASA,EAAS2tD,MAAOA,EAAO//B,MAAM,eACrD,EAAC43B,GAAU,CAACtqD,MAAOA,EAAOuqD,SAAUA,IACpC,SAAKvjD,UAAW,aACZ,EAAC,GAAM,eAAC0hC,MAAOA,GAAWsqB,IAC1B,EAAC,GAAM,eAACtqB,MAAOA,GAAW8H,KAE9B,SAAKxpC,UAAW,aACZ,EAACurD,GAAS,eAAC1oB,UAAWA,GAAespB,IACrC,EAACZ,GAAS,eAAC1oB,UAAWA,GAAewpB,KAGhD,ECpMQ,GAAM,IAAI9lE,WAAW,CAC9B,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,EAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,EAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,EAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,GAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,EAAK,IACnC,GAAK,IAAK,GAAK,EAAK,IAAK,GAAK,IAAK,EACnC,IAAK,GAAK,IAAK,GAAK,EAAK,IAAK,GAAK,EACnC,IAAK,EAAK,IAAK,GAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IACnC,EAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,EAAK,IACnC,GAAK,IAAK,GAAK,EAAK,IAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,EACnC,GAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,EACnC,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IACnC,EAAK,IAAK,EAAK,GAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,EAAK,GACnC,GAAK,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,EAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IACnC,EAAK,IAAK,IAAK,EAAK,GAAK,IAAK,GAAK,IACnC,IAAK,GAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,EAAK,IAAK,EAAK,IAAK,GAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GACnC,GAAK,GAAK,IAAK,EAAK,GAAK,IAAK,EAAK,IACnC,EAAK,IAAK,IAAK,GAAK,IAAK,IAAK,EAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,EAAK,IAAK,GAAK,GAAK,EAAK,IAAK,EACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,GAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,EAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,GAAK,EACnC,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IAAK,EACnC,EAAK,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,EAAK,EAAK,EAAK,EAAK,IACnC,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,EAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GACnC,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,GAAK,EAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,IAAK,IAAK,EAAK,GAAK,GAAK,EAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,IAAK,IAAK,IAAK,EAAK,GAAK,GAAK,IACnC,GAAK,EAAK,GAAK,EAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,EAAK,IAAK,EAAK,IAAK,GAAK,EAAK,IACnC,GAAK,EAAK,IAAK,IAAK,EAAK,IAAK,EAAK,IACnC,GAAK,EAAK,GAAK,IAAK,IAAK,EAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,EAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IACnC,GAAK,EAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,GAAK,EAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,EAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,EAAK,IAAK,GAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,EAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,EAAK,EAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,EAAK,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,EAAK,GAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GACnC,EAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,EAAK,EAAK,GAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,GACnC,IAAK,IAAK,GAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,EAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,EAAK,IAAK,EAAK,GAAK,GAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IACnC,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,EACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,GACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,EACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,GAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,GAAK,EAAK,GAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,EAAK,GAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,IAAK,GAAK,GAAK,IAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,IAAK,EAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,EAAK,IAAK,GAAK,IACnC,IAAK,GAAK,EAAK,IAAK,IAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,GAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GACnC,GAAK,EAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IACnC,IAAK,EAAK,IAAK,EAAK,IAAK,GAAK,EAAK,GACnC,GAAK,IAAK,IAAK,EAAK,GAAK,GAAK,GAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GAAK,IACnC,GAAK,EAAK,GAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,EAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,EAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,GACnC,EAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,GAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,GAAK,GAAK,GAAK,IACnC,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,EAAK,GAAK,IAAK,EAAK,IACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,GAAK,EAAK,IAAK,EAAK,IACnC,GAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,GAAK,GAAK,IACnC,GAAK,EAAK,GAAK,GAAK,IAAK,EAAK,IAAK,IACnC,EAAK,IAAK,GAAK,GAAK,IAAK,IAAK,EAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,EACnC,GAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,EAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,GAAK,IAAK,IACnC,EAAK,GAAK,GAAK,EAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,GACnC,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,EAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,EAAK,GAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,EAAK,GAAK,GAAK,GAAK,GAAK,IACnC,EAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,EACnC,IAAK,IAAK,EAAK,GAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GACnC,GAAK,EAAK,IAAK,GAAK,IAAK,GAAK,GAAK,GACnC,GAAK,EAAK,EAAK,EAAK,GAAK,GAAK,EAAK,EACnC,GAAK,GAAK,EAAK,EAAK,GAAK,GAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,GAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GACnC,EAAK,GAAK,GAAK,IAAK,EAAK,GAAK,EAAK,GACnC,GAAK,GAAK,GAAK,EAAK,EAAK,EAAK,IAAK,IACnC,GAAK,IAAK,IAAK,GAAK,GAAK,EAAK,EAAK,EACnC,GAAK,GAAK,EAAK,EAAK,IAAK,GAAK,IAAK,GACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,GAAK,EAAK,GAAK,GAAK,IACnC,EAAK,GAAK,EAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,GAAK,EAAK,EAAK,EAAK,GAAK,GAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,IAAK,GAAK,EAAK,IAAK,GAAK,EAAK,GACnC,GAAK,GAAK,EAAK,IAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,IAAK,IAAK,EAAK,GAAK,EACnC,EAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EAAK,GACnC,IAAK,IAAK,EAAK,IAAK,GAAK,EAAK,IAAK,IACnC,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,EAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,EAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,EAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,GAAK,GAAK,GAAK,IAAK,IAAK,EACnC,GAAK,IAAK,GAAK,GAAK,EAAK,IAAK,IAAK,GACnC,GAAK,IAAK,EAAK,IAAK,GAAK,GAAK,GAAK,IACnC,EAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,GACnC,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,EAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,GACnC,IAAK,EAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GACnC,IAAK,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,EAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,IACnC,EAAK,GAAK,IAAK,GAAK,GAAK,GAAK,IAAK,EACnC,IAAK,GAAK,IAAK,IAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,EAAK,IAAK,EAAK,GAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,EAAK,EAAK,GACnC,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,GACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,GAAK,IAAK,EAAK,IAAK,GACnC,GAAK,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,EAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IAAK,EACnC,IAAK,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GACnC,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,GACnC,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,IACnC,GAAK,GAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IACnC,EAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,EAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,IAAK,GAAK,GAAK,IAAK,GAAK,IAAK,EAAK,IACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IACnC,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GACnC,IAAK,EAAK,IAAK,EAAK,GAAK,IAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,EAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,GAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IACnC,EAAK,IAAK,GAAK,IAAK,GAAK,GAAK,GAAK,IACnC,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,EAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,GAAK,GAAK,GAAK,GAAK,IAAK,EAAK,IAAK,GACnC,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,GAAK,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,GAAK,GAAK,GAAK,GACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GACnC,GAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,GAAK,EAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GACnC,GAAK,GAAK,GAAK,IAAK,IAAK,EAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,IAAK,GAAK,EAAK,EACnC,GAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,GAAK,GAAK,GAAK,EAAK,GACnC,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,GACnC,GAAK,EAAK,IAAK,GAAK,IAAK,GAAK,GAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,IAAK,EAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,EAAK,IAAK,EAAK,EAAK,GAAK,GAAK,IACnC,GAAK,EAAK,EAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,EAAK,GAAK,IAAK,GAAK,IAAK,IACnC,EAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,EAAK,GAAK,EACnC,GAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,EAAK,EACnC,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,EAAK,EAAK,GAAK,EAAK,EACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,EAAK,EACnC,IAAK,EAAK,GAAK,EAAK,EAAK,GAAK,EAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,EAAK,EAAK,IAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,GAAK,GACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GACnC,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IACnC,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,EAAK,GACnC,EAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,IAAK,GAAK,GAAK,IAAK,EAAK,EAAK,GAAK,IACnC,GAAK,GAAK,EAAK,EAAK,GAAK,EAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IACnC,EAAK,EAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,IAAK,EAAK,EAAK,GAAK,IAAK,GAAK,IACnC,EAAK,EAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,GACnC,GAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,EACnC,IAAK,EAAK,EAAK,IAAK,EAAK,EAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,EAAK,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,EAAK,EAAK,GAAK,EAAK,EACnC,GAAK,EAAK,EAAK,GAAK,IAAK,EAAK,EAAK,IACnC,EAAK,EAAK,IAAK,GAAK,EAAK,IAAK,EAAK,EACnC,IAAK,EAAK,EAAK,IAAK,GAAK,EAAK,IAAK,EACnC,EAAK,GAAK,IAAK,EAAK,EAAK,IAAK,EAAK,EACnC,GAAK,IAAK,EAAK,EAAK,IAAK,EAAK,EAAK,IACnC,GAAK,IAAK,GAAK,EAAK,IAAK,IAAK,GAAK,EACnC,GAAK,IAAK,EAAK,EAAK,IAAK,EAAK,EAAK,IACnC,EAAK,EAAK,IAAK,GAAK,EAAK,IAAK,EAAK,EACnC,IAAK,EAAK,EAAK,IAAK,EAAK,EAAK,IAAK,GACnC,EAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,GAAK,GAAK,GAAK,IACnC,GAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IAAK,EACnC,IAAK,EAAK,EAAK,IAAK,EAAK,EAAK,GAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,EAAK,EAAK,IAAK,EAAK,IAAK,GACnC,IAAK,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,EAAK,EAAK,IACnC,EAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,EAAK,IAAK,GAAK,IAAK,EAAK,EACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,EACnC,EAAK,GAAK,GAAK,IAAK,EAAK,EAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IACnC,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,GAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,EAAK,GAAK,IAAK,EAAK,EAAK,GAAK,GACnC,GAAK,IAAK,EAAK,GAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,GAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,GAAK,EAAK,GACnC,EAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,GACnC,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,GAAK,EAAK,IAAK,EAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,GACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,EAAK,GAAK,IAAK,IAAK,GAAK,GACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,EAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,EAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,EACnC,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,EAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,EACnC,EAAK,IAAK,IAAK,GAAK,EAAK,IAAK,EAAK,EACnC,IAAK,EAAK,EAAK,GAAK,GAAK,IAAK,EAAK,EACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,GAAK,GAAK,IAAK,GAAK,IAAK,EAAK,EAAK,GACnC,EAAK,EAAK,IAAK,EAAK,GAAK,GAAK,GAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,EAAK,GAAK,GACnC,GAAK,IAAK,GAAK,IAAK,EAAK,EAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,EACnC,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,EAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,EAAK,EAAK,IAAK,EAAK,EAAK,GACnC,EAAK,EAAK,IAAK,GAAK,GAAK,IAAK,EAAK,EACnC,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,GAAK,IAAK,IAAK,GACnC,GAAK,GAAK,IAAK,EAAK,EAAK,IAAK,IAAK,IACnC,EAAK,EAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IA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AK,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,EAAK,GACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,IAAK,EAAK,IAAK,GAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,GAAK,EAAK,IAAK,IAAK,IACnC,GAAK,IAAK,GAAK,EAAK,IAAK,GAAK,IAAK,IACnC,IAAK,GAAK,EAAK,IAAK,IAAK,IAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,GAAK,EACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GACnC,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,EACnC,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,EAAK,IACnC,EAAK,GAAK,IAAK,GAAK,EAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,GAAK,EAAK,IAAK,EACnC,GAAK,IAAK,GAAK,EAAK,IAAK,EAAK,IAAK,GACnC,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IACnC,EAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,EACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,EAAK,GAAK,IAAK,EAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,EAAK,IAAK,GAAK,EACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EAAK,IACnC,GAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,EAAK,IACnC,IAAK,IAAK,EAAK,IAAK,GAAK,GAAK,GAAK,GACnC,GAAK,IAAK,GAAK,EAAK,IAAK,GAAK,EAAK,GACnC,GAAK,GAAK,GAAK,EAAK,IAAK,GAAK,GAAK,EACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,GACnC,IAAK,EAAK,IAAK,GAAK,GAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,GAAK,GAAK,GAAK,IACnC,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,EAAK,GACnC,EAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,EAAK,EAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,EAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,GACnC,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,EAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,EAAK,IAAK,GAAK,GAAK,EAAK,IAAK,IAAK,IACnC,EAAK,EAAK,IAAK,IAAK,IAAK,GAAK,EAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,GAAK,EAAK,IAAK,IAAK,EAAK,GAAK,GACnC,IAAK,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,GACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,GAAK,IAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,GAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IACnC,EAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC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nC,GAAK,IAAK,GAAK,GAAK,GAAK,GAAK,EAAK,GACnC,GAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EAAK,EACnC,EAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,EAAK,GAAK,EACnC,IAAK,IAAK,GAAK,IAAK,IAAK,EAAK,IAAK,EACnC,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GACnC,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,EAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,IAAK,IAAK,EAAK,GAAK,IAAK,EAAK,GACnC,EAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,GACnC,GAAK,EAAK,IAAK,GAAK,EAAK,IAAK,IAAK,EACnC,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,EAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IACnC,IAAK,GAAK,IAAK,IAAK,EAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IACnC,IAAK,IAAK,IAAK,EAAK,GAAK,EAAK,IAAK,IACnC,GAAK,IAAK,IAAK,EAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,EAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,EAAK,GAAK,IAAK,EAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,EACnC,IAAK,IAAK,EAAK,IAAK,EAAK,GAAK,IAAK,IACnC,IAAK,EAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,EAAK,IACnC,IAAK,EAAK,GAAK,EAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,EAAK,GAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EAAK,IACnC,IAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EAAK,IACnC,IAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IACnC,IAAK,EAAK,GAAK,IAAK,GAAK,IAAK,EAAK,IACnC,EAAK,IAAK,IAAK,EAAK,GAAK,EAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GACnC,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,EAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,EAAK,GAAK,IACnC,EAAK,IAAK,IAAK,EAAK,GAAK,GAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,GAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,EAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,EAAK,GAAK,EAAK,IACnC,EAAK,IAAK,GAAK,GAAK,IAAK,GAAK,EAAK,IACnC,EAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,EAAK,IAAK,IACnC,EAAK,GAAK,EAAK,IAAK,GAAK,IAAK,IAAK,GACnC,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,EAAK,GACnC,EAAK,IAAK,IAAK,IAAK,IAAK,EAAK,GAAK,IACnC,EAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GACnC,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,EAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,GAAK,GAAK,EAAK,IAAK,GAAK,GAAK,GACnC,GAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,EAAK,GAAK,GAAK,IAAK,IAAK,IACnC,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,IAAK,EAAK,GAAK,GAAK,IAAK,IACnC,EAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,EAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,EAAK,IAAK,GAAK,IAAK,GACnC,GAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,EAAK,IACnC,IAAK,IAAK,GAAK,IAAK,EAAK,EAAK,IAAK,GACnC,GAAK,GAAK,IAAK,EAAK,EAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,EAAK,EAAK,IAAK,EAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,GAAK,GAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,EAAK,GAAK,GACnC,IAAK,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,EACnC,IAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACnC,EAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IACnC,EAAK,GAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GACnC,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MAG1BioE,GAAY,IAAIjoE,WAAW,CACpC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,IAAK,IACnC,IAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,IAAK,IACnC,IAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,GAAK,GAAK,GAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,GAAK,GAAK,IAAK,EAAK,EAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,GAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,GAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,GAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,GAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,IAAK,IAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,EAAK,GAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,IAAK,GAAK,GAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,GAAK,GAAK,EAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,EAAK,EAAK,EAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,EAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,EAAK,EAAK,GAAK,EAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,GAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,IAAK,EAAK,EAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,EAAK,EAAK,EAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,EAAK,EAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,EAAK,GAAK,GAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,EAAK,GAAK,GAAK,EAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,EAAK,GAAK,GAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,EAAK,GAAK,GAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,EAAK,EAAK,EAAK,EAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,EAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,EAAK,EAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,GAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,IACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,EAAK,GACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,GAAK,GAAK,GAAK,IAAK,GACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,EAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,IAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,IAAK,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","file":"preact.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Apple2\"] = factory();\n\telse\n\t\troot[\"Apple2\"] = factory();\n})(self, function() {\nreturn ","var inProgress = {};\nvar dataWebpackPrefix = \"Apple2:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","var map = {\n\t\"./apple2_char\": [\n\t\t7975,\n\t\t975\n\t],\n\t\"./apple2_char.ts\": [\n\t\t7975,\n\t\t975\n\t],\n\t\"./apple2e_char\": [\n\t\t3189,\n\t\t189\n\t],\n\t\"./apple2e_char.ts\": [\n\t\t3189,\n\t\t189\n\t],\n\t\"./apple2enh_char\": [\n\t\t4064,\n\t\t64\n\t],\n\t\"./apple2enh_char.ts\": [\n\t\t4064,\n\t\t64\n\t],\n\t\"./apple2j_char\": [\n\t\t8132,\n\t\t132\n\t],\n\t\"./apple2j_char.ts\": [\n\t\t8132,\n\t\t132\n\t],\n\t\"./apple2lc_char\": [\n\t\t957,\n\t\t957\n\t],\n\t\"./apple2lc_char.ts\": [\n\t\t957,\n\t\t957\n\t],\n\t\"./pigfont_char\": [\n\t\t5030,\n\t\t30\n\t],\n\t\"./pigfont_char.ts\": [\n\t\t5030,\n\t\t30\n\t],\n\t\"./rmfont_char\": [\n\t\t6601,\n\t\t601\n\t],\n\t\"./rmfont_char.ts\": [\n\t\t6601,\n\t\t601\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 2800;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./apple2e\": [\n\t\t2553,\n\t\t553\n\t],\n\t\"./apple2e.ts\": [\n\t\t2553,\n\t\t553\n\t],\n\t\"./apple2enh\": [\n\t\t5045,\n\t\t45\n\t],\n\t\"./apple2enh.ts\": [\n\t\t5045,\n\t\t45\n\t],\n\t\"./apple2ex\": [\n\t\t2875,\n\t\t875\n\t],\n\t\"./apple2ex.ts\": [\n\t\t2875,\n\t\t875\n\t],\n\t\"./apple2j\": [\n\t\t7156,\n\t\t156\n\t],\n\t\"./apple2j.ts\": [\n\t\t7156,\n\t\t156\n\t],\n\t\"./fpbasic\": [\n\t\t4094,\n\t\t94\n\t],\n\t\"./fpbasic.ts\": [\n\t\t4094,\n\t\t94\n\t],\n\t\"./intbasic\": [\n\t\t7089,\n\t\t89\n\t],\n\t\"./intbasic.ts\": [\n\t\t7089,\n\t\t89\n\t],\n\t\"./original\": [\n\t\t4663,\n\t\t663\n\t],\n\t\"./original.ts\": [\n\t\t4663,\n\t\t663\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 6190;\nmodule.exports = webpackAsyncContext;","\"use strict\";\n\nconst screenEmu = (function () {\n\n  // Classes\n\n  const Point = class {\n    constructor(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n  }\n\n  const Size = class {\n    constructor(width, height) {\n      this.width = width;\n      this.height = height;\n    }\n\n    copy() {\n      return new Size(this.width, this.height);\n    }\n\n    get ratio() {\n      return this.width / this.height;\n    }\n  }\n\n  const Rect = class {\n    constructor(x, y, width, height) {\n      this.origin = new Point(x, y);\n      this.size = new Size(width, height);\n    }\n\n    get x() {\n      return this.origin.x;\n    }\n\n    get y() {\n      return this.origin.y;\n    }\n\n    get width() {\n      return this.size.width;\n    }\n\n    get height() {\n      return this.size.height;\n    }\n\n    get l() {\n      return this.origin.x;\n    }\n\n    get r() {\n      return this.origin.x + this.size.width;\n    }\n\n    get t() {\n      return this.origin.y;\n    }\n\n    get b() {\n      return this.origin.y + this.size.height;\n    }\n  }\n\n  const Vector = class {\n    constructor(n) {\n      this.data = new Float32Array(n);\n    }\n\n    // Normalize the vector.\n    normalize() {\n      const vec = this.data;\n      let sum = 0;\n      for (const item of vec) {\n        sum += item;\n      }\n      const gain = 1/sum;\n      for (const i in vec) {\n        vec[i] *= gain;\n      }\n      return this;\n    }\n\n    // Multiply this Vector by another, or by a number.\n    mul(other) {\n      const w = new Vector(0);\n      if ((typeof other != \"number\") && (this.data.length != other.data.length)) {\n        return w;\n      }\n\n      w.data = new Float32Array(this.data);\n\n      for (let i = 0; i < w.data.length; i++) {\n        if (typeof other == \"number\") {\n          w.data[i] *= other;\n        } else {\n          w.data[i] *= other.data[i];\n        }\n      }\n\n      return w;\n    }\n\n    realIDFT() {\n      const size = this.data.length;\n      const w = new Vector(size);\n      for (let i = 0; i < size; i++) {\n        const omega = 2 * Math.PI * i / size;\n\n        for (let j = 0; j < size; j++) {\n          w.data[i] += this.data[j] * Math.cos(j * omega);\n        }\n      }\n\n      for (let i = 0; i < size; i++) {\n        w.data[i] /= size;\n      }\n\n      return w;\n    }\n\n    resize(n) {\n      const newData = new Float32Array(n);\n      for (let i=0; i < Math.min(newData.length, this.data.length); i++) {\n        newData[i] = this.data[i];\n      }\n      this.data = newData;\n      return this;\n    }\n\n    // Chebyshev Window\n    //\n    // Based on ideas at:\n    // http://www.dsprelated.com/showarticle/42.php\n    //\n    static chebyshevWindow(n, sidelobeDb) {\n      const m = n - 1;\n      let w = new Vector(m);\n\n      const alpha = Math.cosh(Math.acosh(Math.pow(10, sidelobeDb / 20)) / m);\n      for (let i = 0; i < m; i++) {\n        const a = Math.abs(alpha * Math.cos(Math.PI * i / m));\n        if (a > 1)\n          w.data[i] = Math.pow(-1, i) * Math.cosh(m * Math.acosh(a));\n        else\n          w.data[i] = Math.pow(-1, i) * Math.cos(m * Math.acos(a));\n      }\n\n      w = w.realIDFT();\n\n      w.resize(n);\n      w.data[0] /= 2;\n      w.data[n-1] = w.data[0];\n\n      const max = w.data.reduce((prev, cur) => Math.max(prev, Math.abs(cur)));\n      for (const i in w.data) {\n        w.data[i] /= max;\n      }\n\n      return w;\n    }\n\n    // Lanczos Window\n    static lanczosWindow(n, fc) {\n      let v = new Vector(n);\n      fc = Math.min(fc, 0.5);\n      const halfN = Math.floor(n / 2);\n\n      for (let i = 0; i < n; i++) {\n        const x = 2 * Math.PI * fc * (i - halfN);\n\n        v.data[i] = (x == 0.0) ? 1.0 : Math.sin(x) / x;\n      }\n\n      return v;\n    }\n\n  };\n\n  const Matrix3 = class {\n    constructor(c00, c01, c02,\n                c10, c11, c12,\n                c20, c21, c22) {\n      this.data = new Float32Array([c00, c01, c02, c10, c11, c12, c20, c21, c22]);\n    }\n\n    at(i, j) {\n      return this.data[3 * i + j];\n    }\n\n    mul(val) {\n      const m = new Matrix3(0,0,0,0,0,0,0,0,0);\n      if (typeof val == \"number\") {\n        m.data = this.data.map(x => x * val);\n      } else {\n        for (let i = 0; i < 3; i++) {\n          for (let j = 0; j < 3; j++) {\n            for (let k = 0; k < 3; k++) {\n              m.data[i * 3 + j] += val.data[i * 3 + k] * this.data[k * 3 + j];\n            }\n          }\n        }\n      }\n      return m;\n    }\n  }\n\n\n  // From AppleIIVideo.cpp\n\n  const HORIZ_START = 16;\n  const HORIZ_BLANK = (9 + HORIZ_START) // 25;\n  const HORIZ_DISPLAY = 40;\n  const HORIZ_TOTAL = (HORIZ_BLANK + HORIZ_DISPLAY) // 65;\n\n  const CELL_WIDTH = 14;\n  const CELL_HEIGHT = 8;\n\n  const VERT_NTSC_START = 38;\n  const VERT_PAL_START = 48;\n  const VERT_DISPLAY = 192;\n\n  const BLOCK_WIDTH = HORIZ_DISPLAY; // 40\n  const BLOCK_HEIGHT = (VERT_DISPLAY / CELL_HEIGHT); // 24\n\n  // From CanvasInterface.h\n\n  const NTSC_FSC     = 315/88 * 1e6;         // 3579545 = 3.5 Mhz: Color Subcarrier\n  const NTSC_4FSC    = 4 * NTSC_FSC;         // 14318180 = 14.3 Mhz\n  const NTSC_HTOTAL  = (63+5/9) * 1e-6;\n  const NTSC_HLENGTH = (52+8/9) * 1e-6;\n  const NTSC_HHALF   = (35+2/3) * 1e-6;\n  const NTSC_HSTART  = NTSC_HHALF - NTSC_HLENGTH/2;\n  const NTSC_HEND    = NTSC_HHALF + NTSC_HLENGTH/2;\n  const NTSC_VTOTAL  = 262;\n  const NTSC_VLENGTH = 240;\n  const NTSC_VSTART  = 19;\n  const NTSC_VEND    = NTSC_VSTART + NTSC_VLENGTH;\n\n  const PAL_FSC      = 4433618.75; // Color subcarrier\n  const PAL_4FSC     = 4 * PAL_FSC;\n  const PAL_HTOTAL   = 64e-6;\n  const PAL_HLENGTH  = 52e-6;\n  const PAL_HHALF    = (37+10/27) * 1e-6;\n  const PAL_HSTART   = PAL_HHALF - PAL_HLENGTH / 2;\n  const PAL_HEND     = PAL_HHALF + PAL_HLENGTH / 2;\n  const PAL_VTOTAL   = 312;\n  const PAL_VLENGTH  = 288;\n  const PAL_VSTART   = 21;\n  const PAL_VEND     = PAL_VSTART + PAL_VLENGTH;\n\n  // From OpenGLCanvas.cpp\n  const NTSC_I_CUTOFF = 1300000;\n  const NTSC_Q_CUTOFF = 600000;\n  const NTSC_IQ_DELTA = NTSC_I_CUTOFF - NTSC_Q_CUTOFF;\n\n  // From AppleIIVideo::updateTiming\n  const ntscClockFrequency = NTSC_4FSC * HORIZ_TOTAL / 912;\n  const ntscVisibleRect = new Rect(ntscClockFrequency * NTSC_HSTART, NTSC_VSTART,\n\t\t\t\t   ntscClockFrequency * NTSC_HLENGTH, NTSC_VLENGTH);\n  const ntscDisplayRect = new Rect(HORIZ_START, VERT_NTSC_START,\n\t\t\t\t   HORIZ_DISPLAY, VERT_DISPLAY);\n  const ntscVertTotal = NTSC_VTOTAL;\n\n  const palClockFrequency = 14250450.0 * HORIZ_TOTAL / 912;\n  const palVisibleRect = new Rect(palClockFrequency * PAL_HSTART, PAL_VSTART,\n\t\t\t\t  palClockFrequency * PAL_HLENGTH, PAL_VLENGTH);\n  const palDisplayRect = new Rect(HORIZ_START, VERT_PAL_START,\n\t\t\t\t  HORIZ_DISPLAY, VERT_DISPLAY);\n  const palVertTotal = PAL_VTOTAL;\n\n  const VERTEX_RENDER_SHADER =`\n// an attribute will receive data from a buffer\nattribute vec4 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\n\n// all shaders have a main function\nvoid main() {\n  gl_Position = a_position;\n  v_texCoord = a_texCoord;\n}\n`;\n\n  const VERTEX_DISPLAY_SHADER =`\n// an attribute will receive data from a buffer\nattribute vec4 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_texCoord2;\nvarying vec2 v_texCoord;\nvarying vec2 v_texCoord2;\n\n// all shaders have a main function\nvoid main() {\n  gl_Position = vec4(a_position.x, -a_position.y, a_position.z, a_position.w);\n  v_texCoord = a_texCoord;\n  v_texCoord2 = a_texCoord2;\n}\n`;\n\n  const COMPOSITE_SHADER = `\nprecision mediump float;\n\nvarying vec2 v_texCoord;\n\nuniform sampler2D texture;\nuniform vec2 textureSize;\nuniform float subcarrier;\nuniform sampler2D phaseInfo;\nuniform vec3 c0, c1, c2, c3, c4, c5, c6, c7, c8;\nuniform mat3 decoderMatrix;\nuniform vec3 decoderOffset;\n\nfloat PI = 3.14159265358979323846264;\n\nvec3 pixel(in vec2 q)\n{\n  vec3 c = texture2D(texture, q).rgb;\n  vec2 p = texture2D(phaseInfo, vec2(0, q.y)).rg;\n  float phase = 2.0 * PI * (subcarrier * textureSize.x * q.x + p.x);\n  return c * vec3(1.0, sin(phase), (1.0 - 2.0 * p.y) * cos(phase));\n}\n\nvec3 pixels(vec2 q, float i)\n{\n  return pixel(vec2(q.x + i, q.y)) + pixel(vec2(q.x - i, q.y));\n}\n\nvoid main(void)\n{\n  vec2 q = v_texCoord;\n  vec3 c = pixel(q) * c0;\n  c += pixels(q, 1.0 / textureSize.x) * c1;\n  c += pixels(q, 2.0 / textureSize.x) * c2;\n  c += pixels(q, 3.0 / textureSize.x) * c3;\n  c += pixels(q, 4.0 / textureSize.x) * c4;\n  c += pixels(q, 5.0 / textureSize.x) * c5;\n  c += pixels(q, 6.0 / textureSize.x) * c6;\n  c += pixels(q, 7.0 / textureSize.x) * c7;\n  c += pixels(q, 8.0 / textureSize.x) * c8;\n  gl_FragColor = vec4(decoderMatrix * c + decoderOffset, 1.0);\n}\n`;\n\n  const DISPLAY_SHADER = `\nprecision mediump float;\n\nvarying vec2 v_texCoord;\nvarying vec2 v_texCoord2;\n\nuniform sampler2D texture;\nuniform vec2 textureSize;\nuniform float barrel;\nuniform vec2 barrelSize;\nuniform float scanlineLevel;\nuniform sampler2D shadowMask;\nuniform vec2 shadowMaskSize;\nuniform float shadowMaskLevel;\nuniform float centerLighting;\nuniform sampler2D persistence;\nuniform vec2 persistenceSize;\nuniform vec2 persistenceOrigin;\nuniform float persistenceLevel;\nuniform float luminanceGain;\n\nfloat PI = 3.14159265358979323846264;\n\nvoid main(void)\n{\n  vec2 qc = (v_texCoord2 - vec2(0.5, 0.5)) * barrelSize;\n  vec2 qb = barrel * qc * dot(qc, qc);\n  vec2 q = v_texCoord + qb;\n\n  vec3 c = texture2D(texture, q).rgb;\n\n  float scanline = sin(PI * textureSize.y * q.y);\n  c *= mix(1.0, scanline * scanline, scanlineLevel);\n\n  vec3 mask = texture2D(shadowMask, (v_texCoord2 + qb) * shadowMaskSize).rgb;\n  c *= mix(vec3(1.0, 1.0, 1.0), mask, shadowMaskLevel);\n\n  vec2 lighting = qc * centerLighting;\n  c *= exp(-dot(lighting, lighting));\n\n  c *= luminanceGain;\n\n  vec2 qp = v_texCoord2 * persistenceSize + persistenceOrigin;\n  c = max(c, texture2D(persistence, qp).rgb * persistenceLevel - 0.5 / 256.0);\n\n  gl_FragColor = vec4(c, 1.0);\n}\n`;\n\n  const RGB_SHADER = `\nprecision mediump float;\n\nvarying vec2 v_texCoord;\n\nuniform sampler2D texture;\nuniform vec2 textureSize;\nuniform vec3 c0, c1, c2, c3, c4, c5, c6, c7, c8;\nuniform mat3 decoderMatrix;\nuniform vec3 decoderOffset;\n\nvec3 pixel(vec2 q)\n{\n  return texture2D(texture, q).rgb;\n}\n\nvec3 pixels(in vec2 q, in float i)\n{\n  return pixel(vec2(q.x + i, q.y)) + pixel(vec2(q.x - i, q.y));\n}\n\nvoid main(void)\n{\n  vec2 q = v_texCoord;\n  vec3 c = pixel(q) * c0;\n  c += pixels(q, 1.0 / textureSize.x) * c1;\n  c += pixels(q, 2.0 / textureSize.x) * c2;\n  c += pixels(q, 3.0 / textureSize.x) * c3;\n  c += pixels(q, 4.0 / textureSize.x) * c4;\n  c += pixels(q, 5.0 / textureSize.x) * c5;\n  c += pixels(q, 6.0 / textureSize.x) * c6;\n  c += pixels(q, 7.0 / textureSize.x) * c7;\n  c += pixels(q, 8.0 / textureSize.x) * c8;\n  gl_FragColor = vec4(decoderMatrix * c + decoderOffset, 1.0);\n}\n`;\n\n  function buildTiming(clockFrequency, displayRect, visibleRect, vertTotal, fsc) {\n    const vertStart = displayRect.y;\n    // Total number of CPU cycles per frame: 17030 for NTSC.\n    const frameCycleNum = HORIZ_TOTAL * vertTotal;\n    // first displayed column.\n    const horizStart = Math.floor(displayRect.x);\n    // imageSize is [14 * visible rect width in cells, visible lines]\n    const imageSize = new Size(Math.floor(CELL_WIDTH * visibleRect.width),\n\t\t\t       Math.floor(visibleRect.height));\n    // imageLeft is # of pixels from first visible point to first displayed point.\n    const imageLeft = Math.floor((horizStart-visibleRect.x) * CELL_WIDTH);\n    const colorBurst = [2 * Math.PI * (-33/360 + (imageLeft % 4) / 4)];\n    const cycleNum = frameCycleNum + 16;\n\n    // First pixel that OpenEmulator draws when painting normally.\n    const topLeft = new Point(imageLeft, vertStart - visibleRect.y);\n    // First pixel that OpenEmulator draws when painting 80-column mode.\n    const topLeft80Col = new Point(imageLeft - CELL_WIDTH/2, vertStart - visibleRect.y);\n\n    return {\n      fsc: fsc,\n      clockFrequency: clockFrequency,\n      displayRect: displayRect,\n      visibleRect: visibleRect,\n      vertStart: vertStart,\n      vertTotal: vertTotal,\n      frameCycleNum: frameCycleNum,\n      horizStart: horizStart,\n      imageSize: imageSize,\n      imageLeft: imageLeft,\n      colorBurst: colorBurst,\n      cycleNum: cycleNum,\n      topLeft: topLeft,\n      topLeft80Col: topLeft80Col,\n    };\n  }\n\n  const NTSC_DETAILS = buildTiming(ntscClockFrequency, ntscDisplayRect,\n                                   ntscVisibleRect, ntscVertTotal, NTSC_FSC);\n  const PAL_DETAILS = buildTiming(palClockFrequency, palDisplayRect,\n\t\t\t\t  palVisibleRect, palVertTotal, PAL_FSC);\n\n  // https://codereview.stackexchange.com/a/128619\n  const loadImage = path =>\n        new Promise((resolve, reject) => {\n          const img = new Image();\n          img.onload = () => resolve(img);\n          img.onerror = () => reject(`error loading '${path}'`);\n          img.src = path;\n        });\n\n  // Given an image that's 560x192, render it into the larger space\n  // required for NTSC or PAL.\n  // image: a 560x192 image, from the same domain (hence readable).\n  // details: NTSC_DETAILS, or PAL_DETAILS\n  // returns: a canvas\n  const screenData = (image, details, dhgr=true) => {\n    if ((image.naturalWidth != 560) || (image.naturalHeight != 192)) {\n      throw new Error('screenData expects an image 560x192;' +\n                      ` got ${image.naturalWidth}x${image.naturalHeight}`);\n    }\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    const width = details.imageSize.width;\n    const height = details.imageSize.height;\n    canvas.width = width;\n    canvas.height = height;\n    context.fillStyle = 'rgba(0,0,0,1)';\n    context.fillRect(0, 0, width, height);\n    const topLeft = dhgr ? details.topLeft80Col : details.topLeft;\n    context.drawImage(image, topLeft.x, topLeft.y);\n    const imageData = context.getImageData(0, 0, width, height);\n    return [canvas, imageData];\n  };\n\n  // Given an ImageData (RGBA), convert to luminance by taking the max\n  // of (R,G,B) for each pixel. Return a Uint8Array.\n  const luminanceData = (imageData) => {\n    const width = imageData.width;\n    const height = imageData.height;\n    const data = imageData.data;\n    const size = width * height;\n    const ary = new Uint8Array(size);\n    for (let i = 0; i < size; i++) {\n      ary[i] = Math.max(data[i*4], data[i*4+1], data[i*4+2]);\n    }\n    return ary;\n  };\n\n  const TEXTURE_NAMES = [\n    \"SHADOWMASK_TRIAD\",\n    \"SHADOWMASK_INLINE\",\n    \"SHADOWMASK_APERTURE\",\n    \"SHADOWMASK_LCD\",\n    \"SHADOWMASK_BAYER\",\n    \"IMAGE_PHASEINFO\",\n    \"IMAGE_IN\",\n    \"IMAGE_DECODED\",\n    \"IMAGE_PERSISTENCE\",\n  ];\n\n  const BUFFER_COUNT = 3;\n\n  const SHADER_NAMES = [\n    \"COMPOSITE\",\n    \"DISPLAY\",\n    \"RGB\",\n  ];\n\n  const resizeCanvas = (canvas) => {\n    // Lookup the size the browser is displaying the canvas.\n    const displayWidth = canvas.clientWidth;\n    const displayHeight = canvas.clientHeight;\n\n    // Check if the canvas is not the same size.\n    if (canvas.width != displayWidth ||\n        canvas.height != displayHeight) {\n      canvas.width = displayWidth;\n      canvas.height = displayHeight;\n    }\n  };\n\n  // Code from:\n  // https://webglfundamentals.org/webgl/lessons/webgl-fundamentals.html\n  const createShader = (gl, name, type, source) => {\n    const shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    const success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (success) {\n      return shader;\n    }\n\n    const log = gl.getShaderInfoLog(shader);\n    gl.deleteShader(shader);\n    throw new Error(`unable to compile shader ${name}: \\n${log}`);\n  };\n\n  // Code from:\n  // https://webglfundamentals.org/webgl/lessons/webgl-fundamentals.html\n  const createProgram = (gl, name, ...shaders) => {\n    const program = gl.createProgram();\n    for (let shader of shaders) {\n      gl.attachShader(program, shader);\n    }\n    gl.linkProgram(program);\n    const success = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (success) {\n      return program;\n    }\n    const log = gl.getProgramInfoLog(program);\n    gl.deleteProgram(program);\n    throw new Error(`unable to compile program ${name}: \\n${log}`);\n  };\n\n  const TextureInfo = class {\n    constructor(width, height, glTexture) {\n      this.width = width;\n      this.height = height;\n      this.glTexture = glTexture;\n    }\n\n    get size() {\n      return new Size(this.width, this.height);\n    }\n  };\n\n  const DisplayConfiguration = class {\n    constructor() {\n      this.videoDecoder = \"CANVAS_YUV\";\n      this.videoBrightness = 0;\n      this.videoContrast = 1;\n      this.videoSaturation = 1;\n      this.videoHue = 0;\n      this.videoCenter = new Point(0, 0);\n      this.videoSize = new Size(1.05, 1.05);\n      this.videoBandwidth = 6000000; // 14318180;\n      this.videoLumaBandwidth = 2000000; // 600000;\n      this.videoChromaBandwidth = 600000; // 2000000;\n      this.videoWhiteOnly = false;\n\n      this.displayResolution = new Size(640, 480);\n      this.displayPixelDensity = 72;\n      this.displayBarrel = 0.05; // 0;\n      this.displayScanlineLevel = 0.05; // 0;\n      this.displayShadowMaskLevel = 0.05; // 0;\n      this.displayShadowMaskDotPitch = 0.5; // 1;\n      this.displayShadowMask = \"SHADOWMASK_TRIAD\";\n      this.displayPersistence = 0;\n      this.displayCenterLighting = 1;\n      this.displayLuminanceGain = 1;\n    }\n  };\n\n  // Corresponds to OEImage. Contains the data on an NTSC/PAL/whatever\n  // image. The `data` field is an ImageData object with the actual\n  // image data.\n  const ImageInfo = class {\n    constructor(data) {\n      if (typeof data != \"object\") {\n        throw new Error(`want typeof data == 'object'; got '${typeof data}'`);\n      }\n      if (!(data instanceof ImageData)) {\n        throw new Error(`want data instanceof ImageData; got '${data.constructor.name}'`);\n      }\n\n      this.sampleRate = NTSC_4FSC;\n      this.blackLevel = 0;\n      this.whiteLevel = 1;\n      this.interlace = 0;\n      this.subCarrier = NTSC_FSC;\n      this.colorBurst = NTSC_DETAILS.colorBurst;\n      this.phaseAlternation = [false];\n      this.data = data;\n    }\n\n    get width() {\n      return this.data.width;\n    }\n\n    get height() {\n      return this.data.height;\n    }\n\n    get size() {\n      return new Size(this.data.width, this.data.height);\n    }\n  };\n\n  const ScreenView = class {\n    constructor(canvas) {\n      const gl = canvas.getContext(\"webgl\");\n      const float_texture_ext = gl.getExtension('OES_texture_float');\n      if (float_texture_ext == null) {\n        throw new Error(\"WebGL extension 'OES_texture_float' unavailable\");\n      }\n\n      this.canvas = canvas;\n      this.gl = gl;\n      this.textures = {};\n      this.shaders = {};\n      this.buffers = [];\n      this.image = null;\n      this.display = null;\n      this.imageSampleRate = null;\n      this.imageBlackLevel = null;\n      this.imageWhiteLevel = null;\n      this.imageSubcarrier = null;\n      this.viewportSize = new Size(0, 0);\n      this.persistenceTexRect = new Rect(0, 0, 0, 0);\n\n      this.configurationChanged = true;\n      this.imageChanged = true;\n    }\n\n    get image() {\n      return this._image\n    }\n\n    set image(image) {\n      this._image = image;\n      this.imageChanged = true;\n    }\n\n    set displayConfiguration(displayConfiguration) {\n      this.display = displayConfiguration;\n      this.configurationChanged = true;\n    }\n\n    async initOpenGL() {\n      const gl = this.gl;\n\n      gl.enable(gl.BLEND);\n      gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n      this.textures = {};\n\n      for (let name of TEXTURE_NAMES) {\n        this.textures[name] = new TextureInfo(0, 0, gl.createTexture());\n      }\n\n      for (let i = 0; i < BUFFER_COUNT; i++) {\n        this.buffers.push(gl.createBuffer());\n      }\n\n      await this.loadTextures();\n\n      gl.pixelStorei(gl.PACK_ALIGNMENT, 1);\n      gl.pixelStorei(gl.UNPACK_ALIGNMENT, 1);\n\n      this.loadShaders();\n    }\n\n    freeOpenGL() {\n      const gl = this.gl;\n\n      for (let name of TEXTURE_NAMES) {\n        gl.deleteTexture(this.textures[name].glTexture);\n      }\n\n      for (let buffer of this.buffers) {\n        gl.deleteBuffer(buffer);\n      }\n\n      this.deleteShaders();\n    }\n\n    loadTextures() {\n      return Promise.all([\n        this.loadTexture(\"data:image/jpeg;base64,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\", true, \"SHADOWMASK_TRIAD\"),\n        this.loadTexture(\"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABACAIAAABdtOgoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxdJREFUeNrsnDtoVEEUhr9do0YwAR9YiGJhoYIiFiJooSJoI6KFj8KIIAQRIwQsLI2IYhHBQkGxUolgowQtREEJPlAxEhstYnwQNBLQJMSYxI3xetLkce7dCUuKvfv/TLP3nHNnmG927mPOXDKwE5rgB/yC3lEl+tkNb6EGyonRDGiA3NjIcSWyXiBe1eb0Oz7+D7yExRMjK62Fw2Flg1v5reD482787uD4VuJOMBAQfTKu9w6H1d5vnB2thC9hp7iYSgDZEzaI8+oorHANGwnSTFjvGpa5Q9vTFtKo7NIwv3kwxzVMC66qzG9AgfFFDyAT7JpBmgIA6gIBEABJAARAEgABkARAACQBEABJAASgVDQsAIXpb4Fd/TU4/pt79GdwE9pTCKAPXoR5fojr6ivwOSD+DVx3DU22qJZXA1CfQgA5OAXfA9xOwyfX9g72wwOD6aoHbsNB6HDNg1Bry6Wd8ZU3W/xd11z0y0zPYDMcgTW2tjp6nsnAELTBVXiUcIonsAPmwnRvnhq0fIXBhPiIzDGog1kxc2SXpRaQTgAjg7imwFP0T+Zi4Pdyp+6CdBsqCYAASAIgAJIACIAUpjQ8iC2CA7DaMoDHPQnn4CPcgJaE+GrL3B6Id4iekK8lvPJZB8et8qEYh8j0Gs76rzuKPb17lRmSI3tgV1zvbbXH4LyVd9q7DkcLbO9CSPtrUzgFZW3jQt4E7wp7U7PQte2xAZpX8+P2N0TDf21YY6tSCGA2bArzjP4oS1xDZXBlFe7R8uD4ynRehMsm83fRXZAkAAIgCYAASAIgAJIACIAkAAIgAJIACIBUrAAKzc8fLnUAfcGuOffoq7DgIUvSdtQWnNb6NJ0A7oT5PYb3ruEy3A+Ib4CbrqE5bufCWLXCmVQCKKuzrILtiU4ttuzf7dp6YR8cgm32Ta1xM1LGxnejZRXETlbnLMO8yr5dlh07KWXtY37P4VLYRpYiBNABe22Pw/IJGxRGNji0w8PkaaLLBnF9Ic1otFKK+r+kGl0G7lmRdBsqAJIACIAkAAIgCYAASFOvfwIMAIJ7Za+ecZHPAAAAAElFTkSuQmCC\", true, \"SHADOWMASK_INLINE\"),\n        this.loadTexture(\"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABACAIAAABdtOgoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNrs0bEJgEAURMHFWGzIOmzLQqzJJkyMBDUw85DLRJzHpQv/mCzJXvf6lJqq92NxP1Tv5/u4Sz59/1kTvRoAAAAEAIAAABAAAAIAQAAACAAAAQAgAA+tAN5tAyAAAAQAgAAAEAAAAgBAAAC4/hdfaAEIAAABACAAAAQAgAAAEAAAAgBAAAAIAAABACAAAAQAgAAAEAAAujoEGADEOVdpwC68FwAAAABJRU5ErkJggg==\", true, \"SHADOWMASK_APERTURE\"),\n        this.loadTexture(\"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABACAIAAABdtOgoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAedJREFUeNrsnL9rFEEcR9+uPwhyXBQbm1QWRsg/kcomiCCWVoLYpE5rbWehFnYWpk9lIQhCCCgKWgmCoNglCIomBs/EzVReMnd+RTj94ntMczv72f3OvpvhDpahgQvwGD7AF/j8U+s+foSXsAhTjOAo3IfBcHJf63pvMpqr5aSt0flv8ARmDib7kL1+LsE27P6qXR9192uBcNe+ludUYQ7exS5xqzqA7PXzLJbegLPVApZj+a7dqOYvhvOvqgPIXn97mhAn4US14xBRDlePtn+Yz15/24QvED9zkmSvv0UUoABRgAJEAQoQBShAFKAAUYACRAEK+NfZTP70N7MLGCQXMHAJcglSgChAAaIABYgCFCAKUIAoQAFWP7H6cw+hl1xAzyXISawAUYACRAEKEAUoQBSgAFGAAkQBCpAcAnbCZ+7+xtHJ8bfrb+Ov2NffBX8aC3+H59WON7Aeu8Rq9Wj2+rkT2+7pEUxX8z14EMjfGzPZlgL513DmYLKfv/7mFNyFhbHuXsCVsjlYneOl+1zZk2rfjG7K92OlDGBrzB3Ow+WyrV07PKnbEluD2/C2OoBjyevf20aqG8M8zMKR4XRTZt57eBieZhOmG8Cn5PXnpp+/fn+G+j9AAaIABYgCFCAK+P/4IcAAEwdyjgWX2v0AAAAASUVORK5CYII=\", true, \"SHADOWMASK_LCD\"),\n        this.loadTexture(\"data:image/jpeg;base64,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\", true, \"SHADOWMASK_BAYER\"),\n      ]);\n    }\n\n    async loadTexture(path, isMipMap, name) {\n      const gl = this.gl;\n      const texInfo = this.textures[name];\n      const image = await loadImage(path);\n      gl.bindTexture(gl.TEXTURE_2D, texInfo.glTexture);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA,\n                    gl.RGBA, gl.UNSIGNED_BYTE, image);\n      if (isMipMap) {\n        gl.generateMipmap(gl.TEXTURE_2D);\n      }\n\n      texInfo.width = image.naturalWidth;\n      texInfo.height = image.naturalHeight;\n    }\n\n    loadShaders() {\n      this.loadShader(\"COMPOSITE\", COMPOSITE_SHADER, VERTEX_RENDER_SHADER);\n      this.loadShader(\"RGB\", RGB_SHADER, VERTEX_RENDER_SHADER);\n      this.loadShader(\"DISPLAY\", DISPLAY_SHADER, VERTEX_DISPLAY_SHADER);\n    }\n\n    loadShader(name, fragmentSource, vertexSource) {\n      const glVertexShader = createShader(this.gl, name, this.gl.VERTEX_SHADER, vertexSource);\n      const glFragmentShader = createShader(this.gl, name, this.gl.FRAGMENT_SHADER,\n\t\t\t\t\t    fragmentSource);\n      const glProgram = createProgram(this.gl, name, glVertexShader, glFragmentShader);\n      this.gl.deleteShader(glVertexShader);\n      this.gl.deleteShader(glFragmentShader);\n      this.shaders[name] = glProgram;\n    }\n\n    deleteShaders() {\n      for (let name of SHADER_NAMES) {\n        if (this.shaders[name]) {\n          this.gl.deleteProgram(this.shaders[name]);\n          this.shaders[name] = false;\n        }\n      }\n    }\n\n    vsync() {\n      const gl = this.gl;\n      resizeCanvas(this.canvas);\n      const canvasWidth = this.canvas.width;\n      const canvasHeight = this.canvas.height;\n\n      // if viewport size has changed:\n      if ((this.viewportSize.width != canvasWidth)\n          || (this.viewportSize.height != this.canvasHeight)) {\n        this.viewportSize = new Size(canvasWidth, canvasHeight);\n        gl.viewport(0, 0, canvasWidth, canvasHeight);\n        this.configurationChanged = true;\n      }\n\n      if (this.imageChanged) {\n        this.uploadImage();\n      }\n\n      if (this.configurationChanged) {\n        this.configureShaders();\n      }\n\n      if (this.imageChanged || this.configurationChanged) {\n        this.renderImage();\n      }\n\n      if (this.imageChanged || this.configurationChanged ||\n          this.image.displayPersistence != 0) {\n        this.drawDisplayCanvas();\n      }\n\n      this.imageChanged = false;\n      this.configurationChanged = false;\n    }\n\n    uploadImage() {\n      const gl = this.gl;\n      const image = this.image;\n\n      this.resizeTexture(\"IMAGE_IN\", image.width, image.height, true);\n      const texInfoImage = this.textures[\"IMAGE_IN\"];\n      gl.bindTexture(gl.TEXTURE_2D, texInfoImage.glTexture);\n      const format = gl.LUMINANCE;\n      const type = gl.UNSIGNED_BYTE;\n      const luminance = luminanceData(image.data);\n      gl.texSubImage2D(gl.TEXTURE_2D, 0,\n                       0, 0, // xoffset, yoffset\n                       image.data.width,\n                       image.data.height,\n                       format, type, luminance);\n\n      // Update configuration\n      if ((image.sampleRate != this.imageSampleRate) ||\n          (image.blackLevel != this.imageBlackLevel) ||\n          (image.whiteLevel != this.imageWhiteLevel) ||\n          (image.subCarrier != this.imageSubcarrier))\n      {\n        this.imageSampleRate = image.sampleRate;\n        this.imageBlackLevel = image.blackLevel;\n        this.imageWhiteLevel = image.whiteLevel;\n        this.imageSubcarrier = image.subCarrier;\n\n        this.configurationChanged = true;\n      }\n\n      // Upload phase info\n      const texHeight = 2**Math.ceil(Math.log2(image.height));\n      const colorBurst = image.colorBurst\n      const phaseAlternation = image.phaseAlternation;\n\n      const phaseInfo = new Float32Array(3 * texHeight);\n\n      for (let x = 0; x < image.height; x++) {\n        const c = colorBurst[x % colorBurst.length] / 2 / Math.PI;\n        phaseInfo[3 * x + 0] = c - Math.floor(c);\n        phaseInfo[3 * x + 1] = phaseAlternation[x % phaseAlternation.length];\n      }\n\n      const texInfoPhase = this.textures[\"IMAGE_PHASEINFO\"];\n      gl.bindTexture(gl.TEXTURE_2D, texInfoPhase.glTexture);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, 1, texHeight, 0,\n                    gl.RGB, gl.FLOAT, phaseInfo);\n    }\n\n    getRenderShader() {\n      switch (this.display.videoDecoder) {\n      case \"CANVAS_RGB\":\n      case \"CANVAS_MONOCHROME\":\n        return [this.shaders[\"RGB\"], \"RGB\"];\n      case \"CANVAS_YUV\":\n      case \"CANVAS_YIQ\":\n      case \"CANVAS_CXA2025AS\":\n        return [this.shaders[\"COMPOSITE\"], \"COMPOSITE\"];\n      }\n      const decoder = this.display.videoDecoder;\n      throw new Error(`unknown displayConfiguration.videoDecoder: ${decoder}`);\n    }\n\n    configureShaders() {\n      const gl = this.gl;\n\n      const [renderShader, renderShaderName] = this.getRenderShader();\n      const displayShader = this.shaders[\"DISPLAY\"];\n\n      const isCompositeDecoder = (renderShaderName == \"COMPOSITE\");\n\n      // Render shader\n      gl.useProgram(renderShader);\n\n      // Subcarrier\n      if (isCompositeDecoder) {\n        gl.uniform1f(gl.getUniformLocation(renderShader, \"subcarrier\"),\n                     this.imageSubcarrier / this.imageSampleRate);\n      }\n\n      // Filters\n      const w = Vector.chebyshevWindow(17, 50).normalize();\n\n      let wy, wu, wv;\n\n      const bandwidth = this.display.videoBandwidth / this.imageSampleRate;\n\n      if (isCompositeDecoder) {\n        let yBandwidth = this.display.videoLumaBandwidth / this.imageSampleRate;\n        let uBandwidth = this.display.videoChromaBandwidth / this.imageSampleRate;\n        let vBandwidth = uBandwidth;\n\n        if (this.display.videoDecoder == \"CANVAS_YIQ\")\n          uBandwidth = uBandwidth + NTSC_IQ_DELTA / this.imageSampleRate;\n\n        // Switch to video bandwidth when no subcarrier\n        if ((this.imageSubcarrier == 0.0) || this.display.videoWhiteOnly)\n        {\n            yBandwidth = bandwidth;\n            uBandwidth = bandwidth;\n            vBandwidth = bandwidth;\n        }\n\n        wy = w.mul(Vector.lanczosWindow(17, yBandwidth));\n        wy = wy.normalize();\n\n        wu = w.mul(Vector.lanczosWindow(17, uBandwidth));\n        wu = wu.normalize().mul(2);\n\n        wv = w.mul(Vector.lanczosWindow(17, vBandwidth));\n        wv = wv.normalize().mul(2);\n      } else {\n        wy = w.mul(Vector.lanczosWindow(17, bandwidth));\n        wu = wv = wy = wy.normalize();\n      }\n\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c0\"),\n                   wy.data[8], wu.data[8], wv.data[8]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c1\"),\n                   wy.data[7], wu.data[7], wv.data[7]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c2\"),\n                   wy.data[6], wu.data[6], wv.data[6]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c3\"),\n                   wy.data[5], wu.data[5], wv.data[5]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c4\"),\n                   wy.data[4], wu.data[4], wv.data[4]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c5\"),\n                   wy.data[3], wu.data[3], wv.data[3]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c6\"),\n                   wy.data[2], wu.data[2], wv.data[2]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c7\"),\n                   wy.data[1], wu.data[1], wv.data[1]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c8\"),\n                   wy.data[0], wu.data[0], wv.data[0]);\n\n      // Decoder matrix\n      let decoderMatrix = new Matrix3(1, 0, 0,\n                                      0, 1, 0,\n                                      0, 0, 1);\n\n      // Encode\n      if (!isCompositeDecoder) {\n        // Y'PbPr encoding matrix\n        decoderMatrix = new Matrix3(0.299, -0.168736, 0.5,\n                                    0.587, -0.331264, -0.418688,\n                                    0.114, 0.5, -0.081312).mul(decoderMatrix);\n      }\n\n      // Set hue\n      if (this.display.videoDecoder == \"CANVAS_MONOCHROME\")\n        decoderMatrix = new Matrix3(1, 0.5, 0,\n                                    0, 0, 0,\n                                    0, 0, 0).mul(decoderMatrix);\n\n      // Disable color decoding when no subcarrier\n      if (isCompositeDecoder)\n      {\n        if ((this.imageSubcarrier == 0.0) || this.display.videoWhiteOnly) {\n          decoderMatrix = new Matrix3(1, 0, 0,\n                                      0, 0, 0,\n                                      0, 0, 0).mul(decoderMatrix);\n        }\n      }\n\n      // Saturation\n      decoderMatrix = new Matrix3(1, 0, 0,\n                                  0, this.display.videoSaturation, 0,\n                                  0, 0, this.display.videoSaturation).mul(decoderMatrix);\n\n      // Hue\n      let hue = 2 * Math.PI * this.display.videoHue;\n\n      decoderMatrix = new Matrix3(1, 0, 0,\n                                  0, Math.cos(hue), -Math.sin(hue),\n                                  0, Math.sin(hue), Math.cos(hue)).mul(decoderMatrix);\n\n      // Decode\n      switch (this.display.videoDecoder) {\n      case \"CANVAS_RGB\":\n      case \"CANVAS_MONOCHROME\":\n        // Y'PbPr decoder matrix\n        decoderMatrix = new Matrix3(1, 1, 1,\n                                    0, -0.344136, 1.772,\n                                    1.402, -0.714136, 0).mul(decoderMatrix);\n        break;\n\n      case \"CANVAS_YUV\":\n      case \"CANVAS_YIQ\":\n        // Y'UV decoder matrix\n        decoderMatrix = new Matrix3(1, 1, 1,\n                                    0, -0.394642, 2.032062,\n                                    1.139883, -0.580622, 0).mul(decoderMatrix);\n        break;\n\n      case \"CANVAS_CXA2025AS\":\n        // Exchange I and Q\n        decoderMatrix = new Matrix3(1, 0, 0,\n                                    0, 0, 1,\n                                    0, 1, 0).mul(decoderMatrix);\n\n        // Rotate 33 degrees\n        hue = -Math.PI * 33 / 180;\n        decoderMatrix = new Matrix3(1, 0, 0,\n                                    0, Math.cos(hue), -Math.sin(hue),\n                                    0, Math.sin(hue), Math.cos(hue)).mul(decoderMatrix);\n\n        // CXA2025AS decoder matrix\n        decoderMatrix = new Matrix3(1, 1, 1,\n                                    1.630, -0.378, -1.089,\n                                    0.317, -0.466, 1.677).mul(decoderMatrix);\n        break;\n      default:\n        throw new Error(`unknown videoDecoder: ${this.display.videoDecoder}`);\n      }\n\n      // Brightness\n      const brightness = this.display.videoBrightness - this.imageBlackLevel;\n      let decoderOffset;\n\n      if (isCompositeDecoder)\n        decoderOffset = decoderMatrix.mul(new Matrix3(brightness, 0, 0,\n                                                      0, 0, 0,\n                                                      0, 0, 0));\n      else\n        decoderOffset = decoderMatrix.mul(new Matrix3(brightness, 0, 0,\n                                                      brightness, 0, 0,\n                                                      brightness, 0, 0));\n\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"decoderOffset\"),\n                   decoderOffset.at(0, 0),\n                   decoderOffset.at(0, 1),\n                   decoderOffset.at(0, 2));\n\n      // Contrast\n      let contrast = this.display.videoContrast;\n\n      const videoLevel = (this.imageWhiteLevel - this.imageBlackLevel);\n      if (videoLevel > 0)\n        contrast /= videoLevel;\n      else\n        contrast = 0;\n\n      if (contrast < 0)\n        contrast = 0;\n\n      decoderMatrix = decoderMatrix.mul(contrast);\n\n      gl.uniformMatrix3fv(gl.getUniformLocation(renderShader, \"decoderMatrix\"),\n                          false, decoderMatrix.data);\n\n      // Display shader\n      gl.useProgram(displayShader);\n\n      // Barrel\n      gl.uniform1f(gl.getUniformLocation(displayShader, \"barrel\"),\n                   this.display.displayBarrel);\n\n      // Shadow mask\n      gl.uniform1i(gl.getUniformLocation(displayShader, \"shadowMask\"), 1);\n      gl.uniform1f(gl.getUniformLocation(displayShader, \"shadowMaskLevel\"),\n                   this.display.displayShadowMaskLevel);\n\n      // Persistence\n      const frameRate = 60;\n\n      gl.uniform1f(gl.getUniformLocation(displayShader, \"persistenceLevel\"),\n                   this.display.displayPersistence /\n                   (1.0 / frameRate + this.display.displayPersistence));\n\n      if (this.display.displayPersistence == 0)\n        this.resizeTexture(\"IMAGE_PERSISTENCE\", 0, 0);\n\n      // Center lighting\n      let centerLighting = this.display.displayCenterLighting;\n      if (Math.abs(centerLighting) < 0.001)\n        centerLighting = 0.001;\n      gl.uniform1f(gl.getUniformLocation(displayShader, \"centerLighting\"),\n                   1.0 / centerLighting - 1);\n\n      // Luminance gain\n      gl.uniform1f(gl.getUniformLocation(displayShader, \"luminanceGain\"),\n                   this.display.displayLuminanceGain);\n    }\n\n    renderImage() {\n      const gl = this.gl;\n      const [renderShader, renderShaderName] = this.getRenderShader();\n\n      const isCompositeDecoder = (renderShaderName == \"COMPOSITE\");\n\n      gl.useProgram(renderShader);\n\n      const texSize = this.textures[\"IMAGE_IN\"].size;\n      this.resizeTexture(\"IMAGE_DECODED\", texSize.width, texSize.height);\n\n      gl.uniform1i(gl.getUniformLocation(renderShader, \"texture\"), 0);\n      gl.uniform2f(gl.getUniformLocation(renderShader, \"textureSize\"),\n                   texSize.width, texSize.height);\n\n      if (isCompositeDecoder)\n      {\n        gl.uniform1i(gl.getUniformLocation(renderShader, \"phaseInfo\"), 1);\n\n        gl.activeTexture(gl.TEXTURE1);\n\n        gl.bindTexture(gl.TEXTURE_2D, this.textures[\"IMAGE_PHASEINFO\"].glTexture);\n\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n        gl.activeTexture(gl.TEXTURE0);\n      }\n\n      // Render to the back buffer, to avoid using FBOs\n      // (support for vanilla OpenGL 2.0 cards)\n\n      // I think webgl is rendering to the back buffer anyway, until\n      // we stop executing javascript statements and give control\n      // back, at which point it flips. So we might not need\n      // this. Although truly, I'm not certain what it's doing. If we\n      // *do* end up needing it, we'll have to go full webgl2.\n\n      // glReadBuffer(GL_BACK);\n\n      const imageSize = this.image.size;\n\n      for (let y = 0; y < this.image.height; y += this.viewportSize.height) {\n        for (let x = 0; x < this.image.width; x += this.viewportSize.width) {\n          // Calculate rects\n          const clipSize = this.viewportSize.copy();\n\n          if ((x + clipSize.width) > imageSize.width)\n            clipSize.width = imageSize.width - x;\n          if ((y + clipSize.height) > imageSize.height)\n            clipSize.height = imageSize.height - y;\n          const textureRect = new Rect(x / texSize.width,\n                                       y / texSize.height,\n                                       clipSize.width / texSize.width,\n                                       clipSize.height / texSize.height);\n          const canvasRect = new Rect(-1,\n                                      -1,\n                                      2 * clipSize.width / this.viewportSize.width,\n                                      2 * clipSize.height / this.viewportSize.height);\n\n          // Render\n          gl.bindTexture(gl.TEXTURE_2D, this.textures[\"IMAGE_IN\"].glTexture);\n\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n          // What is this, some ancient fixed pipeline nonsense? No way.\n          // glLoadIdentity();\n\n\t  this.drawRectangle(renderShader, canvasRect, textureRect);\n\n\t  // Copy framebuffer\n\t  gl.bindTexture(gl.TEXTURE_2D, this.textures[\"IMAGE_DECODED\"].glTexture);\n\n\t  gl.copyTexSubImage2D(gl.TEXTURE_2D, 0,\n\t\t\t     x, y, 0, 0,\n\t\t\t     clipSize.width, clipSize.height);\n        }\n      }\n    }\n\n    drawRectangle(shader, posRect, texRect, texRect2) {\n      const gl = this.gl;\n\n      gl.clearColor(0, 0, 0, 0);\n      gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n      const positionLocation = gl.getAttribLocation(shader, \"a_position\");\n      const texcoordLocations = [gl.getAttribLocation(shader, \"a_texCoord\")];\n      const texRects = [texRect];\n      if (texRect2) {\n\ttexcoordLocations.push(gl.getAttribLocation(shader, \"a_texCoord2\"));\n\ttexRects.push(texRect2);\n      }\n\n      const positionBuffer = this.buffers[0];\n      gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n      const p_x1 = posRect.l;\n      const p_x2 = posRect.r;\n      const p_y1 = posRect.t;\n      const p_y2 = posRect.b;\n      gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n        p_x1, p_y1,\n        p_x2, p_y1,\n        p_x1, p_y2,\n        p_x1, p_y2,\n        p_x2, p_y1,\n        p_x2, p_y2,\n      ]), gl.STATIC_DRAW);\n\n      gl.enableVertexAttribArray(positionLocation);\n      gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n      gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n      for (let i = 0; i < texRects.length; i++) {\n\tconst texcoordBuffer = this.buffers[i+1];\n\tgl.bindBuffer(gl.ARRAY_BUFFER, texcoordBuffer);\n\tconst t_x1 = texRects[i].l;\n\tconst t_x2 = texRects[i].r;\n\tconst t_y1 = texRects[i].t;\n\tconst t_y2 = texRects[i].b;\n\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n          t_x1, t_y1,\n          t_x2, t_y1,\n          t_x1, t_y2,\n          t_x1, t_y2,\n          t_x2, t_y1,\n          t_x2, t_y2,\n\t]), gl.STATIC_DRAW);\n\n\tgl.enableVertexAttribArray(texcoordLocations[i]);\n\tgl.bindBuffer(gl.ARRAY_BUFFER, texcoordBuffer);\n\tgl.vertexAttribPointer(texcoordLocations[i], 2, gl.FLOAT, false, 0, 0);\n      }\n\n      gl.drawArrays(gl.TRIANGLES, 0, 6);\n    }\n\n    drawDisplayCanvas() {\n      const gl = this.gl;\n\n      const displayShader = this.shaders[\"DISPLAY\"];\n\n      // Clear\n      // (Moved inside drawRectangle)\n      // gl.clearColor(0, 0, 0, 1);\n      // gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n      if (this.image.width == 0 || this.image.height == 0) {\n\tthis.resizeTexture(\"IMAGE_PERSISTENCE\", 0, 0);\n\treturn;\n      }\n\n      // Grab common variables\n      const displayResolution = this.display.displayResolution;\n\n      // Vertex rect\n      const vertexRect = new Rect(-1, -1, 2, 2);\n\n      const viewportAspectRatio = this.viewportSize.ratio;\n      const displayAspectRatio = displayResolution.ratio;\n\n      const ratio = viewportAspectRatio / displayAspectRatio;\n\n      if (ratio > 1) {\n\tvertexRect.origin.x /= ratio;\n\tvertexRect.size.width /= ratio;\n      } else {\n\tvertexRect.origin.y *= ratio;\n\tvertexRect.size.height *= ratio;\n      }\n\n      // Base texture rect\n      const baseTexRect = new Rect(0, 0, 1, 1);\n\n      // Canvas texture rect\n      const interlaceShift = this.image.interlace / this.image.height;\n\n      const canvasTexLowerLeft = this.getDisplayCanvasTexPoint(\n\tnew Point(-1, -1 + 2 * interlaceShift));\n      const canvasTexUpperRight = this.getDisplayCanvasTexPoint(\n\tnew Point(1, 1 + 2 * interlaceShift));\n\n      const canvasTexRect = new Rect(canvasTexLowerLeft.x,\n                                     canvasTexLowerLeft.y,\n                                     canvasTexUpperRight.x - canvasTexLowerLeft.x,\n                                     canvasTexUpperRight.y - canvasTexLowerLeft.y);\n\n      const canvasSize = new Size(0.5 * this.viewportSize.width *\n                                  vertexRect.size.width,\n                                  0.5 * this.viewportSize.height *\n                                  vertexRect.size.height);\n\n      const canvasVideoSize = new Size(canvasSize.width *\n                                       this.display.videoSize.width,\n                                       canvasSize.height *\n                                       this.display.videoSize.height);\n\n      let barrelTexRect;\n\n      // Render\n      const texture = this.textures[\"IMAGE_DECODED\"];\n\n      // Set uniforms\n      gl.useProgram(displayShader);\n\n      // Texture\n      const texSize = texture.size;\n\n      gl.uniform1i(gl.getUniformLocation(displayShader, \"texture\"), 0);\n      gl.uniform2f(gl.getUniformLocation(displayShader, \"textureSize\"),\n                   texSize.width, texSize.height);\n\n      // Barrel\n      barrelTexRect = new Rect(-0.5, -0.5 / displayAspectRatio,\n                               1.0, 1.0 / displayAspectRatio);\n      gl.uniform2f(gl.getUniformLocation(displayShader, \"barrelSize\"),\n                   1, 1.0 / displayAspectRatio);\n\n      // Scanlines\n      const scanlineHeight = canvasVideoSize.height / this.image.height;\n      let scanlineLevel = this.display.displayScanlineLevel;\n\n      scanlineLevel = ((scanlineHeight > 2.5) ? scanlineLevel :\n                       (scanlineHeight < 2) ? 0 :\n                       (scanlineHeight - 2) / (2.5 - 2) * scanlineLevel);\n\n      gl.uniform1f(gl.getUniformLocation(displayShader, \"scanlineLevel\"), scanlineLevel);\n\n      // Shadow mask\n      let shadowMaskTexture;\n      let shadowMaskAspectRatio;\n      switch (this.display.displayShadowMask)\n      {\n        case \"SHADOWMASK_TRIAD\":\n          shadowMaskTexture = this.textures[\"SHADOWMASK_TRIAD\"];\n          shadowMaskAspectRatio = 2 / (274.0 / 240.0);\n          break;\n        case \"SHADOWMASK_INLINE\":\n          shadowMaskTexture = this.textures[\"SHADOWMASK_INLINE\"];\n          shadowMaskAspectRatio = 2;\n          break;\n        case \"SHADOWMASK_APERTURE\":\n          shadowMaskTexture = this.textures[\"SHADOWMASK_APERTURE\"];\n          shadowMaskAspectRatio = 2;\n          break;\n        case \"SHADOWMASK_LCD\":\n          shadowMaskTexture = this.textures[\"SHADOWMASK_LCD\"];\n          shadowMaskAspectRatio = 2;\n          break;\n        case \"SHADOWMASK_BAYER\":\n          shadowMaskTexture = this.textures[\"SHADOWMASK_BAYER\"];\n          shadowMaskAspectRatio = 2;\n        break;\n      }\n\n      let shadowMaskDotPitch = this.display.displayShadowMaskDotPitch;\n\n      if (shadowMaskDotPitch <= 0.001)\n        shadowMaskDotPitch = 0.001;\n\n      const shadowMaskElemX = (displayResolution.width /\n                               this.display.displayPixelDensity *\n                               25.4 * 0.5 / shadowMaskDotPitch);\n      const shadowMaskSize = new Size(shadowMaskElemX,\n                                      shadowMaskElemX * shadowMaskAspectRatio /\n                                      displayAspectRatio);\n\n      gl.activeTexture(gl.TEXTURE1);\n\n      gl.bindTexture(gl.TEXTURE_2D, shadowMaskTexture.glTexture);\n\n      gl.uniform2f(gl.getUniformLocation(displayShader, \"shadowMaskSize\"),\n                   shadowMaskSize.width, shadowMaskSize.height);\n\n      // Persistence\n      gl.activeTexture(gl.TEXTURE2);\n\n      gl.bindTexture(gl.TEXTURE_2D, this.textures[\"IMAGE_PERSISTENCE\"].glTexture);\n\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n      gl.activeTexture(gl.TEXTURE0);\n\n      gl.uniform1i(gl.getUniformLocation(displayShader, \"persistence\"), 2);\n      gl.uniform2f(gl.getUniformLocation(displayShader, \"persistenceOrigin\"),\n                   this.persistenceTexRect.x, this.persistenceTexRect.y);\n      gl.uniform2f(gl.getUniformLocation(displayShader, \"persistenceSize\"),\n                   this.persistenceTexRect.width, this.persistenceTexRect.height);\n\n      // Old fixed pipeline stuff.\n      // gl.loadIdentity();\n      // gl.rotatef(180, 1, 0, 0);\n\n      gl.bindTexture(gl.TEXTURE_2D, texture.glTexture);\n\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n\n      // Render\n      this.drawRectangle(displayShader, vertexRect, canvasTexRect, baseTexRect);\n\n      // TODO(zellyn): implement\n/*\n    if (displayConfiguration.displayPersistence != 0.0)\n    {\n        updateTextureSize(OPENGLCANVAS_IMAGE_PERSISTENCE, viewportSize);\n\n        gl.bindTexture(gl.TEXTURE_2D, texture[OPENGLCANVAS_IMAGE_PERSISTENCE]);\n\n        gl.readBuffer(gl.BACK);\n\n        gl.copyTexSubImage2D(gl.TEXTURE_2D, 0,\n                            0, 0, 0, 0,\n                            viewportSize.width, viewportSize.height);\n\n        OESize persistenceTexSize = OEMakeSize(viewportSize.width /\n                                               textureSize[OPENGLCANVAS_IMAGE_PERSISTENCE].width,\n                                               viewportSize.height /\n                                               textureSize[OPENGLCANVAS_IMAGE_PERSISTENCE].height);\n        persistenceTexRect = OEMakeRect((vertexRect.origin.x + 1) * 0.5F * persistenceTexSize.width,\n                                        (vertexRect.origin.y + 1) * 0.5F * persistenceTexSize.height,\n                                        vertexRect.size.width * 0.5F * persistenceTexSize.width,\n                                        vertexRect.size.height * 0.5F * persistenceTexSize.height);\n\n        persistenceTexRect.origin.y += persistenceTexRect.size.height;\n        persistenceTexRect.size.height = -persistenceTexRect.size.height;\n    }\n*/\n\n    }\n\n    getDisplayCanvasTexPoint(p) {\n      const videoCenter = this.display.videoCenter;\n      const videoSize = this.display.videoSize;\n\n      p = new Point((p.x - 2 * videoCenter.x) / videoSize.width,\n                    (p.y - 2 * videoCenter.y) / videoSize.height);\n\n      const imageSize = this.image.size;\n      const texSize = this.textures[\"IMAGE_IN\"].size;\n\n      p.x = (p.x + 1) * 0.5 * imageSize.width / texSize.width;\n      p.y = (p.y + 1) * 0.5 * imageSize.height / texSize.height;\n\n      return p;\n    }\n\n    // Resize the texture with the given name to the next\n    // highest power of two width and height. Wouldn't be\n    // necessary with webgl2.\n    resizeTexture(name, width, height, luminance=false) {\n      const gl = this.gl;\n      const texInfo = this.textures[name];\n      if (!texInfo) {\n        throw new Error(`Cannot find texture named ${name}`);\n      }\n      if (width < 4) width = 4;\n      if (height < 4) height = 4;\n      width = 2**Math.ceil(Math.log2(width));\n      height = 2**Math.ceil(Math.log2(height));\n      if (texInfo.width != width || texInfo.height != height) {\n        texInfo.width = width;\n        texInfo.height = height;\n        gl.bindTexture(gl.TEXTURE_2D, texInfo.glTexture);\n\tconst length = width * height * (luminance ? 1 : 4);\n        const dummy = new Uint8Array(length);\n\tconst type = luminance ? gl.LUMINANCE : gl.RGBA;\n        gl.texImage2D(gl.TEXTURE_2D, 0, type, width, height, 0,\n                      type, gl.UNSIGNED_BYTE, dummy);\n      }\n    }\n  }\n\n  return {\n    C: {\n      HORIZ_START: HORIZ_START,\n      HORIZ_BLANK: HORIZ_BLANK,\n      HORIZ_DISPLAY: HORIZ_DISPLAY,\n      HORIZ_TOTAL: HORIZ_TOTAL,\n      CELL_WIDTH: CELL_WIDTH,\n      CELL_HEIGHT: CELL_HEIGHT,\n      VERT_NTSC_START: VERT_NTSC_START,\n      VERT_PAL_START: VERT_PAL_START,\n      VERT_DISPLAY: VERT_DISPLAY,\n      BLOCK_WIDTH: BLOCK_WIDTH,\n      BLOCK_HEIGHT: BLOCK_HEIGHT,\n      NTSC_I_CUTOFF: NTSC_I_CUTOFF,\n      NTSC_Q_CUTOFF: NTSC_Q_CUTOFF,\n      NTSC_IQ_DELTA: NTSC_IQ_DELTA,\n      NTSC_DETAILS: NTSC_DETAILS,\n      PAL_DETAILS: PAL_DETAILS,\n    },\n    loadImage: loadImage,\n    screenData: screenData,\n    resizeCanvas: resizeCanvas,\n    createShader: createShader,\n    createProgram: createProgram,\n\n    // Classes.\n    ScreenView: ScreenView,\n    DisplayConfiguration: DisplayConfiguration,\n    ImageInfo: ImageInfo,\n    Vector: Vector,\n    Size: Size,\n    Point: Point,\n  };\n})();\n\nif (typeof module !== 'undefined') {\n  module.exports = {\n    screenEmu: screenEmu\n  }\n}","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".full-page{background:#000}.js-components-css-App-module__container{font-size:14px;font-family:sans-serif;line-height:normal;display:flex;flex-direction:column;width:100%;height:100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/App.module.scss\"],\"names\":[],\"mappings\":\"AAAA,WACI,eAAA,CAGJ,yCACI,cAAA,CACA,sBAAA,CACA,kBAAA,CACA,YAAA,CACA,qBAAA,CACA,UAAA,CACA,WAAA\",\"sourcesContent\":[\":global(.full-page) {\\n    background: black;\\n}\\n\\n.container {\\n    font-size: 14px;\\n    font-family: sans-serif;\\n    line-height: normal;\\n    display: flex;\\n    flex-direction: column;\\n    width: 100%;\\n    height: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"container\": \"js-components-css-App-module__container\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-Apple2-module__container{display:flex;margin:auto}.js-components-css-Apple2-module__outer{width:620px;display:none}.js-components-css-Apple2-module__outer.js-components-css-Apple2-module__ready{display:block}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/Apple2.module.scss\"],\"names\":[],\"mappings\":\"AAAA,4CACI,YAAA,CACA,WAAA,CAGJ,wCACI,WAAA,CACA,YAAA,CAEA,+EACI,aAAA\",\"sourcesContent\":[\".container {\\n    display: flex;\\n    margin: auto;\\n}\\n\\n.outer {\\n    width: 620px;\\n    display: none;\\n\\n    &.ready {\\n        display: block;\\n    }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"container\": \"js-components-css-Apple2-module__container\",\n\t\"outer\": \"js-components-css-Apple2-module__outer\",\n\t\"ready\": \"js-components-css-Apple2-module__ready\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../../../css/green-off-16.png\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"../../../css/green-on-16.png\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"../../../css/green-off-32.png\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"../../../css/green-on-32.png\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-BlockDisk-module__disk{align-items:center;display:flex;flex-grow:1}.js-components-css-BlockDisk-module__diskLight{margin:5px;background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");background-size:16px 16px;flex-shrink:0;width:16px;height:16px}.js-components-css-BlockDisk-module__diskLight.js-components-css-BlockDisk-module__on{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \")}.js-components-css-BlockDisk-module__diskLabel{color:#000;font-family:sans-serif;font-weight:bold;margin-right:.5em;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;flex-grow:1;user-select:none}@media only screen and (min-resolution: 1.25dppx){.js-components-css-BlockDisk-module__diskLight{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \")}.js-components-css-BlockDisk-module__diskLight.js-components-css-BlockDisk-module__on{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \")}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/BlockDisk.module.scss\"],\"names\":[],\"mappings\":\"AAAA,0CACI,kBAAA,CACA,YAAA,CACA,WAAA,CAGJ,+CACI,UAAA,CACA,wDAAA,CACA,yBAAA,CACA,aAAA,CACA,UAAA,CACA,WAAA,CAGJ,sFACI,wDAAA,CAGJ,+CACI,UAAA,CACA,sBAAA,CACA,gBAAA,CACA,iBAAA,CACA,sBAAA,CACA,eAAA,CACA,kBAAA,CACA,WAAA,CACA,gBAAA,CAGJ,kDACI,+CACI,wDAAA,CAGJ,sFACI,wDAAA,CAAA\",\"sourcesContent\":[\".disk {\\n    align-items: center;\\n    display: flex;\\n    flex-grow: 1;\\n}\\n\\n.diskLight {\\n    margin: 5px;\\n    background-image: url(\\\"../../../css/green-off-16.png\\\");\\n    background-size: 16px 16px;\\n    flex-shrink: 0;\\n    width: 16px;\\n    height: 16px;\\n}\\n\\n.diskLight.on {\\n    background-image: url(\\\"../../../css/green-on-16.png\\\");\\n}\\n\\n.diskLabel {\\n    color: #000;\\n    font-family: sans-serif;\\n    font-weight: bold;\\n    margin-right: 0.5em;\\n    text-overflow: ellipsis;\\n    overflow: hidden;\\n    white-space: nowrap;\\n    flex-grow: 1;\\n    user-select: none;\\n}\\n\\n@media only screen and (min-resolution: 1.25dppx) {\\n    .diskLight {\\n        background-image: url(\\\"../../../css/green-off-32.png\\\");\\n    }\\n\\n    .diskLight.on {\\n        background-image: url(\\\"../../../css/green-on-32.png\\\");\\n    }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"disk\": \"js-components-css-BlockDisk-module__disk\",\n\t\"diskLight\": \"js-components-css-BlockDisk-module__diskLight\",\n\t\"on\": \"js-components-css-BlockDisk-module__on\",\n\t\"diskLabel\": \"js-components-css-BlockDisk-module__diskLabel\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-BlockFileModal-module__modalContent{width:320px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/BlockFileModal.module.scss\"],\"names\":[],\"mappings\":\"AAAA,uDACI,WAAA\",\"sourcesContent\":[\".modalContent {\\n    width: 320px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"modalContent\": \"js-components-css-BlockFileModal-module__modalContent\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-CPUMeter-module__khz{margin-right:4px;overflow:hidden;padding:4px;font-family:Courier,monospace;font-size:12px;width:60px;height:15px;text-align:right;background:#000;color:lime;border:2px inset #888;border-radius:4px;user-select:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/CPUMeter.module.scss\"],\"names\":[],\"mappings\":\"AAAA,wCACI,gBAAA,CACA,eAAA,CACA,WAAA,CACA,6BAAA,CACA,cAAA,CACA,UAAA,CACA,WAAA,CACA,gBAAA,CACA,eAAA,CACA,UAAA,CACA,qBAAA,CACA,iBAAA,CACA,gBAAA\",\"sourcesContent\":[\".khz {\\n    margin-right: 4px;\\n    overflow: hidden;\\n    padding: 4px;\\n    font-family: Courier, monospace;\\n    font-size: 12px;\\n    width: 60px;\\n    height: 15px;\\n    text-align: right;\\n    background: #000;\\n    color: #0f0;\\n    border: 2px inset #888;\\n    border-radius: 4px;\\n    user-select: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"khz\": \"js-components-css-CPUMeter-module__khz\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-Components-module__components{font-size:14px;font-family:sans-serif}.js-components-css-Components-module__components a[role=button]{text-decoration:none}.js-components-css-Components-module__components button,.js-components-css-Components-module__components a[role=button],.js-components-css-Components-module__components input[type=file]::file-selector-button{background:#44372c;color:#fff;padding:2px 8px;border:1px outset #66594e;border-radius:3px;font-size:15px;min-width:75px}.js-components-css-Components-module__components button.js-components-css-Components-module__iconButton,.js-components-css-Components-module__components a[role=button].js-components-css-Components-module__iconButton,.js-components-css-Components-module__components input[type=file]::file-selector-button.js-components-css-Components-module__iconButton{min-width:36px;margin:0 2px}.js-components-css-Components-module__components button:hover,.js-components-css-Components-module__components a[role=button]:hover,.js-components-css-Components-module__components input[type=file]::file-selector-button{background-color:#55473d;border:1px outset #66594e}.js-components-css-Components-module__components button:active,.js-components-css-Components-module__components a[role=button]:active,.js-components-css-Components-module__components input[type=file]::file-selector-button{background-color:#22150a;border:1px outset #44372c}.js-components-css-Components-module__components button:focus,.js-components-css-Components-module__components a[role=button]:focus,.js-components-css-Components-module__components input[type=file]::file-selector-button{outline:none}.js-components-css-Components-module__components input[type=checkbox]{appearance:none;background-color:#65594d;border:1px inset #65594d;padding:7px;top:7px;border-radius:3px;display:inline-block;position:relative}.js-components-css-Components-module__components input[type=checkbox]:checked{background-color:#65594d;border:1px inset #65594d;color:#0d0}.js-components-css-Components-module__components input[type=checkbox]:checked::after{content:\\\"\\\";font-size:12px;position:absolute;top:0;left:2px;color:#0d0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/Components.module.scss\"],\"names\":[],\"mappings\":\"AAAA,iDAAA,cACI,CAAA,sBACA,CAAA,gEAEA,oBACI,CAAA,gNAGJ,kBAGI,CAAA,UACA,CAAA,eACA,CAAA,yBACA,CAAA,iBACA,CAAA,cACA,CAAA,cACA,CAAA,gWAEA,cACI,CAAA,YACA,CAAA,4NAIR,wBAGI,CAAA,yBACA,CAAA,8NAGJ,wBAGI,CAAA,yBACA,CAAA,4NAGJ,YAGI,CAAA,sEAGJ,eACI,CAAA,wBACA,CAAA,wBACA,CAAA,WACA,CAAA,OACA,CAAA,iBACA,CAAA,oBACA,CAAA,iBACA,CAAA,8EAGJ,wBACI,CAAA,wBACA,CAAA,UACA,CAAA,qFAGJ,WACI,CAAA,cACA,CAAA,iBACA,CAAA,KACA,CAAA,QACA,CAAA,UACA\",\"sourcesContent\":[\".components {\\n    font-size: 14px;\\n    font-family: sans-serif;\\n\\n    a[role=\\\"button\\\"] {\\n        text-decoration: none;\\n    }\\n\\n    button,\\n    a[role=\\\"button\\\"],\\n    input[type=\\\"file\\\"]::file-selector-button {\\n        background: #44372c;\\n        color: #fff;\\n        padding: 2px 8px;\\n        border: 1px outset #66594e;\\n        border-radius: 3px;\\n        font-size: 15px;\\n        min-width: 75px;\\n\\n        &.iconButton {\\n            min-width: 36px;\\n            margin: 0 2px;\\n        }\\n    }\\n\\n    button:hover,\\n    a[role=\\\"button\\\"]:hover,\\n    input[type=\\\"file\\\"]::file-selector-button {\\n        background-color: #55473d;\\n        border: 1px outset #66594e;\\n    }\\n\\n    button:active,\\n    a[role=\\\"button\\\"]:active,\\n    input[type=\\\"file\\\"]::file-selector-button {\\n        background-color: #22150a;\\n        border: 1px outset #44372c;\\n    }\\n\\n    button:focus,\\n    a[role=\\\"button\\\"]:focus,\\n    input[type=\\\"file\\\"]::file-selector-button {\\n        outline: none;\\n    }\\n\\n    input[type=\\\"checkbox\\\"] {\\n        appearance: none;\\n        background-color: #65594d;\\n        border: 1px inset #65594d;\\n        padding: 7px;\\n        top: 7px;\\n        border-radius: 3px;\\n        display: inline-block;\\n        position: relative;\\n    }\\n\\n    input[type=\\\"checkbox\\\"]:checked {\\n        background-color: #65594d;\\n        border: 1px inset #65594d;\\n        color: #0d0;\\n    }\\n\\n    input[type=\\\"checkbox\\\"]:checked::after {\\n        content: \\\"\\\\2716\\\";\\n        font-size: 12px;\\n        position: absolute;\\n        top: 0;\\n        left: 2px;\\n        color: #0d0;\\n    }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"components\": \"js-components-css-Components-module__components\",\n\t\"iconButton\": \"js-components-css-Components-module__iconButton\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-ControlButton-module__active{color:lime}.js-components-css-ControlButton-module__iconButton{min-width:36px !important;margin:0 2px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/ControlButton.module.scss\"],\"names\":[],\"mappings\":\"AAAA,gDACI,UAAA,CAGJ,oDACI,yBAAA,CACA,YAAA\",\"sourcesContent\":[\".active {\\n    color: #0f0;\\n}\\n\\n.iconButton {\\n    min-width: 36px !important;\\n    margin: 0 2px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"active\": \"js-components-css-ControlButton-module__active\",\n\t\"iconButton\": \"js-components-css-ControlButton-module__iconButton\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-ControlStrip-module__reset{background:#44372c;border-left:3px solid #65594d;border-top:3px solid #65594d;border-right:3px solid #110e0d;border-bottom:3px solid #110e0d;border-radius:3px;color:#fff;font:9px Helvetica,sans-serif;height:36px;padding:0;margin-left:10px;width:36px;display:flex;justify-content:center;align-items:center;user-select:none}.js-components-css-ControlStrip-module__reset:hover{background:#44372c;border:3px outset #66594e}.js-components-css-ControlStrip-module__reset:active{background-color:#22150a;border-left:3px solid #44372c;border-top:3px solid #44372c;border-right:3px solid #000;border-bottom:3px solid #000}.full-page .js-components-css-ControlStrip-module__reset{display:none}.js-components-css-ControlStrip-module__resetRow{align-items:center;display:flex;margin:10px 0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/ControlStrip.module.scss\"],\"names\":[],\"mappings\":\"AAAA,8CACI,kBAAA,CACA,6BAAA,CACA,4BAAA,CACA,8BAAA,CACA,+BAAA,CAGA,iBAAA,CACA,UAAA,CACA,6BAAA,CACA,WAAA,CACA,SAAA,CACA,gBAAA,CACA,UAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,gBAAA,CAEA,oDACI,kBAAA,CACA,yBAAA,CAGJ,qDACI,wBAAA,CACA,6BAAA,CACA,4BAAA,CACA,2BAAA,CACA,4BAAA,CAIR,yDACI,YAAA,CAGJ,iDACI,kBAAA,CACA,YAAA,CACA,aAAA\",\"sourcesContent\":[\".reset {\\n    background: #44372c;\\n    border-left: 3px solid #65594d;\\n    border-top: 3px solid #65594d;\\n    border-right: 3px solid #110e0d;\\n    border-bottom: 3px solid #110e0d;\\n\\n    /* border: 5px outset #66594E; */\\n    border-radius: 3px;\\n    color: white;\\n    font: 9px Helvetica, sans-serif;\\n    height: 36px;\\n    padding: 0;\\n    margin-left: 10px;\\n    width: 36px;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    user-select: none;\\n\\n    &:hover {\\n        background: #44372c;\\n        border: 3px outset #66594e;\\n    }\\n\\n    &:active {\\n        background-color: #22150a;\\n        border-left: 3px solid #44372c;\\n        border-top: 3px solid #44372c;\\n        border-right: 3px solid #000;\\n        border-bottom: 3px solid #000;\\n    }\\n}\\n\\n:global(.full-page) .reset {\\n    display: none;\\n}\\n\\n.resetRow {\\n    align-items: center;\\n    display: flex;\\n    margin: 10px 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"reset\": \"js-components-css-ControlStrip-module__reset\",\n\t\"resetRow\": \"js-components-css-ControlStrip-module__resetRow\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../../../css/red-off-16.png\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"../../../css/red-on-16.png\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"../../../css/red-off-32.png\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"../../../css/red-on-32.png\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-DiskII-module__disk{align-items:center;display:flex;flex-grow:1}.js-components-css-DiskII-module__diskLight{margin:5px;background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");background-size:16px 16px;flex-shrink:0;width:16px;height:16px}.js-components-css-DiskII-module__diskLight.js-components-css-DiskII-module__on{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \")}.js-components-css-DiskII-module__diskLabel{color:#000;font-family:sans-serif;font-weight:bold;margin-right:.5em;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;flex-grow:1;user-select:none}@media only screen and (min-resolution: 1.25dppx){.js-components-css-DiskII-module__diskLight{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \")}.js-components-css-DiskII-module__diskLight.js-components-css-DiskII-module__on{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \")}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/DiskII.module.scss\"],\"names\":[],\"mappings\":\"AAAA,uCACI,kBAAA,CACA,YAAA,CACA,WAAA,CAGJ,4CACI,UAAA,CACA,wDAAA,CACA,yBAAA,CACA,aAAA,CACA,UAAA,CACA,WAAA,CAGJ,gFACI,wDAAA,CAGJ,4CACI,UAAA,CACA,sBAAA,CACA,gBAAA,CACA,iBAAA,CACA,sBAAA,CACA,eAAA,CACA,kBAAA,CACA,WAAA,CACA,gBAAA,CAGJ,kDACI,4CACI,wDAAA,CAGJ,gFACI,wDAAA,CAAA\",\"sourcesContent\":[\".disk {\\n    align-items: center;\\n    display: flex;\\n    flex-grow: 1;\\n}\\n\\n.diskLight {\\n    margin: 5px;\\n    background-image: url(\\\"../../../css/red-off-16.png\\\");\\n    background-size: 16px 16px;\\n    flex-shrink: 0;\\n    width: 16px;\\n    height: 16px;\\n}\\n\\n.diskLight.on {\\n    background-image: url(\\\"../../../css/red-on-16.png\\\");\\n}\\n\\n.diskLabel {\\n    color: #000;\\n    font-family: sans-serif;\\n    font-weight: bold;\\n    margin-right: 0.5em;\\n    text-overflow: ellipsis;\\n    overflow: hidden;\\n    white-space: nowrap;\\n    flex-grow: 1;\\n    user-select: none;\\n}\\n\\n@media only screen and (min-resolution: 1.25dppx) {\\n    .diskLight {\\n        background-image: url(\\\"../../../css/red-off-32.png\\\");\\n    }\\n\\n    .diskLight.on {\\n        background-image: url(\\\"../../../css/red-on-32.png\\\");\\n    }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"disk\": \"js-components-css-DiskII-module__disk\",\n\t\"diskLight\": \"js-components-css-DiskII-module__diskLight\",\n\t\"on\": \"js-components-css-DiskII-module__on\",\n\t\"diskLabel\": \"js-components-css-DiskII-module__diskLabel\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-DownloadModal-module__modalContent{display:flex;font-size:1.1em;justify-content:space-between;padding:10px 0;width:320px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/DownloadModal.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sDACI,YAAA,CACA,eAAA,CACA,6BAAA,CACA,cAAA,CACA,WAAA\",\"sourcesContent\":[\".modalContent {\\n    display: flex;\\n    font-size: 1.1em;\\n    justify-content: space-between;\\n    padding: 10px 0;\\n    width: 320px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"modalContent\": \"js-components-css-DownloadModal-module__modalContent\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-Drives-module__drives{display:flex;width:100%}.js-components-css-Drives-module__driveBay{display:flex;flex-direction:column;flex:1 1 50%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/Drives.module.scss\"],\"names\":[],\"mappings\":\"AAAA,yCACI,YAAA,CACA,UAAA,CAGJ,2CACI,YAAA,CACA,qBAAA,CACA,YAAA\",\"sourcesContent\":[\".drives {\\n    display: flex;\\n    width: 100%;\\n}\\n\\n.driveBay {\\n    display: flex;\\n    flex-direction: column;\\n    flex: 1 1 50%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"drives\": \"js-components-css-Drives-module__drives\",\n\t\"driveBay\": \"js-components-css-Drives-module__driveBay\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-ErrorModal-module__errorModal{width:320px;font-size:1.1em;padding:5px 11px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/ErrorModal.module.scss\"],\"names\":[],\"mappings\":\"AAAA,iDACI,WAAA,CACA,eAAA,CACA,gBAAA\",\"sourcesContent\":[\".errorModal {\\n    width: 320px;\\n    font-size: 1.1em;\\n    padding: 5px 11px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"errorModal\": \"js-components-css-ErrorModal-module__errorModal\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-FileModal-module__loadModal select{width:250px;height:300px;font-size:14px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/FileModal.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sDACI,WAAA,CACA,YAAA,CACA,cAAA\",\"sourcesContent\":[\".loadModal select {\\n    width: 250px;\\n    height: 300px;\\n    font-size: 14px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"loadModal\": \"js-components-css-FileModal-module__loadModal\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-Header-module__header{width:580px;margin:auto}@media all and (display-mode: minimal-ui){.js-components-css-Header-module__header{display:none}}.js-components-css-Header-module__header img{border:none}.full-page .js-components-css-Header-module__header{display:none}.js-components-css-Header-module__badge{cursor:pointer;user-select:none}.js-components-css-Header-module__subtitle{margin:0;padding:3px 0 0 10;color:#000;font-family:\\\"Adobe Garamond Pro\\\",Garamond,Times,serif;font-size:13px;font-weight:normal;user-select:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/Header.module.scss\"],\"names\":[],\"mappings\":\"AAAA,yCACI,WAAA,CACA,WAAA,CAGJ,0CACI,yCACI,YAAA,CAAA,CAIR,6CACI,WAAA,CAGJ,oDACI,YAAA,CAGJ,wCACI,cAAA,CACA,gBAAA,CAGJ,2CACI,QAAA,CACA,kBAAA,CACA,UAAA,CACA,qDAAA,CACA,cAAA,CACA,kBAAA,CACA,gBAAA\",\"sourcesContent\":[\".header {\\n    width: 580px;\\n    margin: auto;\\n}\\n\\n@media all and (display-mode: minimal-ui) {\\n    .header {\\n        display: none;\\n    }\\n}\\n\\n.header img {\\n    border: none;\\n}\\n\\n:global(.full-page) .header {\\n    display: none;\\n}\\n\\n.badge {\\n    cursor: pointer;\\n    user-select: none;\\n}\\n\\n.subtitle {\\n    margin: 0;\\n    padding: 3px 0 0 10;\\n    color: black;\\n    font-family: \\\"Adobe Garamond Pro\\\", Garamond, Times, serif;\\n    font-size: 13px;\\n    font-weight: normal;\\n    user-select: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"header\": \"js-components-css-Header-module__header\",\n\t\"badge\": \"js-components-css-Header-module__badge\",\n\t\"subtitle\": \"js-components-css-Header-module__subtitle\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-Inset-module__inset{border-radius:6px;border:3px inset #f0edd0;padding:6px;margin:0 auto;display:flex;width:604px}.full-page .js-components-css-Inset-module__inset{display:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/Inset.module.scss\"],\"names\":[],\"mappings\":\"AAAA,uCACI,iBAAA,CACA,wBAAA,CACA,WAAA,CACA,aAAA,CACA,YAAA,CACA,WAAA,CAGJ,kDACI,YAAA\",\"sourcesContent\":[\".inset {\\n    border-radius: 6px;\\n    border: 3px inset #f0edd0;\\n    padding: 6px;\\n    margin: 0 auto;\\n    display: flex;\\n    width: 604px;\\n}\\n\\n:global(.full-page) .inset {\\n    display: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"inset\": \"js-components-css-Inset-module__inset\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../../../img/open-apple24.png\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"../../../img/closed-apple24.png\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"../../../img/open-apple24-green.png\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"../../../img/closed-apple24-green.png\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-Keyboard-module__keyboard{margin-left:15px;user-select:none}.apple2e .js-components-css-Keyboard-module__keyboard{margin-left:0}.js-components-css-Keyboard-module__row{display:block;margin:0;padding:0;height:42px;font-family:Helvetica,sans-serif;width:570px}.apple2e .js-components-css-Keyboard-module__row{width:610px}.js-components-css-Keyboard-module__row0{margin-left:20px}.js-components-css-Keyboard-module__row2{margin-left:10px}.js-components-css-Keyboard-module__row3{margin-left:10px}.js-components-css-Keyboard-module__row4{margin-left:10px}.apple2e .js-components-css-Keyboard-module__row0{margin-left:0}.apple2e .js-components-css-Keyboard-module__row2{margin-left:0}.apple2e .js-components-css-Keyboard-module__row3{margin-left:0}.apple2e .js-components-css-Keyboard-module__row4{margin-left:0}.js-components-css-Keyboard-module__key{display:inline-block;margin:0;padding:0;width:32px;height:32px;background-color:#44372c;color:#fff;text-align:center;position:relative;border-left:5px solid #65594d;border-top:5px solid #65594d;border-right:5px solid #110e0d;border-bottom:5px solid #110e0d;border-radius:5px;cursor:pointer}.js-components-css-Keyboard-module__key .js-components-css-Keyboard-module__active{color:#4f4}.js-components-css-Keyboard-module__key .js-components-css-Keyboard-module__small{font-size:7px}.js-components-css-Keyboard-module__key div{border-radius:3px;position:absolute;bottom:0;width:100%;text-align:center}.js-components-css-Keyboard-module__key span{font-size:13px}.js-components-css-Keyboard-module__pressed{background-color:#22150a;border-left:5px solid #44372c;border-top:5px solid #44372c;border-right:5px solid #000;border-bottom:5px solid #000}.js-components-css-Keyboard-module__vCenter div{bottom:10px}.js-components-css-Keyboard-module__vCenter2 div{bottom:5px;line-height:10px}.js-components-css-Keyboard-module__key-RETURN{width:52px}.js-components-css-Keyboard-module__key-DELETE{width:47px}.js-components-css-Keyboard-module__key-TAB{width:47px}.js-components-css-Keyboard-module__key-POWER{width:38px;height:38px;border:2px groove #000;background-color:#ffd;color:#000;border-radius:2px}.js-components-css-Keyboard-module__key-POWER div{bottom:15px}.js-components-css-Keyboard-module__key-nbsp{margin-left:62px;width:330px}.apple2e .js-components-css-Keyboard-module__key-CTRL{width:60px}.apple2e .js-components-css-Keyboard-module__key-RETURN{width:60px}.apple2e .js-components-css-Keyboard-module__key-SHIFT{width:81px}.apple2e .js-components-css-Keyboard-module__key-nbsp{margin-left:0;width:215px}.js-components-css-Keyboard-module__key-POW{width:38px;height:38px;border:2px groove #000;background-color:#ffd;color:#000;border-radius:2px}.js-components-css-Keyboard-module__key-POW div{bottom:15px}.js-components-css-Keyboard-module__key-POW span{background:#4f4;color:#4f4}.js-components-css-Keyboard-module__key-OPEN_APPLE div{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");width:24px;height:24px;bottom:1px;left:4px}.js-components-css-Keyboard-module__key-CLOSED_APPLE div{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");width:24px;height:24px;bottom:1px;left:4px}.js-components-css-Keyboard-module__key-OPEN_APPLE span{display:none}.js-components-css-Keyboard-module__key-CLOSED_APPLE span{display:none}.js-components-css-Keyboard-module__key-OPEN_APPLE.js-components-css-Keyboard-module__active div{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \")}.js-components-css-Keyboard-module__key-CLOSED_APPLE.js-components-css-Keyboard-module__active div{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \")}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/Keyboard.module.scss\"],\"names\":[],\"mappings\":\"AAAA,6CACI,gBAAA,CACA,gBAAA,CAGJ,sDACI,aAAA,CAGJ,wCACI,aAAA,CACA,QAAA,CACA,SAAA,CACA,WAAA,CACA,gCAAA,CACA,WAAA,CAGJ,iDACI,WAAA,CAGJ,yCACI,gBAAA,CAGJ,yCACI,gBAAA,CAGJ,yCACI,gBAAA,CAGJ,yCACI,gBAAA,CAGJ,kDACI,aAAA,CAGJ,kDACI,aAAA,CAGJ,kDACI,aAAA,CAGJ,kDACI,aAAA,CAGJ,wCACI,oBAAA,CACA,QAAA,CACA,SAAA,CACA,UAAA,CACA,WAAA,CACA,wBAAA,CACA,UAAA,CACA,iBAAA,CACA,iBAAA,CACA,6BAAA,CACA,4BAAA,CACA,8BAAA,CACA,+BAAA,CAGA,iBAAA,CACA,cAAA,CAEA,mFACI,UAAA,CAGJ,kFACI,aAAA,CAGJ,4CACI,iBAAA,CACA,iBAAA,CACA,QAAA,CACA,UAAA,CACA,iBAAA,CAGJ,6CACI,cAAA,CAIR,4CACI,wBAAA,CACA,6BAAA,CACA,4BAAA,CACA,2BAAA,CACA,4BAAA,CAKJ,gDACI,WAAA,CAGJ,iDACI,UAAA,CACA,gBAAA,CAGJ,+CACI,UAAA,CAGJ,+CACI,UAAA,CAGJ,4CACI,UAAA,CAGJ,8CACI,UAAA,CACA,WAAA,CACA,sBAAA,CACA,qBAAA,CACA,UAAA,CACA,iBAAA,CAEA,kDACI,WAAA,CAIR,6CACI,gBAAA,CACA,WAAA,CAGJ,sDACI,UAAA,CAGJ,wDACI,UAAA,CAGJ,uDACI,UAAA,CAGJ,sDACI,aAAA,CACA,WAAA,CAGJ,4CACI,UAAA,CACA,WAAA,CACA,sBAAA,CACA,qBAAA,CACA,UAAA,CACA,iBAAA,CAGJ,gDACI,WAAA,CAGJ,iDACI,eAAA,CACA,UAAA,CAGJ,uDACI,wDAAA,CACA,UAAA,CACA,WAAA,CACA,UAAA,CACA,QAAA,CAGJ,yDACI,wDAAA,CACA,UAAA,CACA,WAAA,CACA,UAAA,CACA,QAAA,CAGJ,wDACI,YAAA,CAGJ,0DACI,YAAA,CAGJ,iGACI,wDAAA,CAGJ,mGACI,wDAAA\",\"sourcesContent\":[\".keyboard {\\n    margin-left: 15px;\\n    user-select: none;\\n}\\n\\n:global(.apple2e) .keyboard {\\n    margin-left: 0;\\n}\\n\\n.row {\\n    display: block;\\n    margin: 0;\\n    padding: 0;\\n    height: 42px;\\n    font-family: Helvetica, sans-serif;\\n    width: 570px;\\n}\\n\\n:global(.apple2e) .row {\\n    width: 610px;\\n}\\n\\n.row0 {\\n    margin-left: 20px;\\n}\\n\\n.row2 {\\n    margin-left: 10px;\\n}\\n\\n.row3 {\\n    margin-left: 10px;\\n}\\n\\n.row4 {\\n    margin-left: 10px;\\n}\\n\\n:global(.apple2e) .row0 {\\n    margin-left: 0;\\n}\\n\\n:global(.apple2e) .row2 {\\n    margin-left: 0;\\n}\\n\\n:global(.apple2e) .row3 {\\n    margin-left: 0;\\n}\\n\\n:global(.apple2e) .row4 {\\n    margin-left: 0;\\n}\\n\\n.key {\\n    display: inline-block;\\n    margin: 0;\\n    padding: 0;\\n    width: 32px;\\n    height: 32px;\\n    background-color: #44372c;\\n    color: white;\\n    text-align: center;\\n    position: relative;\\n    border-left: 5px solid #65594d;\\n    border-top: 5px solid #65594d;\\n    border-right: 5px solid #110e0d;\\n    border-bottom: 5px solid #110e0d;\\n\\n    /* border: 5px outset #66594E; */\\n    border-radius: 5px;\\n    cursor: pointer;\\n\\n    .active {\\n        color: #4f4;\\n    }\\n\\n    .small {\\n        font-size: 7px;\\n    }\\n\\n    div {\\n        border-radius: 3px;\\n        position: absolute;\\n        bottom: 0;\\n        width: 100%;\\n        text-align: center;\\n    }\\n\\n    span {\\n        font-size: 13px;\\n    }\\n}\\n\\n.pressed {\\n    background-color: #22150a;\\n    border-left: 5px solid #44372c;\\n    border-top: 5px solid #44372c;\\n    border-right: 5px solid #000;\\n    border-bottom: 5px solid #000;\\n\\n    /* border: 5px outset #44372C; */\\n}\\n\\n.vCenter div {\\n    bottom: 10px;\\n}\\n\\n.vCenter2 div {\\n    bottom: 5px;\\n    line-height: 10px;\\n}\\n\\n.key-RETURN {\\n    width: 52px;\\n}\\n\\n.key-DELETE {\\n    width: 47px;\\n}\\n\\n.key-TAB {\\n    width: 47px;\\n}\\n\\n.key-POWER {\\n    width: 38px;\\n    height: 38px;\\n    border: 2px groove black;\\n    background-color: #ffd;\\n    color: black;\\n    border-radius: 2px;\\n\\n    div {\\n        bottom: 15px;\\n    }\\n}\\n\\n.key-nbsp {\\n    margin-left: 62px;\\n    width: 330px;\\n}\\n\\n:global(.apple2e) .key-CTRL {\\n    width: 60px;\\n}\\n\\n:global(.apple2e) .key-RETURN {\\n    width: 60px;\\n}\\n\\n:global(.apple2e) .key-SHIFT {\\n    width: 81px;\\n}\\n\\n:global(.apple2e) .key-nbsp {\\n    margin-left: 0;\\n    width: 215px;\\n}\\n\\n.key-POW {\\n    width: 38px;\\n    height: 38px;\\n    border: 2px groove black;\\n    background-color: #ffd;\\n    color: black;\\n    border-radius: 2px;\\n}\\n\\n.key-POW div {\\n    bottom: 15px;\\n}\\n\\n.key-POW span {\\n    background: #4f4;\\n    color: #4f4;\\n}\\n\\n.key-OPEN_APPLE div {\\n    background-image: url(\\\"../../../img/open-apple24.png\\\");\\n    width: 24px;\\n    height: 24px;\\n    bottom: 1px;\\n    left: 4px;\\n}\\n\\n.key-CLOSED_APPLE div {\\n    background-image: url(\\\"../../../img/closed-apple24.png\\\");\\n    width: 24px;\\n    height: 24px;\\n    bottom: 1px;\\n    left: 4px;\\n}\\n\\n.key-OPEN_APPLE span {\\n    display: none;\\n}\\n\\n.key-CLOSED_APPLE span {\\n    display: none;\\n}\\n\\n.key-OPEN_APPLE.active div {\\n    background-image: url(\\\"../../../img/open-apple24-green.png\\\");\\n}\\n\\n.key-CLOSED_APPLE.active div {\\n    background-image: url(\\\"../../../img/closed-apple24-green.png\\\");\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"keyboard\": \"js-components-css-Keyboard-module__keyboard\",\n\t\"row\": \"js-components-css-Keyboard-module__row\",\n\t\"row0\": \"js-components-css-Keyboard-module__row0\",\n\t\"row2\": \"js-components-css-Keyboard-module__row2\",\n\t\"row3\": \"js-components-css-Keyboard-module__row3\",\n\t\"row4\": \"js-components-css-Keyboard-module__row4\",\n\t\"key\": \"js-components-css-Keyboard-module__key\",\n\t\"active\": \"js-components-css-Keyboard-module__active\",\n\t\"small\": \"js-components-css-Keyboard-module__small\",\n\t\"pressed\": \"js-components-css-Keyboard-module__pressed\",\n\t\"vCenter\": \"js-components-css-Keyboard-module__vCenter\",\n\t\"vCenter2\": \"js-components-css-Keyboard-module__vCenter2\",\n\t\"key-RETURN\": \"js-components-css-Keyboard-module__key-RETURN\",\n\t\"key-DELETE\": \"js-components-css-Keyboard-module__key-DELETE\",\n\t\"key-TAB\": \"js-components-css-Keyboard-module__key-TAB\",\n\t\"key-POWER\": \"js-components-css-Keyboard-module__key-POWER\",\n\t\"key-nbsp\": \"js-components-css-Keyboard-module__key-nbsp\",\n\t\"key-CTRL\": \"js-components-css-Keyboard-module__key-CTRL\",\n\t\"key-SHIFT\": \"js-components-css-Keyboard-module__key-SHIFT\",\n\t\"key-POW\": \"js-components-css-Keyboard-module__key-POW\",\n\t\"key-OPEN_APPLE\": \"js-components-css-Keyboard-module__key-OPEN_APPLE\",\n\t\"key-CLOSED_APPLE\": \"js-components-css-Keyboard-module__key-CLOSED_APPLE\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-Modal-module__modalOverlay{position:fixed;left:0;right:0;top:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.6);z-index:1}.js-components-css-Modal-module__modalOverlay button{min-width:36px;margin:0 2px}.js-components-css-Modal-module__modal{background-color:#c4c1a0;padding:10px;max-height:100vh;border-radius:4px;overflow-y:auto;box-sizing:border-box}.js-components-css-Modal-module__modalHeader{display:flex;font-size:14px;justify-content:space-between;align-items:center;background:#44372c;color:#fff;padding:5px 11px;border:1px outset #66594e;border-radius:3px;user-select:none}.js-components-css-Modal-module__modalHeader button{min-width:36px}.js-components-css-Modal-module__modalTitle{margin-top:0;margin-bottom:0;font-weight:600;font-size:1.25rem;line-height:1.25;color:#fff;box-sizing:border-box}.js-components-css-Modal-module__modalContent{margin-top:10px;margin-bottom:10px;line-height:1.5;color:#000}.js-components-css-Modal-module__modalFooter{text-align:right;user-select:none}.js-components-css-Modal-module__modalFooter a[role=button],.js-components-css-Modal-module__modalFooter button{margin:0 0 0 5px;min-width:75px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/Modal.module.scss\"],\"names\":[],\"mappings\":\"AAAA,8CACI,cAAA,CACA,MAAA,CACA,OAAA,CACA,KAAA,CACA,QAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,yBAAA,CACA,SAAA,CAEA,qDACI,cAAA,CACA,YAAA,CAIR,uCACI,wBAAA,CACA,YAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,qBAAA,CAGJ,6CACI,YAAA,CACA,cAAA,CACA,6BAAA,CACA,kBAAA,CACA,kBAAA,CACA,UAAA,CACA,gBAAA,CACA,yBAAA,CACA,iBAAA,CACA,gBAAA,CAEA,oDACI,cAAA,CAIR,4CACI,YAAA,CACA,eAAA,CACA,eAAA,CACA,iBAAA,CACA,gBAAA,CACA,UAAA,CACA,qBAAA,CAGJ,8CACI,eAAA,CACA,kBAAA,CACA,eAAA,CACA,UAAA,CAGJ,6CACI,gBAAA,CACA,gBAAA,CAEA,gHAEI,gBAAA,CACA,cAAA\",\"sourcesContent\":[\".modalOverlay {\\n    position: fixed;\\n    left: 0;\\n    right: 0;\\n    top: 0;\\n    bottom: 0;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background: rgb(0 0 0 / 60%);\\n    z-index: 1;\\n\\n    button {\\n        min-width: 36px;\\n        margin: 0 2px;\\n    }\\n}\\n\\n.modal {\\n    background-color: #c4c1a0;\\n    padding: 10px;\\n    max-height: 100vh;\\n    border-radius: 4px;\\n    overflow-y: auto;\\n    box-sizing: border-box;\\n}\\n\\n.modalHeader {\\n    display: flex;\\n    font-size: 14px;\\n    justify-content: space-between;\\n    align-items: center;\\n    background: #44372c;\\n    color: #fff;\\n    padding: 5px 11px;\\n    border: 1px outset #66594e;\\n    border-radius: 3px;\\n    user-select: none;\\n\\n    button {\\n        min-width: 36px;\\n    }\\n}\\n\\n.modalTitle {\\n    margin-top: 0;\\n    margin-bottom: 0;\\n    font-weight: 600;\\n    font-size: 1.25rem;\\n    line-height: 1.25;\\n    color: #fff;\\n    box-sizing: border-box;\\n}\\n\\n.modalContent {\\n    margin-top: 10px;\\n    margin-bottom: 10px;\\n    line-height: 1.5;\\n    color: #000;\\n}\\n\\n.modalFooter {\\n    text-align: right;\\n    user-select: none;\\n\\n    a[role=\\\"button\\\"],\\n    button {\\n        margin: 0 0 0 5px;\\n        min-width: 75px;\\n    }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"modalOverlay\": \"js-components-css-Modal-module__modalOverlay\",\n\t\"modal\": \"js-components-css-Modal-module__modal\",\n\t\"modalHeader\": \"js-components-css-Modal-module__modalHeader\",\n\t\"modalTitle\": \"js-components-css-Modal-module__modalTitle\",\n\t\"modalContent\": \"js-components-css-Modal-module__modalContent\",\n\t\"modalFooter\": \"js-components-css-Modal-module__modalFooter\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-OptionsModal-module__optionsModal{width:300px}.js-components-css-OptionsModal-module__optionsModal h3{font-size:13px}.js-components-css-OptionsModal-module__optionsModal li{list-style-type:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/OptionsModal.module.scss\"],\"names\":[],\"mappings\":\"AAAA,qDACI,WAAA,CAGJ,wDACI,cAAA,CAGJ,wDACI,oBAAA\",\"sourcesContent\":[\".optionsModal {\\n    width: 300px;\\n}\\n\\n.optionsModal h3 {\\n    font-size: 13px;\\n}\\n\\n.optionsModal li {\\n    list-style-type: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"optionsModal\": \"js-components-css-OptionsModal-module__optionsModal\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-Printer-module__printer{background:#fff;font:monospace;width:60em;padding:5em;height:60vh;overflow:auto;border:2px inset #f0edd0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/Printer.module.scss\"],\"names\":[],\"mappings\":\"AAAA,2CACI,eAAA,CACA,cAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,aAAA,CACA,wBAAA\",\"sourcesContent\":[\".printer {\\n    background: white;\\n    font: monospace;\\n    width: 60em;\\n    padding: 5em;\\n    height: 60vh;\\n    overflow: auto;\\n    border: 2px inset #f0edd0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"printer\": \"js-components-css-Printer-module__printer\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-ProgressModal-module__progressContainer{width:320px;height:20px;background:#000}.js-components-css-ProgressModal-module__progressBar{height:20px;background:lime}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/ProgressModal.module.scss\"],\"names\":[],\"mappings\":\"AAAA,2DACI,WAAA,CACA,WAAA,CACA,eAAA,CAGJ,qDACI,WAAA,CACA,eAAA\",\"sourcesContent\":[\".progressContainer {\\n    width: 320px;\\n    height: 20px;\\n    background: #000;\\n}\\n\\n.progressBar {\\n    height: 20px;\\n    background: #0f0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"progressContainer\": \"js-components-css-ProgressModal-module__progressContainer\",\n\t\"progressBar\": \"js-components-css-ProgressModal-module__progressBar\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".mono{filter:url(\\\"#green\\\")}.js-components-css-Screen-module__display{margin:5px auto 10px}.full-page .js-components-css-Screen-module__display{width:100vw;height:68.5714vw;max-height:100vh;max-width:145.83vh;padding:0;border:0;position:fixed;top:0;bottom:0;left:0;right:0;justify-content:center;align-items:center;margin:auto !important}.js-components-css-Screen-module__overscan{margin:auto;position:relative;background-color:#000;width:592px;height:416px;border:6px inset #f0edd0;border-radius:10px}.full-page .js-components-css-Screen-module__overscan{margin:initial;padding:0;width:initial;border:0;border-radius:0;height:100%;display:flex;justify-content:center;align-items:center}.scanlines::after{display:block;pointer-events:none;background-image:repeating-linear-gradient(to bottom, transparent 0, transparent 1px, rgba(0, 0, 0, 0.5) 1px, rgba(0, 0, 0, 0.5) 2px);content:\\\"\\\";position:absolute;top:0;left:0;bottom:0;right:0}.full-page .scanlines::after{background-image:repeating-linear-gradient(to bottom, transparent 0, transparent 0.25vh, rgba(0, 0, 0, 0.5) 0.25vh, rgba(0, 0, 0, 0.5) 0.5vh)}.js-components-css-Screen-module__screen{cursor:crosshair;image-rendering:crisp-edges;width:592px;height:416px;touch-action:manipulation;user-select:none}.js-components-css-Screen-module__screen.mouseMode{cursor:none}.full-page .js-components-css-Screen-module__screen{width:100%;height:100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/Screen.module.scss\"],\"names\":[],\"mappings\":\"AAAA,MACI,oBAAA,CAGJ,0CACI,oBAAA,CAGJ,qDACI,WAAA,CACA,gBAAA,CACA,gBAAA,CACA,kBAAA,CACA,SAAA,CACA,QAAA,CACA,cAAA,CACA,KAAA,CACA,QAAA,CACA,MAAA,CACA,OAAA,CACA,sBAAA,CACA,kBAAA,CACA,sBAAA,CAGJ,2CACI,WAAA,CACA,iBAAA,CACA,qBAAA,CACA,WAAA,CACA,YAAA,CACA,wBAAA,CACA,kBAAA,CAGJ,sDACI,cAAA,CACA,SAAA,CACA,aAAA,CACA,QAAA,CACA,eAAA,CACA,WAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CAGJ,kBACI,aAAA,CACA,mBAAA,CACA,qIACI,CAOJ,UAAA,CACA,iBAAA,CACA,KAAA,CACA,MAAA,CACA,QAAA,CACA,OAAA,CAGJ,6BACI,6IACI,CASR,yCACI,gBAAA,CACA,2BAAA,CACA,WAAA,CACA,YAAA,CACA,yBAAA,CACA,gBAAA,CAGJ,mDACI,WAAA,CAGJ,oDACI,UAAA,CACA,WAAA\",\"sourcesContent\":[\":global(.mono) {\\n    filter: url(\\\"#green\\\");\\n}\\n\\n.display {\\n    margin: 5px auto 10px;\\n}\\n\\n:global(.full-page) .display {\\n    width: 100vw;\\n    height: 68.5714vw; /* 384px / 560px * 100% */\\n    max-height: 100vh;\\n    max-width: 145.83vh; /* 560px / 384px * 100% */\\n    padding: 0;\\n    border: 0;\\n    position: fixed;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    right: 0;\\n    justify-content: center;\\n    align-items: center;\\n    margin: auto !important;\\n}\\n\\n.overscan {\\n    margin: auto;\\n    position: relative;\\n    background-color: black;\\n    width: 592px;\\n    height: 416px;\\n    border: 6px inset #f0edd0;\\n    border-radius: 10px;\\n}\\n\\n:global(.full-page) .overscan {\\n    margin: initial;\\n    padding: 0;\\n    width: initial;\\n    border: 0;\\n    border-radius: 0;\\n    height: 100%;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n}\\n\\n:global(.scanlines)::after {\\n    display: block;\\n    pointer-events: none;\\n    background-image:\\n        repeating-linear-gradient(\\n            to bottom,\\n            transparent 0,\\n            transparent 1px,\\n            rgb(0 0 0 / 50%) 1px,\\n            rgb(0 0 0 / 50%) 2px\\n        );\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    bottom: 0;\\n    right: 0;\\n}\\n\\n:global(.full-page) :global(.scanlines)::after {\\n    background-image:\\n        repeating-linear-gradient(\\n            to bottom,\\n            transparent 0,\\n            transparent 0.25vh,\\n            rgb(0 0 0 / 50%) 0.25vh,\\n            rgb(0 0 0 / 50%) 0.5vh\\n        );\\n}\\n\\n.screen {\\n    cursor: crosshair;\\n    image-rendering: crisp-edges;\\n    width: 592px;\\n    height: 416px;\\n    touch-action: manipulation;\\n    user-select: none;\\n}\\n\\n.screen:global(.mouseMode) {\\n    cursor: none;\\n}\\n\\n:global(.full-page) .screen {\\n    width: 100%;\\n    height: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"display\": \"js-components-css-Screen-module__display\",\n\t\"overscan\": \"js-components-css-Screen-module__overscan\",\n\t\"screen\": \"js-components-css-Screen-module__screen\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-css-Tabs-module__tab{border-top:2px groove;border-left:2px groove;border-right:2px groove;margin:0 2px;font-weight:bold;padding:4px;border-radius:4px 4px 0 0}.js-components-css-Tabs-module__tab .js-components-css-Tabs-module__selected{background-color:#c4c1a0;border-bottom:none;margin-bottom:-2px;color:#080}.js-components-css-Tabs-module__tabs{display:flex;flex-direction:row;border-bottom:2px groove;margin-bottom:6px;user-select:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/css/Tabs.module.scss\"],\"names\":[],\"mappings\":\"AAAA,oCACI,qBAAA,CACA,sBAAA,CACA,uBAAA,CACA,YAAA,CACA,gBAAA,CACA,WAAA,CACA,yBAAA,CAEA,6EACI,wBAAA,CACA,kBAAA,CACA,kBAAA,CACA,UAAA,CAIR,qCACI,YAAA,CACA,kBAAA,CACA,wBAAA,CACA,iBAAA,CACA,gBAAA\",\"sourcesContent\":[\".tab {\\n    border-top: 2px groove;\\n    border-left: 2px groove;\\n    border-right: 2px groove;\\n    margin: 0 2px;\\n    font-weight: bold;\\n    padding: 4px;\\n    border-radius: 4px 4px 0 0;\\n\\n    .selected {\\n        background-color: #c4c1a0;\\n        border-bottom: none;\\n        margin-bottom: -2px;\\n        color: #080;\\n    }\\n}\\n\\n.tabs {\\n    display: flex;\\n    flex-direction: row;\\n    border-bottom: 2px groove;\\n    margin-bottom: 6px;\\n    user-select: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"tab\": \"js-components-css-Tabs-module__tab\",\n\t\"selected\": \"js-components-css-Tabs-module__selected\",\n\t\"tabs\": \"js-components-css-Tabs-module__tabs\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-debugger-css-Applesoft-module__listing{width:calc(100% - 12px);height:320px;overflow:auto;white-space:pre-wrap}.js-components-debugger-css-Applesoft-module__variables{width:100%;height:320px;overflow:auto}.js-components-debugger-css-Applesoft-module__variables table{width:100%}.js-components-debugger-css-Applesoft-module__variables td{background-color:#fff;border:1px inset;white-space:pre;font-family:monospace}.js-components-debugger-css-Applesoft-module__internals{width:100%}.js-components-debugger-css-Applesoft-module__internals table{width:100%}.js-components-debugger-css-Applesoft-module__internals td{background-color:#fff;border:1px inset;white-space:pre;font-family:monospace;width:30%}.js-components-debugger-css-Applesoft-module__internals th{width:20%;text-align:right}.js-components-debugger-css-Applesoft-module__stack{width:10em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/debugger/css/Applesoft.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sDACI,uBAAA,CACA,YAAA,CACA,aAAA,CACA,oBAAA,CAGJ,wDACI,UAAA,CACA,YAAA,CACA,aAAA,CAEA,8DACI,UAAA,CAGJ,2DACI,qBAAA,CACA,gBAAA,CACA,eAAA,CACA,qBAAA,CAIR,wDACI,UAAA,CAEA,8DACI,UAAA,CAGJ,2DACI,qBAAA,CACA,gBAAA,CACA,eAAA,CACA,qBAAA,CACA,SAAA,CAGJ,2DACI,SAAA,CACA,gBAAA,CAIR,oDACI,UAAA\",\"sourcesContent\":[\".listing {\\n    width: calc(100% - 12px);\\n    height: 320px;\\n    overflow: auto;\\n    white-space: pre-wrap;\\n}\\n\\n.variables {\\n    width: 100%;\\n    height: 320px;\\n    overflow: auto;\\n\\n    table {\\n        width: 100%;\\n    }\\n\\n    td {\\n        background-color: #fff;\\n        border: 1px inset;\\n        white-space: pre;\\n        font-family: monospace;\\n    }\\n}\\n\\n.internals {\\n    width: 100%;\\n\\n    table {\\n        width: 100%;\\n    }\\n\\n    td {\\n        background-color: #fff;\\n        border: 1px inset;\\n        white-space: pre;\\n        font-family: monospace;\\n        width: 30%;\\n    }\\n\\n    th {\\n        width: 20%;\\n        text-align: right;\\n    }\\n}\\n\\n.stack {\\n    width: 10em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"listing\": \"js-components-debugger-css-Applesoft-module__listing\",\n\t\"variables\": \"js-components-debugger-css-Applesoft-module__variables\",\n\t\"internals\": \"js-components-debugger-css-Applesoft-module__internals\",\n\t\"stack\": \"js-components-debugger-css-Applesoft-module__stack\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-debugger-css-CPU-module__controls{padding:3px 0;margin:2px 0}.js-components-debugger-css-CPU-module__zeroPage{width:53em}.js-components-debugger-css-CPU-module__trace{width:53em}.js-components-debugger-css-CPU-module__stack{width:10em}.js-components-debugger-css-CPU-module__fileChooser{padding:5px 0}.js-components-debugger-css-CPU-module__invalid{color:red}.js-components-debugger-css-CPU-module__errorIcon{position:relative;display:inline-block}.js-components-debugger-css-CPU-module__errorIcon i{position:absolute;top:-9px;left:-16px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/debugger/css/CPU.module.scss\"],\"names\":[],\"mappings\":\"AAAA,iDACI,aAAA,CACA,YAAA,CAGJ,iDACI,UAAA,CAGJ,8CACI,UAAA,CAGJ,8CACI,UAAA,CAGJ,oDACI,aAAA,CAGJ,gDACI,SAAA,CAGJ,kDACI,iBAAA,CACA,oBAAA,CAEA,oDACI,iBAAA,CACA,QAAA,CACA,UAAA\",\"sourcesContent\":[\".controls {\\n    padding: 3px 0;\\n    margin: 2px 0;\\n}\\n\\n.zeroPage {\\n    width: 53em;\\n}\\n\\n.trace {\\n    width: 53em;\\n}\\n\\n.stack {\\n    width: 10em;\\n}\\n\\n.fileChooser {\\n    padding: 5px 0;\\n}\\n\\n.invalid {\\n    color: #f00;\\n}\\n\\n.errorIcon {\\n    position: relative;\\n    display: inline-block;\\n\\n    i {\\n        position: absolute;\\n        top: -9px;\\n        left: -16px;\\n    }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"controls\": \"js-components-debugger-css-CPU-module__controls\",\n\t\"zeroPage\": \"js-components-debugger-css-CPU-module__zeroPage\",\n\t\"trace\": \"js-components-debugger-css-CPU-module__trace\",\n\t\"stack\": \"js-components-debugger-css-CPU-module__stack\",\n\t\"fileChooser\": \"js-components-debugger-css-CPU-module__fileChooser\",\n\t\"invalid\": \"js-components-debugger-css-CPU-module__invalid\",\n\t\"errorIcon\": \"js-components-debugger-css-CPU-module__errorIcon\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-debugger-css-Debugger-module__inset{margin:5px 10px 0;display:flex;flex-direction:column;width:auto}.js-components-debugger-css-Debugger-module__heading{font-weight:bold;font-size:18px;margin:5px 0}.js-components-debugger-css-Debugger-module__subHeading{font-weight:bold;font-size:12px}.js-components-debugger-css-Debugger-module__row{display:flex;flex-direction:row}.js-components-debugger-css-Debugger-module__column{display:flex;flex-direction:column}.js-components-debugger-css-Debugger-module__debugger{font-size:12px;width:590px}.js-components-debugger-css-Debugger-module__debugger pre{font-size:9px;background:#fff;color:#000;padding:3px;margin:2px;border:1px inset}.js-components-debugger-css-Debugger-module__debugger button,.js-components-debugger-css-Debugger-module__debugger input{font-size:12px}.js-components-debugger-css-Debugger-module__debugger input[type=text]{border:1px inset}.js-components-debugger-css-Debugger-module__debugger hr{color:#c4c1a0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/debugger/css/Debugger.module.scss\"],\"names\":[],\"mappings\":\"AAAA,mDACI,iBAAA,CACA,YAAA,CACA,qBAAA,CACA,UAAA,CAGJ,qDACI,gBAAA,CACA,cAAA,CACA,YAAA,CAGJ,wDACI,gBAAA,CACA,cAAA,CAGJ,iDACI,YAAA,CACA,kBAAA,CAGJ,oDACI,YAAA,CACA,qBAAA,CAGJ,sDACI,cAAA,CACA,WAAA,CAGJ,0DACI,aAAA,CACA,eAAA,CACA,UAAA,CACA,WAAA,CACA,UAAA,CACA,gBAAA,CAGJ,yHAEI,cAAA,CAGJ,uEACI,gBAAA,CAGJ,yDACI,aAAA\",\"sourcesContent\":[\".inset {\\n    margin: 5px 10px 0;\\n    display: flex;\\n    flex-direction: column;\\n    width: auto;\\n}\\n\\n.heading {\\n    font-weight: bold;\\n    font-size: 18px;\\n    margin: 5px 0;\\n}\\n\\n.subHeading {\\n    font-weight: bold;\\n    font-size: 12px;\\n}\\n\\n.row {\\n    display: flex;\\n    flex-direction: row;\\n}\\n\\n.column {\\n    display: flex;\\n    flex-direction: column;\\n}\\n\\n.debugger {\\n    font-size: 12px;\\n    width: 590px;\\n}\\n\\n.debugger pre {\\n    font-size: 9px;\\n    background: white;\\n    color: black;\\n    padding: 3px;\\n    margin: 2px;\\n    border: 1px inset;\\n}\\n\\n.debugger button,\\n.debugger input {\\n    font-size: 12px;\\n}\\n\\n.debugger input[type=\\\"text\\\"] {\\n    border: 1px inset;\\n}\\n\\n.debugger hr {\\n    color: #c4c1a0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"inset\": \"js-components-debugger-css-Debugger-module__inset\",\n\t\"heading\": \"js-components-debugger-css-Debugger-module__heading\",\n\t\"subHeading\": \"js-components-debugger-css-Debugger-module__subHeading\",\n\t\"row\": \"js-components-debugger-css-Debugger-module__row\",\n\t\"column\": \"js-components-debugger-css-Debugger-module__column\",\n\t\"debugger\": \"js-components-debugger-css-Debugger-module__debugger\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-debugger-css-Disks-module__volume{font-family:monospace;width:100%;border:1px inset;background-color:#fff;overflow-y:auto;height:320px}.js-components-debugger-css-Disks-module__volume table{border-spacing:0;width:100%}.js-components-debugger-css-Disks-module__volume tfoot td{border-top:1px solid #000}.js-components-debugger-css-Disks-module__volume thead th{border-bottom:1px solid #000;padding:2px}.js-components-debugger-css-Disks-module__volume tbody{line-height:.8em}.js-components-debugger-css-Disks-module__filename{width:16em;max-width:16em;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.js-components-debugger-css-Disks-module__deleted{text-decoration:line-through}.js-components-debugger-css-Disks-module__type{width:2em}.js-components-debugger-css-Disks-module__sectors{width:2em}.js-components-debugger-css-Disks-module__aux{width:3em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/debugger/css/Disks.module.scss\"],\"names\":[],\"mappings\":\"AAAA,iDACI,qBAAA,CACA,UAAA,CACA,gBAAA,CACA,qBAAA,CACA,eAAA,CACA,YAAA,CAGJ,uDACI,gBAAA,CACA,UAAA,CAGJ,0DACI,yBAAA,CAGJ,0DACI,4BAAA,CACA,WAAA,CAGJ,uDACI,gBAAA,CAGJ,mDACI,UAAA,CACA,cAAA,CACA,sBAAA,CACA,eAAA,CACA,kBAAA,CAGJ,kDACI,4BAAA,CAGJ,+CACI,SAAA,CAGJ,kDACI,SAAA,CAGJ,8CACI,SAAA\",\"sourcesContent\":[\".volume {\\n    font-family: monospace;\\n    width: 100%;\\n    border: 1px inset;\\n    background-color: white;\\n    overflow-y: auto;\\n    height: 320px;\\n}\\n\\n.volume table {\\n    border-spacing: 0;\\n    width: 100%;\\n}\\n\\n.volume tfoot td {\\n    border-top: 1px solid black;\\n}\\n\\n.volume thead th {\\n    border-bottom: 1px solid black;\\n    padding: 2px;\\n}\\n\\n.volume tbody {\\n    line-height: 0.8em;\\n}\\n\\n.filename {\\n    width: 16em;\\n    max-width: 16em;\\n    text-overflow: ellipsis;\\n    overflow: hidden;\\n    white-space: nowrap;\\n}\\n\\n.deleted {\\n    text-decoration: line-through;\\n}\\n\\n.type {\\n    width: 2em;\\n}\\n\\n.sectors {\\n    width: 2em;\\n}\\n\\n.aux {\\n    width: 3em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"volume\": \"js-components-debugger-css-Disks-module__volume\",\n\t\"filename\": \"js-components-debugger-css-Disks-module__filename\",\n\t\"deleted\": \"js-components-debugger-css-Disks-module__deleted\",\n\t\"type\": \"js-components-debugger-css-Disks-module__type\",\n\t\"sectors\": \"js-components-debugger-css-Disks-module__sectors\",\n\t\"aux\": \"js-components-debugger-css-Disks-module__aux\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-debugger-css-FileViewer-module__fileViewer{width:60em;max-height:60vh;overflow-y:auto;display:flex;flex-direction:column;align-items:center}.js-components-debugger-css-FileViewer-module__textViewer{background:#fff;font-family:monospace;width:57em;padding:1em;height:60vh;line-height:1em;overflow-y:auto;border:2px inset #f0edd0;white-space:pre-wrap}.js-components-debugger-css-FileViewer-module__hiresPreview{border:2px inset #f0edd0;width:560px;height:384px;min-width:560px;min-height:384px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/debugger/css/FileViewer.module.scss\"],\"names\":[],\"mappings\":\"AAAA,0DACI,UAAA,CACA,eAAA,CACA,eAAA,CACA,YAAA,CACA,qBAAA,CACA,kBAAA,CAGJ,0DACI,eAAA,CACA,qBAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,eAAA,CACA,eAAA,CACA,wBAAA,CACA,oBAAA,CAGJ,4DACI,wBAAA,CACA,WAAA,CACA,YAAA,CACA,eAAA,CACA,gBAAA\",\"sourcesContent\":[\".fileViewer {\\n    width: 60em;\\n    max-height: 60vh;\\n    overflow-y: auto;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n}\\n\\n.textViewer {\\n    background: white;\\n    font-family: monospace;\\n    width: 57em;\\n    padding: 1em;\\n    height: 60vh;\\n    line-height: 1em;\\n    overflow-y: auto;\\n    border: 2px inset #f0edd0;\\n    white-space: pre-wrap;\\n}\\n\\n.hiresPreview {\\n    border: 2px inset #f0edd0;\\n    width: 560px;\\n    height: 384px;\\n    min-width: 560px;\\n    min-height: 384px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"fileViewer\": \"js-components-debugger-css-FileViewer-module__fileViewer\",\n\t\"textViewer\": \"js-components-debugger-css-FileViewer-module__textViewer\",\n\t\"hiresPreview\": \"js-components-debugger-css-FileViewer-module__hiresPreview\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-debugger-css-Memory-module__memory{width:auto;box-sizing:border-box}.js-components-debugger-css-Memory-module__bank{width:128px;border-right:1px solid #000}.js-components-debugger-css-Memory-module__bank,.js-components-debugger-css-Memory-module__bank div,.js-components-debugger-css-Memory-module__io,.js-components-debugger-css-Memory-module__rom,.js-components-debugger-css-Memory-module__intcxrom{text-align:center;justify-content:center}.js-components-debugger-css-Memory-module__upperMemory{height:96px;width:385px;border-bottom:1px solid #000;border-left:1px solid #000;border-top:1px solid #000}.js-components-debugger-css-Memory-module__upperMemory .js-components-debugger-css-Memory-module__bank{height:96px}.js-components-debugger-css-Memory-module__rom{display:flex;align-items:center;height:96px;width:128px}.js-components-debugger-css-Memory-module__intcxrom{display:flex;align-items:center;height:32px;width:128px;border-right:1px solid #000;border-bottom:1px solid #000}.js-components-debugger-css-Memory-module__languageCard{width:256px;height:96px;border:1px solid #000}.js-components-debugger-css-Memory-module__lc{display:flex;align-items:center;position:relative;width:127px;height:63px}.js-components-debugger-css-Memory-module__lcbanks{width:127px;display:flex;flex-direction:row}.js-components-debugger-css-Memory-module__lcbank{display:flex;align-items:center;width:64px;height:31px;border-top:1px solid #000}.js-components-debugger-css-Memory-module__lcbank0{border-right:1px solid #000}.js-components-debugger-css-Memory-module__io{display:flex;align-items:center;width:255px;height:32px;border-left:1px solid #000;border-right:1px solid #000;border-bottom:1px solid #000}.js-components-debugger-css-Memory-module__hires{display:flex;align-items:center;height:64px;width:127px;position:absolute;bottom:64px;border-top:1px solid #000;border-bottom:1px solid #000}.js-components-debugger-css-Memory-module__text{display:flex;align-items:center;height:16px;width:127px;position:absolute;bottom:24px;border-top:1px solid #000;border-bottom:1px solid #000}.js-components-debugger-css-Memory-module__zp{display:flex;align-items:center;height:16px;width:127px;position:absolute;bottom:0;border-top:1px solid #000}.js-components-debugger-css-Memory-module__lowerMemory{border-left:1px solid #000;border-bottom:1px solid #000;width:256px}.js-components-debugger-css-Memory-module__lowerMemory .js-components-debugger-css-Memory-module__bank{height:256px;position:relative}.js-components-debugger-css-Memory-module__read{background-color:#8f8}.js-components-debugger-css-Memory-module__write{background-color:#f88}.js-components-debugger-css-Memory-module__read.js-components-debugger-css-Memory-module__write{background-color:#88f}.js-components-debugger-css-Memory-module__inactive{background-color:#bbb}.js-components-debugger-css-Memory-module__legend{width:1em;height:1em;display:inline-block;border:1px solid #000}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/debugger/css/Memory.module.scss\"],\"names\":[],\"mappings\":\"AAAA,kDACI,UAAA,CACA,qBAAA,CAGJ,gDACI,WAAA,CACA,2BAAA,CAGJ,qPAKI,iBAAA,CACA,sBAAA,CAGJ,uDACI,WAAA,CACA,WAAA,CACA,4BAAA,CACA,0BAAA,CACA,yBAAA,CAGJ,uGACI,WAAA,CAGJ,+CACI,YAAA,CACA,kBAAA,CACA,WAAA,CACA,WAAA,CAGJ,oDACI,YAAA,CACA,kBAAA,CACA,WAAA,CACA,WAAA,CACA,2BAAA,CACA,4BAAA,CAGJ,wDACI,WAAA,CACA,WAAA,CACA,qBAAA,CAGJ,8CACI,YAAA,CACA,kBAAA,CACA,iBAAA,CACA,WAAA,CACA,WAAA,CAGJ,mDACI,WAAA,CACA,YAAA,CACA,kBAAA,CAGJ,kDACI,YAAA,CACA,kBAAA,CACA,UAAA,CACA,WAAA,CACA,yBAAA,CAGJ,mDACI,2BAAA,CAGJ,8CACI,YAAA,CACA,kBAAA,CACA,WAAA,CACA,WAAA,CACA,0BAAA,CACA,2BAAA,CACA,4BAAA,CAGJ,iDACI,YAAA,CACA,kBAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,WAAA,CACA,yBAAA,CACA,4BAAA,CAGJ,gDACI,YAAA,CACA,kBAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,WAAA,CACA,yBAAA,CACA,4BAAA,CAGJ,8CACI,YAAA,CACA,kBAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,QAAA,CACA,yBAAA,CAGJ,uDACI,0BAAA,CACA,4BAAA,CACA,WAAA,CAGJ,uGACI,YAAA,CACA,iBAAA,CAGJ,gDACI,qBAAA,CAGJ,iDACI,qBAAA,CAGJ,gGACI,qBAAA,CAGJ,oDACI,qBAAA,CAGJ,kDACI,SAAA,CACA,UAAA,CACA,oBAAA,CACA,qBAAA\",\"sourcesContent\":[\".memory {\\n    width: auto;\\n    box-sizing: border-box;\\n}\\n\\n.bank {\\n    width: 128px;\\n    border-right: 1px solid #000;\\n}\\n\\n.bank,\\n.bank div,\\n.io,\\n.rom,\\n.intcxrom {\\n    text-align: center;\\n    justify-content: center;\\n}\\n\\n.upperMemory {\\n    height: 96px;\\n    width: 385px;\\n    border-bottom: 1px solid #000;\\n    border-left: 1px solid #000;\\n    border-top: 1px solid #000;\\n}\\n\\n.upperMemory .bank {\\n    height: 96px;\\n}\\n\\n.rom {\\n    display: flex;\\n    align-items: center;\\n    height: 96px;\\n    width: 128px;\\n}\\n\\n.intcxrom {\\n    display: flex;\\n    align-items: center;\\n    height: 32px;\\n    width: 128px;\\n    border-right: 1px solid #000;\\n    border-bottom: 1px solid #000;\\n}\\n\\n.languageCard {\\n    width: 256px;\\n    height: 96px;\\n    border: 1px solid #000;\\n}\\n\\n.lc {\\n    display: flex;\\n    align-items: center;\\n    position: relative;\\n    width: 127px;\\n    height: 63px;\\n}\\n\\n.lcbanks {\\n    width: 127px;\\n    display: flex;\\n    flex-direction: row;\\n}\\n\\n.lcbank {\\n    display: flex;\\n    align-items: center;\\n    width: 64px;\\n    height: 31px;\\n    border-top: 1px solid #000;\\n}\\n\\n.lcbank0 {\\n    border-right: 1px solid #000;\\n}\\n\\n.io {\\n    display: flex;\\n    align-items: center;\\n    width: 255px;\\n    height: 32px;\\n    border-left: 1px solid #000;\\n    border-right: 1px solid #000;\\n    border-bottom: 1px solid #000;\\n}\\n\\n.hires {\\n    display: flex;\\n    align-items: center;\\n    height: 64px;\\n    width: 127px;\\n    position: absolute;\\n    bottom: 64px;\\n    border-top: 1px solid #000;\\n    border-bottom: 1px solid #000;\\n}\\n\\n.text {\\n    display: flex;\\n    align-items: center;\\n    height: 16px;\\n    width: 127px;\\n    position: absolute;\\n    bottom: 24px;\\n    border-top: 1px solid #000;\\n    border-bottom: 1px solid #000;\\n}\\n\\n.zp {\\n    display: flex;\\n    align-items: center;\\n    height: 16px;\\n    width: 127px;\\n    position: absolute;\\n    bottom: 0;\\n    border-top: 1px solid #000;\\n}\\n\\n.lowerMemory {\\n    border-left: 1px solid #000;\\n    border-bottom: 1px solid #000;\\n    width: 256px;\\n}\\n\\n.lowerMemory .bank {\\n    height: 256px;\\n    position: relative;\\n}\\n\\n.read {\\n    background-color: #8f8;\\n}\\n\\n.write {\\n    background-color: #f88;\\n}\\n\\n.read.write {\\n    background-color: #88f;\\n}\\n\\n.inactive {\\n    background-color: #bbb;\\n}\\n\\n.legend {\\n    width: 1em;\\n    height: 1em;\\n    display: inline-block;\\n    border: 1px solid #000;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"memory\": \"js-components-debugger-css-Memory-module__memory\",\n\t\"bank\": \"js-components-debugger-css-Memory-module__bank\",\n\t\"io\": \"js-components-debugger-css-Memory-module__io\",\n\t\"rom\": \"js-components-debugger-css-Memory-module__rom\",\n\t\"intcxrom\": \"js-components-debugger-css-Memory-module__intcxrom\",\n\t\"upperMemory\": \"js-components-debugger-css-Memory-module__upperMemory\",\n\t\"languageCard\": \"js-components-debugger-css-Memory-module__languageCard\",\n\t\"lc\": \"js-components-debugger-css-Memory-module__lc\",\n\t\"lcbanks\": \"js-components-debugger-css-Memory-module__lcbanks\",\n\t\"lcbank\": \"js-components-debugger-css-Memory-module__lcbank\",\n\t\"lcbank0\": \"js-components-debugger-css-Memory-module__lcbank0\",\n\t\"hires\": \"js-components-debugger-css-Memory-module__hires\",\n\t\"text\": \"js-components-debugger-css-Memory-module__text\",\n\t\"zp\": \"js-components-debugger-css-Memory-module__zp\",\n\t\"lowerMemory\": \"js-components-debugger-css-Memory-module__lowerMemory\",\n\t\"read\": \"js-components-debugger-css-Memory-module__read\",\n\t\"write\": \"js-components-debugger-css-Memory-module__write\",\n\t\"inactive\": \"js-components-debugger-css-Memory-module__inactive\",\n\t\"legend\": \"js-components-debugger-css-Memory-module__legend\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".js-components-debugger-css-VideoModes-module__pages canvas{border:1px inset;width:280px;height:192px;margin:5px}.js-components-debugger-css-VideoModes-module__active canvas{border:1px inset blue}\", \"\",{\"version\":3,\"sources\":[\"webpack://./js/components/debugger/css/VideoModes.module.scss\"],\"names\":[],\"mappings\":\"AAAA,4DACI,gBAAA,CACA,WAAA,CACA,YAAA,CACA,UAAA,CAGJ,6DACI,qBAAA\",\"sourcesContent\":[\".pages canvas {\\n    border: 1px inset;\\n    width: 280px;\\n    height: 192px;\\n    margin: 5px;\\n}\\n\\n.active canvas {\\n    border: 1px inset #00f;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"pages\": \"js-components-debugger-css-VideoModes-module__pages\",\n\t\"active\": \"js-components-debugger-css-VideoModes-module__active\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  }\n\n  url = String(url.__esModule ? url.default : url); // If url is already wrapped in quotes, remove them\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n\n  return url;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".bundle.js\";\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"dist/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t168: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkApple2\"] = self[\"webpackChunkApple2\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","var n,l,u,i,t,o,r,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return y(l,f,t,o,null)}function y(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?k(t):o,t.__h),z(u,t),t.__e!=o&&b(t)))})}function w(n,l,u,i,t,o,r,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,o,r,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?x(i,l,u):P(u,i,i,t,i.__e,l));return l}function A(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof P){if(m=u.props,g=(s=P.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in P&&P.prototype.render?u.__c=h=new P(m,x):(u.__c=h=new _(m,x),h.constructor=P,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,P.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}h.context=x,h.props=m,h.state=h.__s,(s=l.__r)&&s(u),h.__d=!1,h.__v=u,h.__P=n,s=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),A=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(o=!0),null!=r)for(;_<r.length;_++)if((s=r[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,o&&\"foreignObject\"!==d,r,f,r?r[0]:i.__k&&k(i,0),c),null!=r)for(_=r.length;_--;)null!=r[_]&&h(r[_]);c||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&H(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,\"checked\",_,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,\"function\"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var o,r,f;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!o&&t||i).__k=v(d,null,[u]),r||e,e,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,f,!o&&t?t:r?r.__e:i.firstChild,o),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,o,r,f=a({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,o||l.ref,null)}function D(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;export{S as render,q as hydrate,v as createElement,v as h,d as Fragment,p as createRef,i as isValidElement,_ as Component,B as cloneElement,D as createContext,A as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n,Fragment as o,Component as e}from\"preact\";function t(o,e){return n.__a&&n.__a(e),o}\"undefined\"!=typeof window&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact(\"10.7.1\",n,{Fragment:o,Component:e});export{t as addHookName};\n//# sourceMappingURL=devtools.module.js.map\n","import{options as n,Fragment as t,Component as e}from\"preact\";import\"preact/devtools\";var o={};function r(){o={}}function a(n){return n.type===t?\"Fragment\":\"function\"==typeof n.type?n.type.displayName||n.type.name:\"string\"==typeof n.type?n.type:\"#text\"}var i=[],s=[];function c(){return i.length>0?i[i.length-1]:null}var l=!1;function u(n){return\"function\"==typeof n.type&&n.type!=t}function f(n){for(var t=[n],e=n;null!=e.__o;)t.push(e.__o),e=e.__o;return t.reduce(function(n,t){n+=\"  in \"+a(t);var e=t.__source;return e?n+=\" (at \"+e.fileName+\":\"+e.lineNumber+\")\":l||(l=!0,console.warn(\"Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons.\")),n+\"\\n\"},\"\")}var p=\"function\"==typeof WeakMap,d=e.prototype.setState;e.prototype.setState=function(n,t){return null==this.__v?null==this.state&&console.warn('Calling \"this.setState\" inside the constructor of a component is a no-op and might be a bug in your application. Instead, set \"this.state = {}\" directly.\\n\\n'+f(c())):null==this.__P&&console.warn('Can\\'t call \"this.setState\" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\\n\\n'+f(this.__v)),d.call(this,n,t)};var h=e.prototype.forceUpdate;function y(n){var t=n.props,e=a(n),o=\"\";for(var r in t)if(t.hasOwnProperty(r)&&\"children\"!==r){var i=t[r];\"function\"==typeof i&&(i=\"function \"+(i.displayName||i.name)+\"() {}\"),i=Object(i)!==i||i.toString?i+\"\":Object.prototype.toString.call(i),o+=\" \"+r+\"=\"+JSON.stringify(i)}var s=t.children;return\"<\"+e+o+(s&&s.length?\">..</\"+e+\">\":\" />\")}e.prototype.forceUpdate=function(n){return null==this.__v?console.warn('Calling \"this.forceUpdate\" inside the constructor of a component is a no-op and might be a bug in your application.\\n\\n'+f(c())):null==this.__P&&console.warn('Can\\'t call \"this.forceUpdate\" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\\n\\n'+f(this.__v)),h.call(this,n)},function(){!function(){var t=n.__b,e=n.diffed,o=n.__,r=n.vnode,a=n.__r;n.diffed=function(n){u(n)&&s.pop(),i.pop(),e&&e(n)},n.__b=function(n){u(n)&&i.push(n),t&&t(n)},n.__=function(n,t){s=[],o&&o(n,t)},n.vnode=function(n){n.__o=s.length>0?s[s.length-1]:null,r&&r(n)},n.__r=function(n){u(n)&&s.push(n),a&&a(n)}}();var t=!1,e=n.__b,r=n.diffed,c=n.vnode,l=n.__e,d=n.__,h=n.__h,m=p?{useEffect:new WeakMap,useLayoutEffect:new WeakMap,lazyPropTypes:new WeakMap}:null,v=[];n.__e=function(n,t,e,o){if(t&&t.__c&&\"function\"==typeof n.then){var r=n;n=new Error(\"Missing Suspense. The throwing component was: \"+a(t));for(var i=t;i;i=i.__)if(i.__c&&i.__c.__c){n=r;break}if(n instanceof Error)throw n}try{(o=o||{}).componentStack=f(t),l(n,t,e,o),\"function\"!=typeof n.then&&setTimeout(function(){throw n})}catch(n){throw n}},n.__=function(n,t){if(!t)throw new Error(\"Undefined parent passed to render(), this is the second argument.\\nCheck if the element is available in the DOM/has the correct id.\");var e;switch(t.nodeType){case 1:case 11:case 9:e=!0;break;default:e=!1}if(!e){var o=a(n);throw new Error(\"Expected a valid HTML node as a second argument to render.\\tReceived \"+t+\" instead: render(<\"+o+\" />, \"+t+\");\")}d&&d(n,t)},n.__b=function(n){var r=n.type,i=function n(t){return t?\"function\"==typeof t.type?n(t.__):t:{}}(n.__);if(t=!0,void 0===r)throw new Error(\"Undefined component passed to createElement()\\n\\nYou likely forgot to export your component or might have mixed up default and named imports\"+y(n)+\"\\n\\n\"+f(n));if(null!=r&&\"object\"==typeof r){if(void 0!==r.__k&&void 0!==r.__e)throw new Error(\"Invalid type passed to createElement(): \"+r+\"\\n\\nDid you accidentally pass a JSX literal as JSX twice?\\n\\n  let My\"+a(n)+\" = \"+y(r)+\";\\n  let vnode = <My\"+a(n)+\" />;\\n\\nThis usually happens when you export a JSX literal and not the component.\\n\\n\"+f(n));throw new Error(\"Invalid type passed to createElement(): \"+(Array.isArray(r)?\"array\":r))}if(\"thead\"!==r&&\"tfoot\"!==r&&\"tbody\"!==r||\"table\"===i.type?\"tr\"===r&&\"thead\"!==i.type&&\"tfoot\"!==i.type&&\"tbody\"!==i.type&&\"table\"!==i.type?console.error(\"Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot/table> parent.\"+y(n)+\"\\n\\n\"+f(n)):\"td\"===r&&\"tr\"!==i.type?console.error(\"Improper nesting of table. Your <td> should have a <tr> parent.\"+y(n)+\"\\n\\n\"+f(n)):\"th\"===r&&\"tr\"!==i.type&&console.error(\"Improper nesting of table. Your <th> should have a <tr>.\"+y(n)+\"\\n\\n\"+f(n)):console.error(\"Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent.\"+y(n)+\"\\n\\n\"+f(n)),void 0!==n.ref&&\"function\"!=typeof n.ref&&\"object\"!=typeof n.ref&&!(\"$$typeof\"in n))throw new Error('Component\\'s \"ref\" property should be a function, or an object created by createRef(), but got ['+typeof n.ref+\"] instead\\n\"+y(n)+\"\\n\\n\"+f(n));if(\"string\"==typeof n.type)for(var s in n.props)if(\"o\"===s[0]&&\"n\"===s[1]&&\"function\"!=typeof n.props[s]&&null!=n.props[s])throw new Error(\"Component's \\\"\"+s+'\" property should be a function, but got ['+typeof n.props[s]+\"] instead\\n\"+y(n)+\"\\n\\n\"+f(n));if(\"function\"==typeof n.type&&n.type.propTypes){if(\"Lazy\"===n.type.displayName&&m&&!m.lazyPropTypes.has(n.type)){var c=\"PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. \";try{var l=n.type();m.lazyPropTypes.set(n.type,!0),console.warn(c+\"Component wrapped in lazy() is \"+a(l))}catch(n){console.warn(c+\"We will log the wrapped component's name once it is loaded.\")}}var u=n.props;n.type.__f&&delete(u=function(n,t){for(var e in t)n[e]=t[e];return n}({},u)).ref,function(n,t,e,r,a){Object.keys(n).forEach(function(e){var i;try{i=n[e](t,e,r,\"prop\",null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(n){i=n}!i||i.message in o||(o[i.message]=!0,console.error(\"Failed prop type: \"+i.message+(a&&\"\\n\"+a()||\"\")))})}(n.type.propTypes,u,0,a(n),function(){return f(n)})}e&&e(n)},n.__h=function(n,e,o){if(!n||!t)throw new Error(\"Hook can only be invoked from render methods.\");h&&h(n,e,o)};var b=function(n,t){return{get:function(){var e=\"get\"+n+t;v&&v.indexOf(e)<0&&(v.push(e),console.warn(\"getting vnode.\"+n+\" is deprecated, \"+t))},set:function(){var e=\"set\"+n+t;v&&v.indexOf(e)<0&&(v.push(e),console.warn(\"setting vnode.\"+n+\" is not allowed, \"+t))}}},w={nodeName:b(\"nodeName\",\"use vnode.type\"),attributes:b(\"attributes\",\"use vnode.props\"),children:b(\"children\",\"use vnode.props.children\")},g=Object.create({},w);n.vnode=function(n){var t=n.props;if(null!==n.type&&null!=t&&(\"__source\"in t||\"__self\"in t)){var e=n.props={};for(var o in t){var r=t[o];\"__source\"===o?n.__source=r:\"__self\"===o?n.__self=r:e[o]=r}}n.__proto__=g,c&&c(n)},n.diffed=function(n){if(n.__k&&n.__k.forEach(function(t){if(t&&void 0===t.type){delete t.__,delete t.__b;var e=Object.keys(t).join(\",\");throw new Error(\"Objects are not valid as a child. Encountered an object with the keys {\"+e+\"}.\\n\\n\"+f(n))}}),t=!1,r&&r(n),null!=n.__k)for(var e=[],o=0;o<n.__k.length;o++){var a=n.__k[o];if(a&&null!=a.key){var i=a.key;if(-1!==e.indexOf(i)){console.error('Following component has two or more children with the same key attribute: \"'+i+'\". This may cause glitches and misbehavior in rendering process. Component: \\n\\n'+y(n)+\"\\n\\n\"+f(n));break}e.push(i)}}}}();export{r as resetPropWarnings};\n//# sourceMappingURL=debug.module.js.map\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Header.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Header.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h } from 'preact';\n\nimport styles from './css/Header.module.scss';\n\nconst README = 'https://github.com/whscullin/apple2js#readme';\n\n/**\n * Header component properties.\n */\nexport interface HeaderProps {\n    e: boolean;\n}\n\n/**\n * Header component, which consists of a badge and title.\n *\n * @returns Header component\n */\nexport const Header = ({ e }: HeaderProps) => {\n    return (\n        <div className={styles.header}>\n            <a href={README} rel=\"noreferrer\" target=\"_blank\">\n                <img src=\"img/badge.png\" className={styles.badge} />\n            </a>\n            <div className={styles.subtitle}>\n                An Apple {e ? '//e' : ']['} Emulator in JavaScript\n            </div>\n        </div>\n    );\n};\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function l(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function m(n){return o=1,p(w,n)}function p(n,r,o){var i=l(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=l(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function d(r,o){var i=l(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function h(n){return o=5,_(function(){return{current:n}},[])}function s(n,t,u){o=6,d(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==u?u:u.concat(n))}function _(n,u){var r=l(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,_(function(){return n},t)}function F(n){var r=u.context[n.__c],o=l(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=l(t++,10),o=m();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){for(var t;t=i.shift();)if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=null},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{g(n)}catch(n){u=n}}),u&&n.__e(u,r.__v))};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u,r=n.__c;\"function\"==typeof r&&(n.__c=void 0,r()),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{m as useState,p as useReducer,y as useEffect,d as useLayoutEffect,h as useRef,s as useImperativeHandle,_ as useMemo,A as useCallback,F as useContext,T as useDebugValue,q as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import { byte, memory, word } from './types';\n\n/*eslint no-console: 0*/\n\nconst hex_digits = '0123456789ABCDEF';\nconst bin_digits = '01';\n\n/** Returns a random byte. */\nexport function garbage(): byte {\n    return (Math.random() * 0x100) & 0xff;\n}\n\nexport const testables = {\n    garbage\n};\n\n/**\n * Returns an array or Uint8Array of `size` bytes filled as if the computer\n * was just powered on.\n */\nexport function allocMem(size: number) {\n    const result = new Uint8Array(size);\n\n    for (let idx = 0; idx < size; idx++) {\n        result[idx] = (idx & 0x02) ? 0x00 : 0xff;\n    }\n    // Borrowed from AppleWin (https://github.com/AppleWin/AppleWin)\n    for (let idx = 0; idx < size; idx += 0x200) {\n        result[idx + 0x28] = garbage();\n        result[idx + 0x29] = garbage();\n        result[idx + 0x68] = garbage();\n        result[idx + 0x69] = garbage();\n    }\n    return result;\n}\n\n/** Returns an array or Uint8Array of 256 * `pages` bytes. */\nexport function allocMemPages(pages: number): memory {\n    return allocMem(pages << 8);\n}\n\n/** Returns a new Uint8Array for the input array. */\nexport function bytify(ary: number[]): memory {\n    return new Uint8Array(ary);\n}\n\n/** Returns a new Uint8Array with the concatenated data from the inputs. */\nexport function concat(...arys: Array<byte[] | Uint8Array>) {\n    const result = new Uint8Array(arys.reduce((l, ary) => l + ary.length, 0));\n    let offset = 0;\n    for (let i = 0; i < arys.length; i++) {\n        result.set(arys[i], offset);\n        offset += arys[i].length;\n    }\n    return result;\n}\n\n/** Writes to the console. */\nexport function debug(...args: unknown[]): void {\n    console.log(...args);\n}\n\n/**\n * Returns a string of hex digits (all caps).\n * @param v the value to encode\n * @param n the number of nibbles. If `n` is missing, it is guessed from the value\n *     of `v`. If `v` < 256, it is assumed to be 2 nibbles, otherwise 4.\n */\nexport function toHex(v: byte | word | number, n?: number) {\n    if (!n) {\n        n = v < 256 ? 2 : 4;\n    }\n    let result = '';\n    for (let idx = 0; idx < n; idx++) {\n        result = hex_digits[v & 0x0f] + result;\n        v >>= 4;\n    }\n    return result;\n}\n\n/**\n * Returns a string of 8 binary digits.\n * @param v the value to encode\n */\nexport function toBinary(v: byte) {\n    let result = '';\n    for (let idx = 0; idx < 8; idx++) {\n        result = bin_digits[v & 0x01] + result;\n        v >>= 1;\n    }\n    return result;\n}\n","import CPU6502 from './cpu6502';\nimport { Card, Memory, MemoryPages, TapeData, byte, Restorable } from './types';\nimport { debug, garbage } from './util';\nimport { VideoModes } from './videomodes';\n\nexport type slot = 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7;\nexport type button = 0 | 1 | 2;\nexport type paddle = 0 | 1 | 2 | 3;\nexport type annunciator = 0 | 1 | 2 | 3;\n\ntype Annunciators = Record<annunciator, boolean>;\n\nexport interface Apple2IOState {\n    annunciators: Annunciators;\n    cards: Array<unknown | null>;\n}\n\nexport type SampleListener = (sample: number[]) => void;\n\nconst LOC = {\n    KEYBOARD: 0x00, // keyboard data (latched) (Read),\n    STROBE: 0x10, // clear bit 7 of keyboard data ($C000)\n    TAPEOUT: 0x20, // toggle the cassette output.\n    SPEAKER: 0x30, // toggle speaker diaphragm\n    C040STB: 0x40, // trigger game port sync\n    CLRTEXT: 0x50, // display graphics\n    SETTEXT: 0x51, // display text\n    CLRMIXED: 0x52, // clear mixed mode- enable full graphics\n    SETMIXED: 0x53, // enable graphics/text mixed mode\n    PAGE1: 0x54, // select text/graphics page1\n    PAGE2: 0x55, // select text/graphics page2\n    CLRHIRES: 0x56, // select Lo-res\n    SETHIRES: 0x57, // select Hi-res\n    CLRAN0: 0x58, // Set annunciator-0 output to 0\n    SETAN0: 0x59, // Set annunciator-0 output to 1\n    CLRAN1: 0x5A, // Set annunciator-1 output to 0\n    SETAN1: 0x5B, // Set annunciator-1 output to 1\n    CLRAN2: 0x5C, // Set annunciator-2 output to 0\n    SETAN2: 0x5D, // Set annunciator-2 output to 1\n    CLRAN3: 0x5E, // Set annunciator-3 output to 0\n    SETAN3: 0x5F, // Set annunciator-3 output to 1\n    TAPEIN: 0x60, // bit 7: data from cassette\n    PB0: 0x61, // game Pushbutton 0 / open apple (command) key data\n    PB1: 0x62, // game Pushbutton 1 / closed apple (option) key data\n    PB2: 0x63, // game Pushbutton 2 (read)\n    PADDLE0: 0x64, // bit 7: status of pdl-0 timer (read)\n    PADDLE1: 0x65, // bit 7: status of pdl-1 timer (read)\n    PADDLE2: 0x66, // bit 7: status of pdl-2 timer (read)\n    PADDLE3: 0x67, // bit 7: status of pdl-3 timer (read)\n    PDLTRIG: 0x70, // trigger paddles\n    ACCEL: 0x74, // CPU Speed control\n};\n\nexport default class Apple2IO implements MemoryPages, Restorable<Apple2IOState> {\n    private _slot: Array<Card | null> = new Array<Card | null>(7).fill(null);\n    private _auxRom: Memory | null = null;\n\n    private _khz = 1023;\n    private _rate = 44000;\n    private _sample_size = 4096;\n\n    private _cycles_per_sample: number;\n\n    private _buffer: string[] = [];\n    private _key = 0;\n    private _keyDown = false;\n    private _button = [false, false, false];\n    private _paddle = [0.0, 0.0, 0.0, 0.0];\n    private _phase = -1;\n    private _sample: number[] = [];\n    private _sampleIdx = 0;\n    private _sampleTime = 0;\n    private _didAudio = false;\n\n    private _high = 0.5;\n    private _low = -0.5;\n\n    private _audioListener: SampleListener | undefined;\n\n    private _trigger = 0;\n    private _annunciators: Annunciators = [false, false, false, false];\n\n    private _tape: TapeData = [];\n    private _tapeOffset: number = 0;\n    private _tapeNext: number = 0;\n    private _tapeCurrent = false;\n\n    constructor(private readonly cpu: CPU6502, private readonly vm: VideoModes) {\n        this.init();\n    }\n\n    init() {\n        this._calcSampleRate();\n    }\n\n    _debug(..._args: unknown[]) {\n        // debug.apply(this, arguments);\n    }\n\n    _tick() {\n        const now = this.cpu.getCycles();\n        const phase = this._didAudio ? (this._phase > 0 ? this._high : this._low) : 0.0;\n        for (; this._sampleTime < now; this._sampleTime += this._cycles_per_sample) {\n            this._sample[this._sampleIdx++] = phase;\n            if (this._sampleIdx === this._sample_size) {\n                if (this._audioListener) {\n                    this._audioListener(this._sample);\n                }\n                this._sample = new Array<number>(this._sample_size);\n                this._sampleIdx = 0;\n            }\n        }\n        this._didAudio = false;\n    }\n\n    _calcSampleRate() {\n        this._cycles_per_sample = this._khz * 1000 / this._rate;\n    }\n\n    _updateKHz(khz: number) {\n        this._khz = khz;\n        this._calcSampleRate();\n    }\n\n    _access(off: byte, val?: byte): byte | undefined {\n        let result: number | undefined = 0;\n        const now = this.cpu.getCycles();\n        const writeMode = val === undefined;\n        const delta = now - this._trigger;\n        switch (off) {\n            case LOC.CLRTEXT:\n                this._debug('Graphics Mode');\n                this.vm.text(false);\n                break;\n            case LOC.SETTEXT:\n                this._debug('Text Mode');\n                this.vm.text(true);\n                break;\n            case LOC.CLRMIXED:\n                this._debug('Mixed Mode off');\n                this.vm.mixed(false);\n                break;\n            case LOC.SETMIXED:\n                this._debug('Mixed Mode on');\n                this.vm.mixed(true);\n                break;\n            case LOC.CLRHIRES:\n                this._debug('LoRes Mode');\n                this.vm.hires(false);\n                break;\n            case LOC.SETHIRES:\n                this._debug('HiRes Mode');\n                this.vm.hires(true);\n                break;\n            case LOC.PAGE1:\n                this.vm.page(1);\n                break;\n            case LOC.PAGE2:\n                this.vm.page(2);\n                break;\n            case LOC.SETAN0:\n                this._debug('Annunciator 0 on');\n                this._annunciators[0] = true;\n                break;\n            case LOC.SETAN1:\n                this._debug('Annunciator 1 on');\n                this._annunciators[1] = true;\n                break;\n            case LOC.SETAN2:\n                this._debug('Annunciator 2 on');\n                this._annunciators[2] = true;\n                break;\n            case LOC.SETAN3:\n                this._debug('Annunciator 3 on');\n                this._annunciators[3] = true;\n                break;\n            case LOC.CLRAN0:\n                this._debug('Annunciator 0 off');\n                this._annunciators[0] = false;\n                break;\n            case LOC.CLRAN1:\n                this._debug('Annunciator 1 off');\n                this._annunciators[1] = false;\n                break;\n            case LOC.CLRAN2:\n                this._debug('Annunciator 2 off');\n                this._annunciators[2] = false;\n                break;\n            case LOC.CLRAN3:\n                this._debug('Annunciator 3 off');\n                this._annunciators[3] = false;\n                break;\n            case LOC.PB0:\n                result = this._button[0] ? 0x80 : 0;\n                break;\n            case LOC.PB1:\n                result = this._button[1] ? 0x80 : 0;\n                break;\n            case LOC.PB2:\n                result = this._button[2] ? 0x80 : 0;\n                break;\n            case LOC.PADDLE0:\n                result = (delta < (this._paddle[0] * 2756) ? 0x80 : 0x00);\n                break;\n            case LOC.PADDLE1:\n                result = (delta < (this._paddle[1] * 2756) ? 0x80 : 0x00);\n                break;\n            case LOC.PADDLE2:\n                result = (delta < (this._paddle[2] * 2756) ? 0x80 : 0x00);\n                break;\n            case LOC.PADDLE3:\n                result = (delta < (this._paddle[3] * 2756) ? 0x80 : 0x00);\n                break;\n            case LOC.ACCEL:\n                if (val !== undefined) {\n                    this._updateKHz(val & 0x01 ? 1023 : 4096);\n                }\n                break;\n            case LOC.TAPEIN:\n                if (this._tapeOffset === -1) {\n                    this._tapeOffset = 0;\n                    this._tapeNext = now;\n                }\n\n                if (this._tapeOffset < this._tape.length) {\n                    this._tapeCurrent = this._tape[this._tapeOffset][1];\n                    while (now >= this._tapeNext) {\n                        if ((this._tapeOffset % 1000) === 0) {\n                            debug(`Read ${this._tapeOffset / 1000}`);\n                        }\n                        this._tapeCurrent = this._tape[this._tapeOffset][1];\n                        this._tapeNext += this._tape[this._tapeOffset++][0];\n                    }\n\n                }\n\n                result = this._tapeCurrent ? 0x80 : 0x00;\n                break;\n\n            default:\n                switch (off & 0xf0) {\n                    case LOC.KEYBOARD: // C00x\n                        result = this._key;\n                        break;\n                    case LOC.STROBE: // C01x\n                        if (off === LOC.STROBE || writeMode) {\n                            this._key &= 0x7f;\n                        }\n                        if (this._buffer.length > 0) {\n                            let val = this._buffer.shift() as string;\n                            if (val === '\\n') {\n                                val = '\\r';\n                            }\n                            this._key = val.charCodeAt(0) | 0x80;\n                        }\n                        result = this._key & 0x7f;\n                        if (off === LOC.STROBE) {\n                            result |= this._keyDown ? 0x80 : 0x00;\n                        }\n                        break;\n                    case LOC.TAPEOUT: // C02x\n                        // this._phase = -this._phase;\n                        // this._didAudio = true;\n                        // this._tick();\n                        break;\n                    case LOC.SPEAKER: // C03x\n                        this._phase = -this._phase;\n                        this._didAudio = true;\n                        this._tick();\n                        break;\n                    case LOC.C040STB: // C04x\n                        // I/O Strobe\n                        break;\n                    case LOC.PDLTRIG: // C07x\n                        this._trigger = this.cpu.getCycles();\n                        break;\n                }\n        }\n\n        if (val !== undefined) {\n            result = undefined;\n        }\n\n        return result;\n    }\n\n    start() {\n        return 0xc0;\n    }\n\n    end() {\n        return 0xcf;\n    }\n\n    ioSwitch(off: byte, val?: byte) {\n        let result;\n        if (off < 0x80) {\n            result = this._access(off, val);\n        } else {\n            const slot = (off & 0x70) >> 4;\n            const card = this._slot[slot];\n            if (card && card.ioSwitch) {\n                result = card.ioSwitch(off, val);\n            }\n        }\n\n        return result;\n    }\n\n    reset() {\n        for (let slot = 0; slot < 8; slot++) {\n            const card = this._slot[slot];\n            if (card) {\n                card.reset?.();\n            }\n        }\n        this.vm.reset();\n    }\n\n    blit() {\n        const card = this._slot[3];\n        if (card) {\n            return card.blit?.();\n        }\n        return undefined;\n    }\n\n    read(page: byte, off: byte) {\n        let result: number = 0;\n        let slot;\n        let card;\n\n        switch (page) {\n            case 0xc0:\n                result = this.ioSwitch(off, undefined) || 0;\n                break;\n            case 0xc1:\n            case 0xc2:\n            case 0xc3:\n            case 0xc4:\n            case 0xc5:\n            case 0xc6:\n            case 0xc7:\n                slot = page & 0x0f;\n                card = this._slot[slot];\n                if (this._auxRom !== card) {\n                // _debug('Setting auxRom to slot', slot);\n                    this._auxRom = card;\n                }\n                if (card) {\n                    result = card.read(page, off);\n                } else {\n                    result = garbage();\n                }\n                break;\n            default:\n                if (this._auxRom) {\n                    result = this._auxRom.read(page, off);\n                }\n                break;\n        }\n        return result;\n    }\n\n    write(page: byte, off: byte, val: byte) {\n        let slot;\n        let card;\n\n        switch (page) {\n            case 0xc0:\n                this.ioSwitch(off, val);\n                break;\n            case 0xc1:\n            case 0xc2:\n            case 0xc3:\n            case 0xc4:\n            case 0xc5:\n            case 0xc6:\n            case 0xc7:\n                slot = page & 0x0f;\n                card = this._slot[slot];\n                if (this._auxRom !== card) {\n                // _debug('Setting auxRom to slot', slot);\n                    this._auxRom = card;\n                }\n                if (card) {\n                    card.write(page, off, val);\n                }\n                break;\n            default:\n                if (this._auxRom) {\n                    this._auxRom.write(page, off, val);\n                }\n                break;\n        }\n    }\n\n    getState(): Apple2IOState {\n        // TODO vet more potential state\n        return {\n            annunciators: this._annunciators,\n            cards: this._slot.map((card) => card ? card.getState() : null)\n        };\n    }\n\n    setState(state: Apple2IOState) {\n        this._annunciators = state.annunciators;\n        state.cards.map((cardState, idx) => this._slot[idx]?.setState(cardState));\n    }\n\n    setSlot(slot: slot, card: Card) {\n        this._slot[slot] = card;\n    }\n\n    getSlot(slot: slot): Card | null {\n        return this._slot[slot];\n    }\n\n    keyDown(ascii: byte) {\n        this._keyDown = true;\n        this._key = ascii | 0x80;\n    }\n\n    keyUp() {\n        this._keyDown = false;\n    }\n\n    buttonDown(b: button, state = true) {\n        this._button[b] = state;\n    }\n\n    buttonUp(b: button) {\n        this._button[b] = false;\n    }\n\n    paddle(p: paddle, v: byte) {\n        this._paddle[p] = v;\n    }\n\n    updateKHz(khz: number) {\n        this._updateKHz(khz);\n    }\n\n    getKHz() {\n        return this._khz;\n    }\n\n    setKeyBuffer(buffer: string) {\n        this._buffer = buffer.split(''); // split to charaters\n        if (this._buffer.length > 0) {\n            this._keyDown = true;\n            const key = this._buffer.shift() as string; // never undefined\n            this._key = key.charCodeAt(0) | 0x80;\n        }\n    }\n\n    setTape(tape: TapeData) {\n        debug(`Tape length: ${tape.length}`);\n        this._tape = tape;\n        this._tapeOffset = -1;\n    }\n\n    sampleRate(rate: number, sample_size: number) {\n        this._rate = rate;\n        this._sample_size = sample_size;\n        this._sample = new Array<number>(this._sample_size);\n        this._sampleIdx = 0;\n        this._calcSampleRate();\n    }\n\n    tick() {\n        this._tick();\n        for (let idx = 0; idx < 8; idx++) {\n            this._slot[idx]?.tick?.();\n        }\n    }\n\n    addSampleListener(cb: SampleListener) {\n        this._audioListener = cb;\n    }\n\n    annunciator(idx: annunciator) {\n        return this._annunciators[idx];\n    }\n\n    cycles() {\n        return this.cpu.getCycles();\n    }\n}\n","import { byte, Color, memory, MemoryPages, rom } from './types';\nimport { allocMemPages } from './util';\nimport {\n    GraphicsState,\n    HiresPage,\n    LoresPage,\n    Region,\n    VideoModes,\n    VideoModesState,\n    bank,\n    pageNo\n} from './videomodes';\n\nconst dim = (c: Color): Color => {\n    return [\n        c[0] * 0.75 & 0xff,\n        c[1] * 0.75 & 0xff,\n        c[2] * 0.75 & 0xff\n    ];\n};\n\n// hires colors\nconst orangeCol: Color = [255, 106, 60];\nconst greenCol: Color = [20, 245, 60];\nconst blueCol: Color = [20, 207, 253];\nconst violetCol: Color = [255, 68, 253];\nconst whiteCol: Color = [255, 255, 255];\nconst blackCol: Color = [0, 0, 0];\n\n// lores colors\nconst _colors: Color[] = [\n    [0, 0, 0], // 0x0 black\n    [227, 30, 96], // 0x1 deep red\n    [96, 78, 189], // 0x2 dark blue\n    [255, 68, 253], // 0x3 purple\n    [0, 163, 96], // 0x4 dark green\n    [156, 156, 156], // 0x5 dark gray\n    [20, 207, 253], // 0x6 medium blue\n    [208, 195, 255], // 0x7 light blue\n    [96, 114, 3], // 0x8 brown\n    [255, 106, 60], // 0x9 orange\n    [156, 156, 156], // 0xa light gray\n    [255, 160, 208], // 0xb pink\n    [20, 245, 60], // 0xc green\n    [208, 221, 141], // 0xd yellow\n    [114, 255, 208], // 0xe aquamarine\n    [255, 255, 255], // 0xf white\n];\n\n//\nconst r4 = [\n    0,   // Black\n    2,   // Dark Blue\n    4,   // Dark Green\n    6,   // Medium Blue\n\n    8,   // Brown\n    5,   // Gray 1\n    12,  // Light Green\n    14,  // Aqua\n\n    1,   // Red\n    3,   // Purple\n    10,  // Gray 2\n    7,  // Pink\n\n    9,   // Orange\n    11,   // Light Blue\n    13,  // Yellow\n    15   // White\n] as const;\n\nconst dcolors: Color[] = [\n    [0, 0, 0], // 0x0 black\n    [227, 30, 96], // 0x1 deep red\n    [96, 78, 189], // 0x2 dark blue\n    [255, 68, 253], // 0x3 purple\n    [0, 163, 96], // 0x4 dark green\n    [156, 156, 156], // 0x5 dark gray\n    [20, 207, 253], // 0x6 medium blue\n    [208, 195, 255], // 0x7 light blue\n    [96, 114, 3], // 0x8 brown\n    [255, 106, 60], // 0x9 orange\n    [156, 156, 156], // 0xa light gray\n    [255, 160, 208], // 0xb pink\n    [20, 245, 60], // 0xc green\n    [208, 221, 141], // 0xd yellow\n    [114, 255, 208], // 0xe aquamarine\n    [255, 255, 255], // 0xf white\n];\n\nconst notDirty: Region = {\n    top: 193,\n    bottom: -1,\n    left: 561,\n    right: -1\n} as const;\n\n/****************************************************************************\n *\n * Text/Lores Graphics\n *\n ***************************************************************************/\n\nexport class LoresPage2D implements LoresPage {\n    // $00-$3F inverse\n    // $40-$7F flashing\n    // $80-$FF normal\n\n    private _buffer: memory[] = [];\n    private _refreshing = false;\n    private _blink = false;\n\n    private highColorTextMode = false;\n\n    dirty: Region = { ...notDirty };\n    imageData: ImageData;\n\n    constructor(\n        private vm: VideoModes,\n        private page: pageNo,\n        private readonly charset: rom,\n        private readonly e: boolean\n    ) {\n        this.imageData = this.vm.context.createImageData(560, 192);\n        this.imageData.data.fill(0xff);\n        this._buffer[0] = allocMemPages(0x4);\n        this._buffer[1] = allocMemPages(0x4);\n\n        this.vm.setLoresPage(page, this);\n    }\n\n    private _drawPixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n        data[off + 0] = data[off + 4] = c0;\n        data[off + 1] = data[off + 5] = c1;\n        data[off + 2] = data[off + 6] = c2;\n    }\n\n    private _drawHalfPixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n        data[off + 0] = c0;\n        data[off + 1] = c1;\n        data[off + 2] = c2;\n    }\n\n    private _checkInverse(val: byte) {\n        let inverse = false;\n        if (this.e) {\n            if (!this.vm._80colMode && !this.vm.altCharMode) {\n                inverse = ((val & 0xc0) === 0x40) && this._blink;\n            }\n        } else {\n            inverse = !((val & 0x80) || (val & 0x40) && this._blink);\n        }\n        return inverse;\n    }\n\n    bank0(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 0),\n            write: (page, off, val) => this._write(page, off, val, 0),\n        };\n    }\n\n    bank1(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 1),\n            write: (page, off, val) => this._write(page, off, val, 1),\n        };\n    }\n\n    // These are used by both bank 0 and 1\n\n    private _start() {\n        return (0x04 * this.page);\n    }\n\n    private _end() { return (0x04 * this.page) + 0x03; }\n\n    private _read(page: byte, off: byte, bank: bank) {\n        const addr = (page << 8) | off, base = addr & 0x3FF;\n        return this._buffer[bank][base];\n    }\n\n    private _write(page: byte, off: byte, val: byte, bank: bank) {\n        const addr = (page << 8) | off;\n        const base = addr & 0x3FF;\n        let fore, back;\n\n        if (this._buffer[bank][base] === val && !this._refreshing) {\n            return;\n        }\n        this._buffer[bank][base] = val;\n\n        const col = (base % 0x80) % 0x28;\n        const adj = off - col;\n\n        // 000001cd eabab000 -> 000abcde\n        const ab = (adj & 0x18);\n        const cd = (page & 0x03) << 1;\n        const ee = adj >> 7;\n        const row = ab | cd | ee;\n\n        const data = this.imageData.data;\n        if ((row < 24) && (col < 40)) {\n            let y = row << 3;\n            if (y < this.dirty.top) { this.dirty.top = y; }\n            y += 8;\n            if (y > this.dirty.bottom) { this.dirty.bottom = y; }\n            let x = col * 14;\n            if (x < this.dirty.left) { this.dirty.left = x; }\n            x += 14;\n            if (x > this.dirty.right) { this.dirty.right = x; }\n\n            if (this.vm.textMode || this.vm.hiresMode || (this.vm.mixedMode && row > 19)) {\n                if (this.vm._80colMode) {\n                    const inverse = this._checkInverse(val);\n\n                    fore = inverse ? blackCol : whiteCol;\n                    back = inverse ? whiteCol : blackCol;\n\n                    if (!this.vm.altCharMode) {\n                        val = (val >= 0x40 && val < 0x80) ? val - 0x40 : val;\n                    }\n\n                    let offset = (col * 14 + (bank ? 0 : 1) * 7 + row * 560 * 8) * 4;\n\n                    for (let jdx = 0; jdx < 8; jdx++) {\n                        let b = this.charset[val * 8 + jdx];\n                        for (let idx = 0; idx < 7; idx++) {\n                            const color = (b & 0x01) ? back : fore;\n                            this._drawHalfPixel(data, offset, color);\n                            b >>= 1;\n                            offset += 4;\n                        }\n                        offset += 553 * 4;\n                    }\n                } else {\n                    val = this._buffer[0][base];\n\n                    const inverse = this._checkInverse(val);\n\n                    fore = inverse ? blackCol : whiteCol;\n                    back = inverse ? whiteCol : blackCol;\n\n                    if (!this.vm.altCharMode) {\n                        val = (val >= 0x40 && val < 0x80) ? val - 0x40 : val;\n                    }\n\n                    let offset = (col * 14 + row * 560 * 8) * 4;\n\n                    if (this.highColorTextMode) {\n                        fore = _colors[this._buffer[1][base] >> 4];\n                        back = _colors[this._buffer[1][base] & 0x0f];\n                    }\n\n                    if (this.e) {\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            let b = this.charset[val * 8 + jdx];\n                            for (let idx = 0; idx < 7; idx++) {\n                                const color = (b & 0x01) ? back : fore;\n                                this._drawPixel(data, offset, color);\n                                b >>= 1;\n                                offset += 8;\n                            }\n                            offset += 546 * 4;\n                        }\n                    } else {\n                        const colorMode = this.vm.mixedMode && !this.vm.textMode && !this.vm.monoMode;\n                        // var val0 = col > 0 ? _buffer[0][base - 1] : 0;\n                        // var val2 = col < 39 ? _buffer[0][base + 1] : 0;\n\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            let odd = !(col & 0x1);\n                            let b = this.charset[val * 8 + jdx] << 1;\n                            if (colorMode) {\n                                // var b0 = charset[val0 * 8 + jdx];\n                                // var b2 = charset[val2 * 8 + jdx];\n                                if (inverse) { b ^= 0x1ff; }\n                            }\n\n                            for (let idx = 0; idx < 7; idx++) {\n                                let color;\n                                if (colorMode) {\n                                    if (b & 0x80) {\n                                        if ((b & 0x1c0) !== 0x80) {\n                                            color = whiteCol;\n                                        } else {\n                                            color = odd ? violetCol : greenCol;\n                                        }\n                                    } else {\n                                        color = blackCol;\n                                    }\n                                    odd = !odd;\n                                } else {\n                                    color = (b & 0x80) ? fore : back;\n                                }\n                                this._drawPixel(data, offset, color);\n                                b <<= 1;\n                                offset += 8;\n                            }\n                            offset += 546 * 4;\n                        }\n                    }\n                }\n            } else {\n                if (this.vm._80colMode && !this.vm.an3State) {\n                    let offset = (col * 14 + (bank ? 0 : 1) * 7 + row * 560 * 8) * 4;\n                    if (this.vm.monoMode) {\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            let b = (jdx < 4) ? (val & 0x0f) : (val >> 4);\n                            b |= (b << 4);\n                            b |= (b << 8);\n                            if (col & 0x1) {\n                                b >>= 2;\n                            }\n                            for (let idx = 0; idx < 7; idx++) {\n                                const color = (b & 0x01) ? whiteCol : blackCol;\n                                this._drawHalfPixel(data, offset, color);\n                                b >>= 1;\n                                offset += 4;\n                            }\n                            offset += 553 * 4;\n                        }\n                    } else {\n                        if (bank & 0x1) {\n                            val = ((val & 0x77) << 1) | ((val & 0x88) >> 3);\n                        }\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            const color = _colors[(jdx < 4) ?\n                                (val & 0x0f) : (val >> 4)];\n                            for (let idx = 0; idx < 7; idx++) {\n                                this._drawHalfPixel(data, offset, color);\n                                offset += 4;\n                            }\n                            offset += 553 * 4;\n                        }\n                    }\n                } else if (bank === 0) {\n                    let offset = (col * 14 + row * 560 * 8) * 4;\n\n                    if (this.vm.monoMode) {\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            let b = (jdx < 4) ? (val & 0x0f) : (val >> 4);\n                            b |= (b << 4);\n                            b |= (b << 8);\n                            if (col & 0x1) {\n                                b >>= 2;\n                            }\n                            for (let idx = 0; idx < 14; idx++) {\n                                const color = (b & 0x0001) ? whiteCol : blackCol;\n                                this._drawHalfPixel(data, offset, color);\n                                b >>= 1;\n                                offset += 4;\n                            }\n                            offset += 546 * 4;\n                        }\n                    } else {\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            const color = _colors[(jdx < 4) ? (val & 0x0f) : (val >> 4)];\n                            for (let idx = 0; idx < 7; idx++) {\n                                this._drawPixel(data, offset, color);\n                                offset += 8;\n                            }\n                            offset += 546 * 4;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    refresh() {\n        this.highColorTextMode = !this.vm.an3State && this.vm.textMode && !this.vm._80colMode;\n\n        let addr = 0x400 * this.page;\n        this._refreshing = true;\n        for (let idx = 0; idx < 0x400; idx++, addr++) {\n            this._write(addr >> 8, addr & 0xff, this._buffer[0][idx], 0);\n            if (this.vm._80colMode) {\n                this._write(addr >> 8, addr & 0xff, this._buffer[1][idx], 1);\n            }\n        }\n        this._refreshing = false;\n    }\n\n    blink() {\n        let addr = 0x400 * this.page;\n        this._refreshing = true;\n        this._blink = !this._blink;\n        for (let idx = 0; idx < 0x400; idx++, addr++) {\n            const b = this._buffer[0][idx];\n            if ((b & 0xC0) === 0x40) {\n                this._write(addr >> 8, addr & 0xff, this._buffer[0][idx], 0);\n            }\n        }\n        this._refreshing = false;\n    }\n\n    start() {\n        setInterval(() => this.blink(), 267);\n        return this._start();\n    }\n\n    end() {\n        return this._end();\n    }\n\n    read(page: byte, off: byte) {\n        return this._read(page, off, 0);\n    }\n\n    write(page: byte, off: byte, val: byte) {\n        return this._write(page, off, val, 0);\n    }\n\n    getState(): GraphicsState {\n        return {\n            buffer: [\n                new Uint8Array(this._buffer[0]),\n                new Uint8Array(this._buffer[1]),\n            ]\n        };\n    }\n\n    setState(state: GraphicsState) {\n        this._buffer[0] = new Uint8Array(state.buffer[0]);\n        this._buffer[1] = new Uint8Array(state.buffer[1]);\n\n        this.refresh();\n    }\n\n    private rowToBase(row: number) {\n        const ab = (row >> 3) & 3;\n        const cd = (row >> 1) & 0x3;\n        const e = row & 1;\n        return (cd << 8) | (e << 7) | (ab << 5) | (ab << 3);\n    }\n\n    private mapCharCode(charCode: byte) {\n        charCode &= 0x7F;\n        if (charCode < 0x20) {\n            charCode += 0x40;\n        }\n        if (!this.e && (charCode >= 0x60)) {\n            charCode -= 0x40;\n        }\n        return charCode;\n    }\n\n    getText() {\n        let buffer = '', line, charCode;\n        let row, col, base;\n        for (row = 0; row < 24; row++) {\n            base = this.rowToBase(row);\n            line = '';\n            if (this.e && this.vm._80colMode) {\n                for (col = 0; col < 80; col++) {\n                    charCode = this.mapCharCode(this._buffer[1 - col % 2][base + Math.floor(col / 2)]);\n                    line += String.fromCharCode(charCode);\n                }\n            } else {\n                for (col = 0; col < 40; col++) {\n                    charCode = this.mapCharCode(this._buffer[0][base + col]);\n                    line += String.fromCharCode(charCode);\n                }\n            }\n            line = line.trimRight();\n            buffer += line + '\\n';\n        }\n        return buffer;\n    }\n}\n\n/****************************************************************************\n *\n * Hires Graphics\n *\n ***************************************************************************/\n\nexport class HiresPage2D implements HiresPage {\n    public imageData: ImageData;\n    dirty: Region = { ...notDirty };\n\n    private _buffer: memory[] = [];\n    private _refreshing = false;\n\n    highColorHGRMode: boolean;\n    oneSixtyMode: boolean;\n    mixedDHRMode: boolean;\n    monoDHRMode: boolean;\n    colorDHRMode: boolean = true;\n\n    constructor(\n        private vm: VideoModes,\n        private page: pageNo,\n    ) {\n        this.imageData = this.vm.context.createImageData(560, 192);\n        this.imageData.data.fill(0xff);\n        this._buffer[0] = allocMemPages(0x20);\n        this._buffer[1] = allocMemPages(0x20);\n\n        this.vm.setHiresPage(page, this);\n    }\n\n    private _drawPixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n\n        data[off + 0] = data[off + 4] = c0;\n        data[off + 1] = data[off + 5] = c1;\n        data[off + 2] = data[off + 6] = c2;\n    }\n\n    private _drawHalfPixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n\n        data[off + 0] = c0;\n        data[off + 1] = c1;\n        data[off + 2] = c2;\n    }\n\n    //\n    // 160x192 pixels alternate 3 and 4 base pixels wide\n    //\n\n    private _draw3Pixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n\n        data[off + 0] = data[off + 4] = data[off + 8] = c0;\n        data[off + 1] = data[off + 5] = data[off + 9] = c1;\n        data[off + 2] = data[off + 6] = data[off + 10] = c2;\n    }\n\n    private _draw4Pixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n\n        data[off + 0] = data[off + 4] = data[off + 8] = data[off + 12] = c0;\n        data[off + 1] = data[off + 5] = data[off + 9] = data[off + 13] = c1;\n        data[off + 2] = data[off + 6] = data[off + 10] = data[off + 14] = c2;\n    }\n\n    bank0(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 0),\n            write: (page, off, val) => this._write(page, off, val, 0),\n        };\n    }\n\n    bank1(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 1),\n            write: (page, off, val) => this._write(page, off, val, 1),\n        };\n    }\n\n    private _start() { return (0x20 * this.page); }\n\n    private _end() { return (0x020 * this.page) + 0x1f; }\n\n    private _read(page: byte, off: byte, bank: bank) {\n        const addr = (page << 8) | off, base = addr & 0x1FFF;\n        return this._buffer[bank][base];\n    }\n\n    private _write(page: byte, off: byte, val: byte, bank: bank) {\n        const addr = (page << 8) | off;\n        const base = addr & 0x1FFF;\n\n        if (this._buffer[bank][base] === val && !this._refreshing) {\n            return;\n        }\n        this._buffer[bank][base] = val;\n\n        const col = (base % 0x80) % 0x28;\n        const adj = off - col;\n\n        // 000001cd eabab000 -> 000abcde\n        const ab = (adj & 0x18);\n        const cd = (page & 0x03) << 1;\n        const e = adj >> 7;\n\n        const rowa = ab | cd | e,\n            rowb = base >> 10;\n\n        const data = this.imageData.data;\n        let dx, dy;\n        if ((rowa < 24) && (col < 40) && (this.vm.hiresMode || this._refreshing)) {\n            let y = rowa << 4 | rowb << 1;\n            if (y < this.dirty.top) { this.dirty.top = y; }\n            y += 1;\n            if (y > this.dirty.bottom) { this.dirty.bottom = y; }\n            let x = col * 14 - 2;\n            if (x < this.dirty.left) { this.dirty.left = x; }\n            x += 18;\n            if (x > this.dirty.right) { this.dirty.right = x; }\n\n            dy = rowa << 4 | rowb << 1;\n            let bz, b0, b1, b2, b3, b4, c;\n            if (this.oneSixtyMode && !this.vm.monoMode) {\n                // 1 byte = two pixels, but 3:4 ratio\n                const c3 = val & 0xf;\n                const c4 = val >> 4;\n\n                dx = col * 2 + (bank ^ 1);\n                const offset = dx * 28 + dy * 280 * 4;\n\n                this._draw3Pixel(data, offset, dcolors[c3]);\n                this._draw4Pixel(data, offset + 12, dcolors[c4]);\n            } else if (this.vm.doubleHiresMode) {\n                val &= 0x7f;\n\n                // Every 4 bytes is 7 pixels\n                // 2 bytes per bank\n\n                // b0       b1       b2       b3\n                //  c0  c1    c2  c3    c4  c5    c6\n                // 76543210 76543210 76543210 76543210\n                //  1111222  2333344  4455556  6667777\n\n                const mod = col % 2, mcol = col - mod, baseOff = base - mod;\n                bz = this._buffer[0][baseOff - 1];\n                b0 = this._buffer[1][baseOff];\n                b1 = this._buffer[0][baseOff];\n                b2 = this._buffer[1][baseOff + 1];\n                b3 = this._buffer[0][baseOff + 1];\n                b4 = this._buffer[1][baseOff + 2];\n                c = [\n                    0,\n                    ((b0 & 0x0f) >> 0), // 0\n                    ((b0 & 0x70) >> 4) | ((b1 & 0x01) << 3), // 1\n                    ((b1 & 0x1e) >> 1), // 2\n                    ((b1 & 0x60) >> 5) | ((b2 & 0x03) << 2), // 3\n                    ((b2 & 0x3c) >> 2), // 4\n                    ((b2 & 0x40) >> 6) | ((b3 & 0x07) << 1), // 5\n                    ((b3 & 0x78) >> 3), // 6\n                    0\n                ]; // 7\n                const hb = [\n                    0,\n                    b0 & 0x80, // 0\n                    b0 & 0x80, // 1\n                    b1 & 0x80, // 2\n                    b2 & 0x80, // 3\n                    b2 & 0x80, // 4\n                    b3 & 0x80, // 5\n                    b3 & 0x80, // 6\n                    0\n                ]; // 7\n                if (col > 0) {\n                    c[0] = (bz & 0x78) >> 3;\n                    hb[0] = bz & 0x80;\n                }\n                if (col < 39) {\n                    c[8] = b4 & 0x0f;\n                    hb[8] = b4 & 0x80;\n                }\n                dx = mcol * 14;\n                let offset = dx * 4 + dy * 280 * 4;\n\n                let monoColor = null;\n                if (this.vm.monoMode || this.monoDHRMode) {\n                    monoColor = whiteCol;\n                }\n\n                for (let idx = 1; idx < 8; idx++) {\n                    const hbs = hb[idx];\n                    const dcolor = dcolors[r4[c[idx]]];\n                    let bits = c[idx - 1] | (c[idx] << 4) | (c[idx + 1] << 8);\n                    for (let jdx = 0; jdx < 4; jdx++, offset += 4) {\n                        if (monoColor) {\n                            if (bits & 0x10) {\n                                this._drawHalfPixel(data, offset, monoColor);\n                            } else {\n                                this._drawHalfPixel(data, offset, blackCol);\n                            }\n                        } else if (this.mixedDHRMode) {\n                            if (hbs) {\n                                this._drawHalfPixel(data, offset, dcolor);\n                            } else {\n                                if (bits & 0x10) {\n                                    this._drawHalfPixel(data, offset, whiteCol);\n                                } else {\n                                    this._drawHalfPixel(data, offset, blackCol);\n                                }\n                            }\n                        } else if (this.colorDHRMode) {\n                            this._drawHalfPixel(data, offset, dcolor);\n                        } else if (\n                            ((c[idx] !== c[idx - 1]) && (c[idx] !== c[idx + 1])) &&\n                            (((bits & 0x1c) === 0x1c) ||\n                                ((bits & 0x70) === 0x70) ||\n                                ((bits & 0x38) === 0x38))\n                        ) {\n                            this._drawHalfPixel(data, offset, whiteCol);\n                        } else if (\n                            (bits & 0x38) ||\n                            (c[idx] === c[idx + 1]) ||\n                            (c[idx] === c[idx - 1])\n                        ) {\n                            this._drawHalfPixel(data, offset, dcolor);\n                        } else if (bits & 0x28) {\n                            this._drawHalfPixel(data, offset, dim(dcolor));\n                        } else {\n                            this._drawHalfPixel(data, offset, blackCol);\n                        }\n                        bits >>= 1;\n                    }\n                }\n\n                if (!this._refreshing) {\n                    this._refreshing = true;\n                    const bb: bank = bank ? 0 : 1;\n                    for (let rr = addr - 1; rr <= addr + 1; rr++) {\n                        const vv = this._read(rr >> 8, rr & 0xff, bb);\n                        this._write(rr >> 8, rr & 0xff, vv, bb);\n                    }\n                    this._refreshing = false;\n                }\n            } else {\n                val = this._buffer[0][base];\n                const hbs = val & 0x80;\n                val &= 0x7f;\n                dx = col * 14 - 2;\n                b0 = col > 0 ? this._buffer[0][base - 1] : 0;\n                b2 = col < 39 ? this._buffer[0][base + 1] : 0;\n                val |= (b2 & 0x3) << 7;\n                let v0 = b0 & 0x20, v1 = b0 & 0x40, v2 = val & 0x1,\n                    odd = !(col & 0x1),\n                    color;\n                const oddCol = (hbs ? orangeCol : greenCol);\n                const evenCol = (hbs ? blueCol : violetCol);\n\n                let offset = dx * 4 + dy * 280 * 4;\n\n                const monoColor = this.vm.monoMode ? whiteCol : null;\n\n                for (let idx = 0; idx < 9; idx++, offset += 8) {\n                    val >>= 1;\n\n                    if (v1) {\n                        if (monoColor) {\n                            color = monoColor;\n                        } else if (this.highColorHGRMode) {\n                            color = dcolors[this._buffer[1][base] >> 4];\n                        } else if (v0 || v2) {\n                            color = whiteCol;\n                        } else {\n                            color = odd ? oddCol : evenCol;\n                        }\n                    } else {\n                        if (monoColor) {\n                            color = blackCol;\n                        } else if (this.highColorHGRMode) {\n                            color = dcolors[this._buffer[1][base] & 0x0f];\n                        } else if (odd && v2 && v0) {\n                            color = v0 ? dim(evenCol) : evenCol;\n                        } else if (!odd && v0 && v2) {\n                            color = v2 ? dim(oddCol) : oddCol;\n                        } else {\n                            color = blackCol;\n                        }\n                    }\n\n                    if (dx > -1 && dx < 560) {\n                        this._drawPixel(data, offset, color);\n                    }\n                    dx += 2;\n\n                    v0 = v1;\n                    v1 = v2;\n                    v2 = val & 0x01;\n                    odd = !odd;\n                }\n            }\n        }\n    }\n\n    refresh() {\n        this.highColorHGRMode = !this.vm.an3State && this.vm.hiresMode && !this.vm._80colMode;\n        this.oneSixtyMode = this.vm.flag === 1 && this.vm.doubleHiresMode;\n        this.mixedDHRMode = this.vm.flag === 2 && this.vm.doubleHiresMode;\n        this.monoDHRMode = this.vm.flag === 3 && this.vm.doubleHiresMode;\n\n        let addr = 0x2000 * this.page;\n        this._refreshing = true;\n        for (let idx = 0; idx < 0x2000; idx++, addr++) {\n            const page = addr >> 8;\n            const off = addr & 0xff;\n            this._write(page, off, this._buffer[0][idx], 0);\n            if (this.vm._80colMode) {\n                this._write(page, off, this._buffer[1][idx], 1);\n            }\n        }\n        this._refreshing = false;\n    }\n\n    start() {\n        return this._start();\n    }\n\n    end() {\n        return this._end();\n    }\n\n    read(page: byte, off: byte) {\n        return this._read(page, off, 0);\n    }\n\n    write(page: byte, off: byte, val: byte) {\n        return this._write(page, off, val, 0);\n    }\n\n    getState(): GraphicsState {\n        return {\n            buffer: [\n                new Uint8Array(this._buffer[0]),\n                new Uint8Array(this._buffer[1]),\n            ]\n        };\n    }\n\n    setState(state: GraphicsState) {\n        this._buffer[0] = new Uint8Array(state.buffer[0]);\n        this._buffer[1] = new Uint8Array(state.buffer[1]);\n\n        this.refresh();\n    }\n}\n\nexport class VideoModes2D implements VideoModes {\n    private _grs: LoresPage[] = [];\n    private _hgrs: HiresPage[] = [];\n    private _screenContext: CanvasRenderingContext2D;\n    private _canvas: HTMLCanvasElement;\n    private _left: number;\n    private _top: number;\n    private _refreshFlag: boolean = true;\n\n    public ready = Promise.resolve();\n\n    textMode: boolean;\n    mixedMode: boolean;\n    hiresMode: boolean;\n    pageMode: pageNo;\n    _80colMode: boolean;\n    altCharMode: boolean;\n    an3State: boolean;\n    doubleHiresMode: boolean;\n\n    flag = 0;\n    monoMode = false;\n\n    context: CanvasRenderingContext2D;\n\n    constructor(\n        private screen: HTMLCanvasElement,\n        private e: boolean\n    ) {\n        this._canvas = document.createElement('canvas');\n        const context = this._canvas.getContext('2d');\n        const screenContext = this.screen.getContext('2d');\n        if (!context || !screenContext) {\n            throw new Error('No 2d context');\n        }\n        this.context = context;\n\n        const { width, height } = { width: 560, height: 192 };\n        this._canvas.width = width;\n        this._canvas.height = height;\n\n        this._screenContext = screenContext;\n        this._screenContext.imageSmoothingEnabled = false;\n        this._left = (this.screen.width - 560) / 2;\n        this._top = (this.screen.height - 384) / 2;\n    }\n\n    _refresh() {\n        this.doubleHiresMode = !this.an3State && this.hiresMode && this._80colMode;\n\n        this._refreshFlag = true;\n    }\n\n    refresh() {\n        this._refresh();\n    }\n\n    reset() {\n        this.textMode = true;\n        this.mixedMode = false;\n        this.hiresMode = true;\n        this.pageMode = 1;\n\n        this._80colMode = false;\n        this.altCharMode = false;\n\n        this.flag = 0;\n        this.an3State = true;\n\n        this._refresh();\n    }\n\n    setLoresPage(page: pageNo, lores: LoresPage) {\n        this._grs[page - 1] = lores;\n    }\n\n    setHiresPage(page: pageNo, hires: HiresPage) {\n        this._hgrs[page - 1] = hires;\n    }\n\n    getLoresPage(page: pageNo) {\n        return this._grs[page - 1];\n    }\n\n    getHiresPage(page: pageNo) {\n        return this._hgrs[page - 1];\n    }\n\n    text(on: boolean) {\n        const old = this.textMode;\n        this.textMode = on;\n        if (on) {\n            this.flag = 0;\n        }\n        if (old !== on) {\n            this._refresh();\n        }\n    }\n\n    _80col(on: boolean) {\n        if (!this.e) { return; }\n\n        const old = this._80colMode;\n        this._80colMode = on;\n\n        if (old !== on) {\n            this._refresh();\n        }\n    }\n\n    altChar(on: boolean) {\n        if (!this.e) { return; }\n\n        const old = this.altCharMode;\n        this.altCharMode = on;\n        if (old !== on) {\n            this._refresh();\n        }\n    }\n\n    hires(on: boolean) {\n        const old = this.hiresMode;\n        this.hiresMode = on;\n        if (!on) {\n            this.flag = 0;\n        }\n\n        if (old !== on) {\n            this._refresh();\n        }\n    }\n\n    an3(on: boolean) {\n        if (!this.e) { return; }\n\n        const old = this.an3State;\n        this.an3State = on;\n\n        if (on) {\n            this.flag = ((this.flag << 1) | (this._80colMode ? 0x0 : 0x1)) & 0x3;\n        }\n\n        if (old !== on) {\n            this._refresh();\n        }\n    }\n\n    doubleHires(on: boolean) {\n        this.an3(!on);\n    }\n\n    mixed(on: boolean) {\n        const old = this.mixedMode;\n        this.mixedMode = on;\n        if (old !== on) {\n            this._refresh();\n        }\n    }\n\n    page(pageNo: pageNo) {\n        const old = this.pageMode;\n        this.pageMode = pageNo;\n        if (old !== pageNo) {\n            this._refresh();\n        }\n    }\n\n    isText() {\n        return this.textMode;\n    }\n\n    isMixed() {\n        return this.mixedMode;\n    }\n\n    isPage2() {\n        return this.pageMode === 2;\n    }\n\n    isHires() {\n        return this.hiresMode;\n    }\n\n    isDoubleHires() {\n        return this.doubleHiresMode;\n    }\n\n    is80Col() {\n        return this._80colMode;\n    }\n\n    isAltChar() {\n        return this.altCharMode;\n    }\n\n    buildScreen(mainData: ImageData, mixData?: ImageData | null) {\n        // TODO(whscullin): - figure out 80 column offset\n        const { x, y } = this._80colMode ? { x: 0, y: 0 } : { x: 0, y: 0 };\n\n        if (mixData) {\n            this.context.putImageData(mainData, x, y, 0, 0, 560, 160);\n            this.context.putImageData(mixData, x, y, 0, 160, 560, 32);\n        } else {\n            this.context.putImageData(mainData, x, y);\n        }\n        return this._canvas;\n    }\n\n    updateImage(\n        mainData: ImageData,\n        mainDirty: Region,\n        mixData?: ImageData | null,\n        mixDirty?: Region | null\n    ) {\n        let blitted = false;\n\n        if (mainDirty.bottom !== -1 || (mixDirty && mixDirty.bottom !== -1)) {\n            const imageData = this.buildScreen(mainData, mixData);\n            this._screenContext.drawImage(\n                imageData,\n                0, 0, 560, 192,\n                this._left, this._top, 560, 384\n            );\n            blitted = true;\n        }\n        return blitted;\n    }\n\n    blit(altData?: ImageData) {\n        let blitted = false;\n        const hgr = this._hgrs[this.pageMode - 1];\n        const gr = this._grs[this.pageMode - 1];\n\n        if (this._refreshFlag) {\n            hgr.refresh();\n            gr.refresh();\n            this._refreshFlag = false;\n        }\n\n        if (altData) {\n            blitted = this.updateImage(\n                altData,\n                { top: 0, left: 0, right: 560, bottom: 192 }\n            );\n        } else if (this.hiresMode && !this.textMode) {\n            blitted = this.updateImage(\n                hgr.imageData,\n                hgr.dirty,\n                this.mixedMode ? gr.imageData : null,\n                this.mixedMode ? gr.dirty : null\n            );\n        } else {\n            blitted = this.updateImage(\n                gr.imageData, gr.dirty\n            );\n        }\n        hgr.dirty = { ...notDirty };\n        gr.dirty = { ...notDirty };\n\n        return blitted;\n    }\n\n    getState(): VideoModesState {\n        return {\n            grs: [this._grs[0].getState(), this._grs[1].getState()],\n            hgrs: [this._hgrs[0].getState(), this._hgrs[1].getState()],\n            textMode: this.textMode,\n            mixedMode: this.mixedMode,\n            hiresMode: this.hiresMode,\n            pageMode: this.pageMode,\n            _80colMode: this._80colMode,\n            altCharMode: this.altCharMode,\n            an3State: this.an3State,\n            flag: this.flag\n        };\n    }\n\n    setState(state: VideoModesState) {\n        this.textMode = state.textMode;\n        this.mixedMode = state.mixedMode;\n        this.hiresMode = state.hiresMode;\n        this.pageMode = state.pageMode;\n        this._80colMode = state._80colMode;\n        this.altCharMode = state.altCharMode;\n        this.an3State = state.an3State;\n        this.flag = state.flag;\n\n        this._grs[0].setState(state.grs[0]);\n        this._grs[1].setState(state.grs[1]);\n        this._hgrs[0].setState(state.hgrs[0]);\n        this._hgrs[1].setState(state.hgrs[1]);\n        this._refresh();\n    }\n\n    mono(on: boolean) {\n        if (on) {\n            this.screen.classList.add('mono');\n        } else {\n            this.screen.classList.remove('mono');\n        }\n        this.monoMode = on;\n        this._refresh();\n    }\n\n    scanlines(on: boolean) {\n        // Can't apply scanline filter to canvas\n        const parent = this.screen.parentElement;\n        if (parent) {\n            if (on) {\n                parent.classList.add('scanlines');\n            } else {\n                parent.classList.remove('scanlines');\n            }\n        }\n    }\n\n    getText() {\n        return this._grs[this.pageMode - 1].getText();\n    }\n}\n","import { byte, Color, memory, MemoryPages, rom } from './types';\nimport { allocMemPages } from './util';\n\nimport { screenEmu } from 'apple2shader';\n\nimport {\n    GraphicsState,\n    HiresPage,\n    LoresPage,\n    Region,\n    VideoModes,\n    VideoModesState,\n    bank,\n    pageNo\n} from './videomodes';\n\n// Color constants\nconst whiteCol: Color = [255, 255, 255];\nconst blackCol: Color = [0, 0, 0];\n\nconst notDirty: Region = {\n    top: 193,\n    bottom: -1,\n    left: 561,\n    right: -1\n};\n\n/****************************************************************************\n *\n * Text/Lores Graphics\n *\n ***************************************************************************/\n\nexport class LoresPageGL implements LoresPage {\n    // $00-$3F inverse\n    // $40-$7F flashing\n    // $80-$FF normal\n\n    private _buffer: memory[] = [];\n    private _refreshing = false;\n    private _blink = false;\n\n    dirty: Region = {...notDirty};\n    imageData: ImageData;\n\n    constructor(\n        private vm: VideoModes,\n        private page: pageNo,\n        private readonly charset: rom,\n        private readonly e: boolean\n    ) {\n        this.imageData = this.vm.context.createImageData(560, 192);\n        this.imageData.data.fill(0xff);\n        this._buffer[0] = allocMemPages(0x4);\n        this._buffer[1] = allocMemPages(0x4);\n\n        this.vm.setLoresPage(page, this);\n    }\n\n    private _drawPixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n        data[off + 0] = data[off + 4] = c0;\n        data[off + 1] = data[off + 5] = c1;\n        data[off + 2] = data[off + 6] = c2;\n    }\n\n    private _drawHalfPixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n        data[off + 0] = c0;\n        data[off + 1] = c1;\n        data[off + 2] = c2;\n    }\n\n    private _checkInverse(val: byte) {\n        let inverse = false;\n        if (this.e) {\n            if (!this.vm._80colMode && !this.vm.altCharMode) {\n                inverse = ((val & 0xc0) === 0x40) && this._blink;\n            }\n        } else {\n            inverse = !((val & 0x80) || (val & 0x40) && this._blink);\n        }\n        return inverse;\n    }\n\n    bank0(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 0),\n            write: (page, off, val) => this._write(page, off, val, 0),\n        };\n    }\n\n    bank1(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 1),\n            write: (page, off, val) => this._write(page, off, val, 1),\n        };\n    }\n\n    // These are used by both bank 0 and 1\n\n    private _start() {\n        return (0x04 * this.page);\n    }\n\n    private _end() { return (0x04 * this.page) + 0x03; }\n\n    private _read(page: byte, off: byte, bank: bank) {\n        const addr = (page << 8) | off, base = addr & 0x3FF;\n        return this._buffer[bank][base];\n    }\n\n    private _write(page: byte, off: byte, val: byte, bank: bank) {\n        const addr = (page << 8) | off;\n        const base = addr & 0x3FF;\n        let fore, back;\n\n        if (this._buffer[bank][base] === val && !this._refreshing) {\n            return;\n        }\n        this._buffer[bank][base] = val;\n\n        const col = (base % 0x80) % 0x28;\n        const adj = off - col;\n\n        // 000001cd eabab000 -> 000abcde\n        const ab = (adj & 0x18);\n        const cd = (page & 0x03) << 1;\n        const ee = adj >> 7;\n        const row = ab | cd | ee;\n\n        const data = this.imageData.data;\n        if ((row < 24) && (col < 40)) {\n            let y = row << 3;\n            if (y < this.dirty.top) { this.dirty.top = y; }\n            y += 8;\n            if (y > this.dirty.bottom) { this.dirty.bottom = y; }\n            let x = col * 14;\n            if (x < this.dirty.left) { this.dirty.left = x; }\n            x += 14;\n            if (x > this.dirty.right) { this.dirty.right = x; }\n\n            if (this.vm.textMode || this.vm.hiresMode || (this.vm.mixedMode && row > 19)) {\n                if (this.vm._80colMode) {\n                    const inverse = this._checkInverse(val);\n\n                    fore = inverse ? blackCol : whiteCol;\n                    back = inverse ? whiteCol : blackCol;\n\n                    if (!this.vm.altCharMode) {\n                        val = (val >= 0x40 && val < 0x80) ? val - 0x40 : val;\n                    }\n\n                    let offset = (col * 14 + (bank ? 0 : 1) * 7 + row * 560 * 8) * 4;\n\n                    for (let jdx = 0; jdx < 8; jdx++) {\n                        let b = this.charset[val * 8 + jdx];\n                        for (let idx = 0; idx < 7; idx++) {\n                            const color = (b & 0x01) ? back : fore;\n                            this._drawHalfPixel(data, offset, color);\n                            b >>= 1;\n                            offset += 4;\n                        }\n                        offset += 553 * 4;\n                    }\n                } else if (bank === 0) {\n                    val = this._buffer[0][base];\n\n                    const inverse = this._checkInverse(val);\n\n                    fore = inverse ? blackCol : whiteCol;\n                    back = inverse ? whiteCol : blackCol;\n\n                    if (!this.vm.altCharMode) {\n                        val = (val >= 0x40 && val < 0x80) ? val - 0x40 : val;\n                    }\n\n                    let offset = (col * 14 + row * 560 * 8) * 4;\n\n                    if (this.e) {\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            let b = this.charset[val * 8 + jdx];\n                            for (let idx = 0; idx < 7; idx++) {\n                                const color = (b & 0x01) ? back : fore;\n                                this._drawPixel(data, offset, color);\n                                b >>= 1;\n                                offset += 8;\n                            }\n                            offset += 546 * 4;\n                        }\n                    } else {\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            let b = this.charset[val * 8 + jdx] << 1;\n\n                            for (let idx = 0; idx < 7; idx++) {\n                                const color = (b & 0x80) ? fore : back;\n                                this._drawPixel(data, offset, color);\n                                b <<= 1;\n                                offset += 8;\n                            }\n                            offset += 546 * 4;\n                        }\n                    }\n                }\n            } else {\n                if (this.vm._80colMode && !this.vm.an3State) {\n                    let offset = (col * 14 + (bank ? 0 : 1) * 7 + row * 560 * 8) * 4;\n                    for (let jdx = 0; jdx < 8; jdx++) {\n                        let b = (jdx < 4) ? (val & 0x0f) : (val >> 4);\n                        b |= (b << 4);\n                        b |= (b << 8);\n                        if (col & 0x1) {\n                            b >>= 2;\n                        }\n                        for (let idx = 0; idx < 7; idx++) {\n                            const color = (b & 0x01) ? whiteCol : blackCol;\n                            this._drawHalfPixel(data, offset, color);\n                            b >>= 1;\n                            offset += 4;\n                        }\n                        offset += 553 * 4;\n                    }\n                } else if (bank === 0) {\n                    let offset = (col * 14 + row * 560 * 8) * 4;\n                    for (let jdx = 0; jdx < 8; jdx++) {\n                        let b = (jdx < 4) ? (val & 0x0f) : (val >> 4);\n                        b |= (b << 4);\n                        b |= (b << 8);\n                        if (col & 0x1) {\n                            b >>= 2;\n                        }\n                        for (let idx = 0; idx < 14; idx++) {\n                            const color = (b & 0x0001) ? whiteCol : blackCol;\n                            this._drawHalfPixel(data, offset, color);\n                            b >>= 1;\n                            offset += 4;\n                        }\n                        offset += 546 * 4;\n                    }\n                }\n            }\n        }\n    }\n\n    refresh() {\n        let addr = 0x400 * this.page;\n        this._refreshing = true;\n        for (let idx = 0; idx < 0x400; idx++, addr++) {\n            this._write(addr >> 8, addr & 0xff, this._buffer[0][idx], 0);\n            if (this.vm._80colMode) {\n                this._write(addr >> 8, addr & 0xff, this._buffer[1][idx], 1);\n            }\n        }\n        this._refreshing = false;\n    }\n\n    blink() {\n        let addr = 0x400 * this.page;\n        this._refreshing = true;\n        this._blink = !this._blink;\n        for (let idx = 0; idx < 0x400; idx++, addr++) {\n            const b = this._buffer[0][idx];\n            if ((b & 0xC0) === 0x40) {\n                this._write(addr >> 8, addr & 0xff, this._buffer[0][idx], 0);\n            }\n        }\n        this._refreshing = false;\n    }\n\n    start() {\n        setInterval(() => this.blink(), 267);\n        return this._start();\n    }\n\n    end() {\n        return this._end();\n    }\n\n    read(page: byte, off: byte) {\n        return this._read(page, off, 0);\n    }\n\n    write(page: byte, off: byte, val: byte) {\n        return this._write(page, off, val, 0);\n    }\n\n    getState(): GraphicsState {\n        return {\n            buffer: [\n                new Uint8Array(this._buffer[0]),\n                new Uint8Array(this._buffer[1]),\n            ]\n        };\n    }\n\n    setState(state: GraphicsState) {\n        this._buffer[0] = new Uint8Array(state.buffer[0]);\n        this._buffer[1] = new Uint8Array(state.buffer[1]);\n\n        this.refresh();\n    }\n\n    private rowToBase(row: number) {\n        const ab = (row >> 3) & 3;\n        const cd = (row >> 1) & 0x3;\n        const e = row & 1;\n        return (cd << 8) | (e << 7) | (ab << 5) | (ab << 3);\n    }\n\n    private mapCharCode(charCode: byte) {\n        charCode &= 0x7F;\n        if (charCode < 0x20) {\n            charCode += 0x40;\n        }\n        if (!this.e && (charCode >= 0x60)) {\n            charCode -= 0x40;\n        }\n        return charCode;\n    }\n\n    getText() {\n        let buffer = '', line, charCode;\n        let row, col, base;\n        for (row = 0; row < 24; row++) {\n            base = this.rowToBase(row);\n            line = '';\n            if (this.e && this.vm._80colMode) {\n                for (col = 0; col < 80; col++) {\n                    charCode = this.mapCharCode(this._buffer[1 - col % 2][base + Math.floor(col / 2)]);\n                    line += String.fromCharCode(charCode);\n                }\n            } else {\n                for (col = 0; col < 40; col++) {\n                    charCode = this.mapCharCode(this._buffer[0][base + col]);\n                    line += String.fromCharCode(charCode);\n                }\n            }\n            line = line.trimRight();\n            buffer += line + '\\n';\n        }\n        return buffer;\n    }\n}\n\n/****************************************************************************\n *\n * Hires Graphics\n *\n ***************************************************************************/\n\nconst _drawPixel = (data: Uint8ClampedArray, off: number, color: Color) => {\n    const c0 = color[0], c1 = color[1], c2 = color[2];\n\n    data[off + 0] = data[off + 4] = c0;\n    data[off + 1] = data[off + 5] = c1;\n    data[off + 2] = data[off + 6] = c2;\n};\n\nconst _drawHalfPixel = (data: Uint8ClampedArray, off: number, color: Color) => {\n    const c0 = color[0], c1 = color[1], c2 = color[2];\n\n    data[off + 0] = c0;\n    data[off + 1] = c1;\n    data[off + 2] = c2;\n};\n\nexport class HiresPageGL implements HiresPage {\n    public imageData: ImageData;\n    dirty: Region = {...notDirty};\n\n    private _buffer: memory[] = [];\n    private _refreshing = false;\n\n    constructor(\n        private vm: VideoModes,\n        private page: pageNo,\n    ) {\n        this.imageData = this.vm.context.createImageData(560, 192);\n        this.imageData.data.fill(0xff);\n        this._buffer[0] = allocMemPages(0x20);\n        this._buffer[1] = allocMemPages(0x20);\n\n        this.vm.setHiresPage(page, this);\n    }\n\n    bank0(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 0),\n            write: (page, off, val) => this._write(page, off, val, 0),\n        };\n    }\n\n    bank1(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 1),\n            write: (page, off, val) => this._write(page, off, val, 1),\n        };\n    }\n\n    private _start() { return (0x20 * this.page); }\n\n    private _end() { return (0x020 * this.page) + 0x1f; }\n\n    private _read(page: byte, off: byte, bank: bank) {\n        const addr = (page << 8) | off, base = addr & 0x1FFF;\n        return this._buffer[bank][base];\n    }\n\n    private _write(page: byte, off: byte, val: byte, bank: bank) {\n        const addr = (page << 8) | off;\n        const base = addr & 0x1FFF;\n\n        if (this._buffer[bank][base] === val && !this._refreshing) {\n            return;\n        }\n        this._buffer[bank][base] = val;\n\n        const col = (base % 0x80) % 0x28;\n        const adj = off - col;\n\n        // 000001cd eabab000 -> 000abcde\n        const ab = (adj & 0x18);\n        const cd = (page & 0x03) << 1;\n        const e = adj >> 7;\n\n        const rowa = ab | cd | e,\n            rowb = base >> 10;\n\n        const data = this.imageData.data;\n        if ((rowa < 24) && (col < 40) && this.vm.hiresMode) {\n            let y = rowa << 3 | rowb;\n            if (y < this.dirty.top) { this.dirty.top = y; }\n            y += 1;\n            if (y > this.dirty.bottom) { this.dirty.bottom = y; }\n            let x = col * 14 - 2;\n            if (x < this.dirty.left) { this.dirty.left = x; }\n            x += 14;\n            if (x > this.dirty.right) { this.dirty.right = x; }\n\n            const dy = rowa << 3 | rowb;\n            if (this.vm.doubleHiresMode) {\n                const dx = col * 14 + (bank ? 0 : 7);\n                let offset = dx * 4 + dy * 280 * 4 * 2;\n\n                let bits = val;\n                for (let jdx = 0; jdx < 7; jdx++, offset += 4) {\n                    if (bits & 0x01) {\n                        _drawHalfPixel(data, offset, whiteCol);\n                    } else {\n                        _drawHalfPixel(data, offset, blackCol);\n                    }\n                    bits >>= 1;\n                }\n            } else if (bank === 0) {\n                const hbs = val & 0x80;\n                const lastCol = col === 39;\n                const cropLastPixel = hbs && lastCol;\n                const dx = col * 14;\n                let offset = dx * 4 + dy * 560 * 4;\n                if (hbs) {\n                    const val0 = this._buffer[bank][base - 1] || 0;\n                    if (val0 & 0x40) {\n                        _drawHalfPixel(data, offset, whiteCol);\n                    } else {\n                        _drawHalfPixel(data, offset, blackCol);\n                    }\n                    offset += 4;\n                }\n                let bits = val;\n                for (let idx = 0; idx < 7; idx++, offset += 8) {\n                    const drawPixel = cropLastPixel && idx === 6\n                        ? _drawHalfPixel\n                        : _drawPixel;\n                    if (bits & 0x01) {\n                        drawPixel(data, offset, whiteCol);\n                    } else {\n                        drawPixel(data, offset, blackCol);\n                    }\n                    bits >>= 1;\n                }\n                if (!this._refreshing) {\n                    this._refreshing = true;\n                    const after = addr + 1;\n                    this._write(after >> 8, after & 0xff, this._buffer[0][after & 0x1fff], 0);\n                    this._refreshing = false;\n                }\n            }\n        }\n    }\n\n    refresh() {\n        let addr = 0x2000 * this.page;\n        this._refreshing = true;\n        for (let idx = 0; idx < 0x2000; idx++, addr++) {\n            const page = addr >> 8;\n            const off = addr & 0xff;\n            this._write(page, off, this._buffer[0][idx], 0);\n            if (this.vm._80colMode) {\n                this._write(page, off, this._buffer[1][idx], 1);\n            }\n        }\n        this._refreshing = false;\n    }\n\n    start() {\n        return this._start();\n    }\n\n    end() {\n        return this._end();\n    }\n\n    read(page: byte, off: byte) {\n        return this._read(page, off, 0);\n    }\n\n    write(page: byte, off: byte, val: byte) {\n        return this._write(page, off, val, 0);\n    }\n\n    getState(): GraphicsState {\n        return {\n            buffer: [\n                new Uint8Array(this._buffer[0]),\n                new Uint8Array(this._buffer[1]),\n            ]\n        };\n    }\n\n    setState(state: GraphicsState) {\n        this._buffer[0] = new Uint8Array(state.buffer[0]);\n        this._buffer[1] = new Uint8Array(state.buffer[1]);\n\n        this.refresh();\n    }\n}\n\nexport class VideoModesGL implements VideoModes {\n    private _grs: LoresPage[] = [];\n    private _hgrs: HiresPage[] = [];\n    private _sv: screenEmu.ScreenView;\n    private _displayConfig: screenEmu.DisplayConfiguration;\n    private _scanlines: boolean = false;\n    private _refreshFlag: boolean = true;\n    private _canvas: HTMLCanvasElement;\n\n    public ready: Promise<void>;\n\n    public textMode: boolean;\n    public mixedMode: boolean;\n    public hiresMode: boolean;\n    public pageMode: pageNo;\n    public _80colMode: boolean;\n    public altCharMode: boolean;\n    public an3State: boolean;\n    public doubleHiresMode: boolean;\n\n    public flag = 0;\n    public monoMode: boolean = false;\n\n    public context: CanvasRenderingContext2D;\n\n    constructor(\n        private screen: HTMLCanvasElement,\n        private e: boolean\n    ) {\n        this._canvas = document.createElement('canvas');\n        const context = this._canvas.getContext('2d');\n        if (!context) {\n            throw new Error('no 2d context');\n        }\n        const { width, height } = screenEmu.C.NTSC_DETAILS.imageSize;\n        this._canvas.width = width;\n        this._canvas.height = height;\n        this.context = context;\n        this._sv = new screenEmu.ScreenView(this.screen);\n\n        this.ready = this.init();\n    }\n\n    async init() {\n        await this._sv.initOpenGL();\n\n        this._displayConfig = this.defaultMonitor();\n        this._sv.displayConfiguration = this._displayConfig;\n    }\n\n    private defaultMonitor(): screenEmu.DisplayConfiguration {\n        const config = new screenEmu.DisplayConfiguration();\n        config.displayResolution = new screenEmu.Size(this.screen.width, this.screen.height);\n        config.displayScanlineLevel = 0.5;\n        config.videoWhiteOnly = true;\n        config.videoSaturation = 0.8;\n        config.videoSize = new screenEmu.Size(1.25, 1.15);\n        config.videoCenter = new screenEmu.Point(0.01, 0.02);\n        // config.videoDecoder = 'CANVAS_CXA2025AS';\n        return config;\n    }\n\n    private monitorII(): screenEmu.DisplayConfiguration {\n        // Values taken from openemulator/libemulation/res/library/Monitors/Apple Monitor II.xml\n        const config = new screenEmu.DisplayConfiguration();\n        config.displayResolution = new screenEmu.Size(this.screen.width, this.screen.height);\n        config.videoDecoder = 'CANVAS_MONOCHROME';\n        config.videoBrightness = 0.15;\n        config.videoContrast = 0.8;\n        config.videoSaturation = 1.45;\n        config.videoHue = 0.27;\n        config.videoCenter = new screenEmu.Point(0.01, 0.02);\n        config.videoSize = new screenEmu.Size(1.25, 1.15);\n        config.videoBandwidth = 9000000;\n        config.displayBarrel = 0.1;\n        config.displayScanlineLevel = 0.5;\n        config.displayCenterLighting = 0.5;\n        config.displayLuminanceGain = 1.5;\n        return config;\n    }\n\n    private _refresh() {\n        this.doubleHiresMode = !this.an3State && this.hiresMode && this._80colMode;\n\n        this._refreshFlag = true;\n\n        if (this._displayConfig) {\n            this._displayConfig.videoWhiteOnly = this.textMode || this.monoMode;\n            this._displayConfig.displayScanlineLevel = this._scanlines ? 0.5 : 0;\n            this._sv.displayConfiguration = this._displayConfig;\n        }\n    }\n\n    refresh() {\n        this._refresh();\n    }\n\n    reset() {\n        this.textMode = true;\n        this.mixedMode = false;\n        this.hiresMode = true;\n        this.pageMode = 1;\n\n        this._80colMode = false;\n        this.altCharMode = false;\n\n        this.an3State = true;\n\n        this._refresh();\n    }\n\n    setLoresPage(page: pageNo, lores: LoresPage) {\n        this._grs[page - 1] = lores;\n    }\n\n    setHiresPage(page: pageNo, hires: HiresPage) {\n        this._hgrs[page - 1] = hires;\n    }\n\n    getLoresPage(page: pageNo) {\n        return this._grs[page - 1];\n    }\n\n    getHiresPage(page: pageNo) {\n        return this._hgrs[page - 1];\n    }\n\n    text(on: boolean) {\n        const old = this.textMode;\n        this.textMode = on;\n\n        if (old !== on) {\n            this._refresh();\n        }\n    }\n\n    _80col(on: boolean) {\n        if (!this.e) { return; }\n\n        const old = this._80colMode;\n        this._80colMode = on;\n\n        if (old !== on) {\n            this._refresh();\n        }\n    }\n\n    altChar(on: boolean) {\n        if (!this.e) { return; }\n\n        const old = this.altCharMode;\n        this.altCharMode = on;\n        if (old !== on) {\n            this._refresh();\n        }\n    }\n\n    hires(on: boolean) {\n        const old = this.hiresMode;\n        this.hiresMode = on;\n\n        if (old !== on) {\n            this._refresh();\n        }\n    }\n\n    an3(on: boolean) {\n        if (!this.e) { return; }\n\n        const old = this.an3State;\n        this.an3State = on;\n\n        if (old !== on) {\n            this._refresh();\n        }\n    }\n\n    doubleHires(on: boolean) {\n        this.an3(!on);\n    }\n\n    mixed(on: boolean) {\n        const old = this.mixedMode;\n        this.mixedMode = on;\n        if (old !== on) {\n            this._refresh();\n        }\n    }\n\n    page(pageNo: pageNo) {\n        const old = this.pageMode;\n        this.pageMode = pageNo;\n        if (old !== pageNo) {\n            this._refresh();\n        }\n    }\n\n    isText() {\n        return this.textMode;\n    }\n\n    isMixed() {\n        return this.mixedMode;\n    }\n\n    isPage2() {\n        return this.pageMode === 2;\n    }\n\n    isHires() {\n        return this.hiresMode;\n    }\n\n    isDoubleHires() {\n        return this.doubleHiresMode;\n    }\n\n    is80Col() {\n        return this._80colMode;\n    }\n\n    isAltChar() {\n        return this.altCharMode;\n    }\n\n    updateImage(\n        mainData: ImageData,\n        mainDirty: Region,\n        mixData?: ImageData | null,\n        mixDirty?: Region | null\n    ) {\n        let blitted = false;\n        if (mainDirty.bottom !== -1 || (mixDirty && mixDirty.bottom !== -1)) {\n            const imageData = this.buildScreen(mainData, mixData);\n            const imageInfo = new screenEmu.ImageInfo(imageData);\n            this._sv.image = imageInfo;\n            blitted = true;\n        }\n        this._sv.vsync();\n        return blitted;\n    }\n\n    buildScreen(mainData: ImageData, mixData?: ImageData | null) {\n        const details = screenEmu.C.NTSC_DETAILS;\n        const { width, height } = details.imageSize;\n        const { x, y } = this._80colMode ? details.topLeft80Col : details.topLeft;\n\n        if (mixData) {\n            this.context.putImageData(mainData, x, y, 0, 0, 560, 160);\n            this.context.putImageData(mixData, x, y, 0, 160, 560, 32);\n        } else {\n            this.context.putImageData(mainData, x, y);\n        }\n        return this.context.getImageData(0, 0, width, height);\n    }\n\n    blit(altData?: ImageData) {\n        let blitted = false;\n        const hgr = this._hgrs[this.pageMode - 1];\n        const gr = this._grs[this.pageMode - 1];\n\n        if (this._refreshFlag) {\n            const { width, height } = screenEmu.C.NTSC_DETAILS.imageSize;\n            this.context.clearRect(0, 0, width, height);\n            hgr.refresh();\n            gr.refresh();\n            this._refreshFlag = false;\n        }\n\n        if (altData) {\n            blitted = this.updateImage(\n                altData,\n                { top: 0, left: 0, right: 560, bottom: 192 }\n            );\n        } else if (this.hiresMode && !this.textMode) {\n            blitted = this.updateImage(\n                hgr.imageData,\n                hgr.dirty,\n                this.mixedMode ? gr.imageData : null,\n                this.mixedMode ? gr.dirty : null\n            );\n        } else {\n            blitted = this.updateImage(\n                gr.imageData, gr.dirty\n            );\n        }\n        hgr.dirty = {...notDirty};\n        gr.dirty = {...notDirty};\n\n        return blitted;\n    }\n\n    getState(): VideoModesState {\n        return {\n            grs: [this._grs[0].getState(), this._grs[1].getState()],\n            hgrs: [this._hgrs[0].getState(), this._hgrs[1].getState()],\n            textMode: this.textMode,\n            mixedMode: this.mixedMode,\n            hiresMode: this.hiresMode,\n            pageMode: this.pageMode,\n            _80colMode: this._80colMode,\n            altCharMode: this.altCharMode,\n            an3State: this.an3State,\n            flag: 0\n        };\n    }\n\n    setState(state: VideoModesState) {\n        this.textMode = state.textMode;\n        this.mixedMode = state.mixedMode;\n        this.hiresMode = state.hiresMode;\n        this.pageMode = state.pageMode;\n        this._80colMode = state._80colMode;\n        this.altCharMode = state.altCharMode;\n        this.an3State = state.an3State;\n\n        this._grs[0].setState(state.grs[0]);\n        this._grs[1].setState(state.grs[1]);\n        this._hgrs[0].setState(state.hgrs[0]);\n        this._hgrs[1].setState(state.hgrs[1]);\n        this._refresh();\n    }\n\n    mono(on: boolean) {\n        this.monoMode = on;\n        this._displayConfig = on ? this.monitorII() : this.defaultMonitor();\n        this._refresh();\n    }\n\n    scanlines(on: boolean) {\n        this._scanlines = on;\n        this._refresh();\n    }\n\n    getText() {\n        return this._grs[this.pageMode - 1].getText();\n    }\n}\n","import { Memory, MemberOf, MemoryPages, byte, word } from './types';\nimport { toHex } from './util';\n\nexport const FLAVOR_6502 = '6502';\nexport const FLAVOR_ROCKWELL_65C02 = 'rockwell65c02';\nexport const FLAVOR_WDC_65C02 = 'wdc65c02';\n\nexport const FLAVORS_65C02 = [\n    FLAVOR_ROCKWELL_65C02,\n    FLAVOR_WDC_65C02\n];\n\nexport const FLAVORS = [\n    FLAVOR_6502,\n    ...FLAVORS_65C02\n];\n\nexport type Flavor = MemberOf<typeof FLAVORS>;\n\nexport interface CpuOptions {\n    flavor?: Flavor;\n}\n\nexport interface CpuState {\n    /** Accumulator */\n    a: byte;\n    /** X index */\n    x: byte;\n    /** Y index */\n    y: byte;\n    /** Status register */\n    s: byte;\n    /** Program counter */\n    pc: word;\n    /** Stack pointer */\n    sp: byte;\n    /** Elapsed cycles */\n    cycles: number;\n}\n\nexport type Mode =\n    'accumulator' |        // A (Accumulator)\n    'implied' |            // Implied\n    'immediate' |          // # Immediate\n    'absolute' |           // a Absolute\n    'zeroPage' |           // zp Zero Page\n    'relative' |           // r Relative\n    'absoluteX' |          // a,X Absolute, X\n    'absoluteY' |          // a,Y Absolute, Y\n    'zeroPageX' |          // zp,X Zero Page, X\n    'zeroPageY' |          // zp,Y Zero Page, Y\n    'absoluteIndirect' |   // (a) Indirect\n    'zeroPageXIndirect' |  // (zp,X) Zero Page Indexed Indirect\n    'zeroPageIndirectY' |  // (zp),Y Zero Page Indexed with Y\n    'zeroPageIndirect' |   // (zp),\n    'absoluteXIndirect' |  // (a, X),\n    'zeroPage_relative';   // zp, Relative\n\nexport type Modes = Record<Mode, number>;\n\n/** Addressing mode name to instruction size mapping. */\nexport const sizes: Modes = {\n    accumulator: 1,\n    implied: 1,\n    immediate: 2,\n    absolute: 3,\n    zeroPage: 2,\n    relative: 2,\n\n    absoluteX: 3,\n    absoluteY: 3,\n    zeroPageX: 2,\n    zeroPageY: 2,\n\n    absoluteIndirect: 3,\n    zeroPageXIndirect: 2,\n    zeroPageIndirectY: 2,\n\n    /* 65c02 */\n    zeroPageIndirect: 2,\n    absoluteXIndirect: 3,\n    zeroPage_relative: 3\n};\n\n/** Status register flag numbers. */\nexport type flag = 0x80 | 0x40 | 0x20 | 0x10 | 0x08 | 0x04 | 0x02 | 0x01;\n\n/**\n *\n */\nexport type DebugInfo = {\n    /** Program counter */\n    pc: word;\n    /** Accumulator */\n    ar: byte;\n    /** X index */\n    xr: byte;\n    /** Y index */\n    yr: byte;\n    /** Status register */\n    sr: byte;\n    /** Stack pointer */\n    sp: byte;\n    /** Current command */\n    cmd: byte[];\n};\n\n/** Flags to status byte mask. */\nexport const flags: { [key: string]: flag } = {\n    N: 0x80, // Negative\n    V: 0x40, // oVerflow\n    X: 0x20, // Unused, always 1\n    B: 0x10, // Break\n    D: 0x08, // Decimal\n    I: 0x04, // Interrupt\n    Z: 0x02, // Zero\n    C: 0x01  // Carry\n};\n\n/** CPU-referenced memory locations. */\nconst loc = {\n    STACK: 0x100,\n    NMI: 0xFFFA,\n    RESET: 0xFFFC,\n    BRK: 0xFFFE\n};\n\ninterface ResettablePageHandler extends MemoryPages {\n    reset(): void;\n}\n\nfunction isResettablePageHandler(pageHandler: MemoryPages | ResettablePageHandler): pageHandler is ResettablePageHandler {\n    return (pageHandler as ResettablePageHandler).reset !== undefined;\n}\n\nconst BLANK_PAGE: Memory = {\n    read: function () { return 0; },\n    write: function () { /* not writable */ }\n};\n\ninterface Opts {\n    inc?: boolean;\n}\n\ntype ReadFn = () => byte;\ntype WriteFn = (val: byte) => void;\ntype ReadAddrFn = (opts?: Opts) => word;\ntype ImpliedFn = () => void;\n\ninterface Instruction<T = unknown> {\n    name: string;\n    mode: Mode;\n    op: (fn: T) => void;\n    modeFn: T;\n}\n\ntype StrictInstruction =\n    Instruction<ReadFn> |\n    Instruction<WriteFn> |\n    Instruction<ReadAddrFn> |\n    Instruction<ImpliedFn> |\n    Instruction<flag> |\n    Instruction<flag|0> |\n    Instruction<byte>;\n\ntype Instructions = Record<byte, StrictInstruction>;\n\ntype callback = (cpu: CPU6502) => boolean | void;\n\nexport default class CPU6502 {\n    /** flavor */\n    private readonly flavor: Flavor;\n    /** 65C02 emulation mode flag */\n    private readonly is65C02: boolean;\n\n    /**\n     * Registers\n     */\n\n    /** Program counter */\n    private pc: word = 0;\n    /** Status register */\n    private sr: byte = flags.X;\n    /** Accumulator */\n    private ar: byte = 0;\n    /** X index */\n    private xr: byte = 0;\n    /** Y index */\n    private yr: byte = 0;\n    /** Stack pointer */\n    private sp: byte = 0xff;\n\n    /** Current instruction */\n    private op: Instruction;\n    /** Last accessed memory address */\n    private addr: word = 0;\n\n    /** Filled array of memory handlers by address page */\n    private memPages: Memory[] = new Array<Memory>(0x100);\n    /** Callbacks invoked on reset signal */\n    private resetHandlers: ResettablePageHandler[] = [];\n    /** Elapsed cycles */\n    private cycles = 0;\n    /** Command being fetched signal */\n    private sync = false;\n\n    /** Processor is in WAI mode */\n    private wait = false;\n    /** Processor is in STP mode */\n    private stop = false;\n\n    /** Filled array of CPU operations */\n    private readonly opary: Instruction[];\n\n    constructor({ flavor }: CpuOptions = {}) {\n        this.flavor = flavor ?? FLAVOR_6502;\n        this.is65C02 = !!flavor && FLAVORS_65C02.includes(flavor);\n\n        this.memPages.fill(BLANK_PAGE);\n        this.memPages.fill(BLANK_PAGE);\n\n        // Create this CPU's instruction table\n\n        let ops = { ...this.OPS_6502 };\n\n        switch (this.flavor) {\n            case FLAVOR_WDC_65C02:\n                ops = {\n                    ...ops,\n                    ...this.OPS_65C02,\n                    ...this.OPS_WDC_65C02,\n                };\n                break;\n            case FLAVOR_ROCKWELL_65C02:\n                ops = {\n                    ...ops,\n                    ...this.OPS_65C02,\n                    ...this.OPS_ROCKWELL_65C02,\n                };\n                break;\n            default:\n                ops = {\n                    ...ops,\n                    ...this.OPS_NMOS_6502,\n                };\n        }\n\n        // Certain browsers benefit from using arrays over maps\n        this.opary = new Array<Instruction>(0x100);\n\n        for (let idx = 0; idx < 0x100; idx++) {\n            this.opary[idx] = ops[idx] || this.unknown(idx);\n        }\n    }\n\n    /**\n     * Set or clears `f` in the status register. `f` must be a byte with a\n     * single bit set.\n     */\n    private setFlag(f: flag, on: boolean) {\n        this.sr = on ? (this.sr | f) : (this.sr & ~f);\n    }\n\n    /** Updates the status register's zero flag and negative flag. */\n    private testNZ(val: byte) {\n        this.sr = val === 0 ? (this.sr | flags.Z) : (this.sr & ~flags.Z);\n        this.sr = (val & 0x80) ? (this.sr | flags.N) : (this.sr & ~flags.N);\n\n        return val;\n    }\n\n    /** Updates the status register's zero flag. */\n    private testZ(val: byte) {\n        this.sr = val === 0 ? (this.sr | flags.Z) : (this.sr & ~flags.Z);\n\n        return val;\n    }\n\n    /**\n     * Returns `a + b`, unless `sub` is true, in which case it performs\n     * `a - b`. The status register is updated according to the result.\n     */\n    private add(a: byte, b: byte, sub: boolean): byte {\n        const a7 = a >> 7;\n        const b7 = b >> 7;\n        const ci = this.sr & flags.C;\n        let c;\n        let co;\n        let v;\n        let n;\n        let z;\n\n        const updateFlags = (c: byte) => {\n            const bin = c & 0xff;\n            n = bin >> 7;\n            co = c >> 8;\n            z = !((a + b + ci) & 0xff);\n            v = a7 ^ b7 ^ n ^ co;\n        };\n\n        const updateBCDFlags = (c: byte) => {\n            if (this.is65C02) {\n                const bin = c & 0xff;\n                n = bin >> 7;\n                z = !bin;\n                if (this.op.mode === 'immediate') {\n                    if (this.flavor === FLAVOR_WDC_65C02) {\n                        this.readByte(sub ? 0xB8 : 0x7F);\n                    } else { // rockwell65c02\n                        this.readByte(sub ? 0xB1 : 0x59);\n                    }\n                } else {\n                    this.readByte(this.addr);\n                }\n            }\n            if (!sub) {\n                co = c >> 8;\n            }\n        };\n\n        c = (a & 0x0f) + (b & 0x0f) + ci;\n        if ((this.sr & flags.D) !== 0) {\n            // BCD\n            if (sub) {\n                if (c < 0x10) {\n                    c = (c - 0x06) & 0x0f;\n                }\n                c += (a & 0xf0) + (b & 0xf0);\n                updateFlags(c);\n                if (c < 0x100) {\n                    c += 0xa0;\n                }\n            } else {\n                if (c > 0x9) {\n                    c = 0x10 + ((c + 0x6) & 0xf);\n                }\n                c += (a & 0xf0) + (b & 0xf0);\n                updateFlags(c);\n                if (c >= 0xa0) {\n                    c += 0x60;\n                }\n            }\n            updateBCDFlags(c);\n        } else {\n            c += (a & 0xf0) + (b & 0xf0);\n            updateFlags(c);\n        }\n        c = c & 0xff;\n\n        this.setFlag(flags.N, !!n);\n        this.setFlag(flags.V, !!v);\n        this.setFlag(flags.Z, !!z);\n        this.setFlag(flags.C, !!co);\n\n        return c;\n    }\n\n    /** Increments `a` and returns the value, setting the status register. */\n    private increment(a: byte) {\n        return this.testNZ((a + 0x01) & 0xff);\n    }\n\n    private decrement(a: byte) {\n        return this.testNZ((a + 0xff) & 0xff);\n    }\n\n    private readBytePC(): byte {\n        const result = this.readByte(this.pc);\n\n        this.pc = (this.pc + 1) & 0xffff;\n\n        return result;\n    }\n\n    private readByte(addr: word): byte {\n        this.addr = addr;\n        const page = addr >> 8,\n            off = addr & 0xff;\n\n        const result = this.memPages[page].read(page, off);\n\n        this.cycles++;\n\n        return result;\n    }\n\n    private writeByte(addr: word, val: byte) {\n        this.addr = addr;\n        const page = addr >> 8,\n            off = addr & 0xff;\n\n        this.memPages[page].write(page, off, val);\n\n        this.cycles++;\n    }\n\n    private readWord(addr: word): word {\n        return this.readByte(addr) | (this.readByte(addr + 1) << 8);\n    }\n\n    private readWordPC(): word {\n        return this.readBytePC() | (this.readBytePC() << 8);\n    }\n\n    private readZPWord(addr: byte): word {\n        const lsb = this.readByte(addr & 0xff);\n        const msb = this.readByte((addr + 1) & 0xff);\n\n        return (msb << 8) | lsb;\n    }\n\n    private pushByte(val: byte) {\n        this.writeByte(loc.STACK | this.sp, val);\n        this.sp = (this.sp + 0xff) & 0xff;\n    }\n\n    private pushWord(val: word) {\n        this.pushByte(val >> 8);\n        this.pushByte(val & 0xff);\n    }\n\n    private pullByte(): byte {\n        this.sp = (this.sp + 0x01) & 0xff;\n        return this.readByte(loc.STACK | this.sp);\n    }\n\n    private pullWordRaw(): word {\n        const lsb = this.pullByte();\n        const msb = this.pullByte();\n\n        return (msb << 8) | lsb;\n    }\n\n    // Helpers that replicate false reads and writes during work cycles that\n    // vary between CPU versions\n\n    private workCycle(addr: word, val: byte) {\n        if (this.is65C02) {\n            this.readByte(addr);\n        } else {\n            this.writeByte(addr, val);\n        }\n    }\n\n    private workCycleIndexedWrite(pc: word, addr: word, addrIdx: word): void {\n        const oldPage = addr & 0xff00;\n        if (this.is65C02) {\n            this.readByte(pc);\n        } else {\n            const off = addrIdx & 0xff;\n            this.readByte(oldPage | off);\n        }\n    }\n\n    private workCycleIndexedRead(pc: word, addr: word, addrIdx: word): void {\n        const oldPage = addr & 0xff00;\n        const newPage = addrIdx & 0xff00;\n        if (newPage !== oldPage) {\n            if (this.is65C02) {\n                this.readByte(pc);\n            } else {\n                const off = addrIdx & 0xff;\n                this.readByte(oldPage | off);\n            }\n        }\n    }\n\n    /*\n     * Implied function\n     */\n\n    implied = () => {\n        this.readByte(this.pc);\n    };\n\n    /*\n     * Read functions\n     */\n\n    // #$00\n    readImmediate = (): byte => {\n        return this.readBytePC();\n    };\n\n    // $0000\n    readAbsolute = (): byte => {\n        return this.readByte(this.readWordPC());\n    };\n\n    // $00\n    readZeroPage = (): byte => {\n        return this.readByte(this.readBytePC());\n    };\n\n    // $0000,X\n    readAbsoluteX = (): byte => {\n        const addr = this.readWordPC();\n        const pc = this.addr;\n        const addrIdx = (addr + this.xr) & 0xffff;\n        this.workCycleIndexedRead(pc, addr, addrIdx);\n        return this.readByte(addrIdx);\n    };\n\n    // $0000,Y\n    readAbsoluteY = (): byte => {\n        const addr = this.readWordPC();\n        const pc = this.addr;\n        const addrIdx = (addr + this.yr) & 0xffff;\n        this.workCycleIndexedRead(pc, addr, addrIdx);\n        return this.readByte(addrIdx);\n    };\n\n    // $00,X\n    readZeroPageX = (): byte => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        return this.readByte((zpAddr + this.xr) & 0xff);\n    };\n\n    // $00,Y\n    readZeroPageY = (): byte => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        return this.readByte((zpAddr + this.yr) & 0xff);\n    };\n\n    // ($00,X)\n    readZeroPageXIndirect = (): byte => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        const addr = this.readZPWord((zpAddr + this.xr) & 0xff);\n        return this.readByte(addr);\n    };\n\n    // ($00),Y\n    readZeroPageIndirectY = (): byte => {\n        const zpAddr = this.readBytePC();\n        const pc = this.addr;\n        const addr = this.readZPWord(zpAddr);\n        const addrIdx = (addr + this.yr) & 0xffff;\n        this.workCycleIndexedRead(pc, addr, addrIdx);\n        return this.readByte(addrIdx);\n    };\n\n    // ($00) (65C02)\n    readZeroPageIndirect = (): byte => {\n        return this.readByte(this.readZPWord(this.readBytePC()));\n    };\n\n    /*\n     * Write Functions\n     */\n\n    // $0000\n    writeAbsolute = (val: byte) => {\n        this.writeByte(this.readWordPC(), val);\n    };\n\n    // $00\n    writeZeroPage = (val: byte) => {\n        this.writeByte(this.readBytePC(), val);\n    };\n\n    // $0000,X\n    writeAbsoluteX = (val: byte) => {\n        const addr = this.readWordPC();\n        const pc = this.addr;\n        const addrIdx = (addr + this.xr) & 0xffff;\n        this.workCycleIndexedWrite(pc, addr, addrIdx);\n        this.writeByte(addrIdx, val);\n    };\n\n    // $0000,Y\n    writeAbsoluteY = (val: byte) => {\n        const addr = this.readWordPC();\n        const pc = this.addr;\n        const addrIdx = (addr + this.yr) & 0xffff;\n        this.workCycleIndexedWrite(pc, addr, addrIdx);\n        this.writeByte(addrIdx, val);\n    };\n\n    // $00,X\n    writeZeroPageX = (val: byte) => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        this.writeByte((zpAddr + this.xr) & 0xff, val);\n    };\n\n    // $00,Y\n    writeZeroPageY = (val: byte) => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        this.writeByte((zpAddr + this.yr) & 0xff, val);\n    };\n\n    // ($00,X)\n    writeZeroPageXIndirect = (val: byte) => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        const addr = this.readZPWord((zpAddr + this.xr) & 0xff);\n        this.writeByte(addr, val);\n    };\n\n    // ($00),Y\n    writeZeroPageIndirectY = (val: byte) => {\n        const zpAddr = this.readBytePC();\n        const pc = this.addr;\n        const addr = this.readZPWord(zpAddr);\n        const addrIdx = (addr + this.yr) & 0xffff;\n        this.workCycleIndexedWrite(pc, addr, addrIdx);\n        this.writeByte(addrIdx, val);\n    };\n\n    // ($00) (65C02)\n    writeZeroPageIndirect = (val: byte) => {\n        this.writeByte(this.readZPWord(this.readBytePC()), val);\n    };\n\n    // $00\n    readAddrZeroPage = () => {\n        return this.readBytePC();\n    };\n\n    // $00,X\n    readAddrZeroPageX = () => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        return (zpAddr + this.xr) & 0xff;\n    };\n\n    // $0000 (65C02)\n    readAddrAbsolute = (): word => {\n        return this.readWordPC();\n    };\n\n    // ($0000) (6502)\n    readAddrAbsoluteIndirectBug = (): word => {\n        const addr = this.readWordPC();\n        const page = addr & 0xff00;\n        const off = addr & 0x00ff;\n        const lsb = this.readByte(addr);\n        const msb = this.readByte(page | ((off + 0x01) & 0xff));\n        return msb << 8 | lsb;\n    };\n\n    // ($0000) (65C02)\n    readAddrAbsoluteIndirect = (): word => {\n        const addr = this.readWord(this.readWordPC());\n        this.readByte(this.addr);\n        return addr;\n    };\n\n    // $0000,X\n    readAddrAbsoluteX = (opts?: Opts): word => {\n        let addr = this.readWordPC();\n        const page = addr & 0xff00;\n        addr = (addr + this.xr) & 0xffff;\n        if (this.is65C02) {\n            if (opts?.inc) {\n                this.readByte(this.addr);\n            } else {\n                const newPage = addr & 0xff00;\n                if (page !== newPage) {\n                    this.readByte(this.addr);\n                }\n            }\n        } else {\n            const off = addr & 0x00ff;\n            this.readByte(page | off);\n        }\n        return addr;\n    };\n\n    // $0000,Y (NMOS 6502)\n    readAddrAbsoluteY = (): word => {\n        let addr = this.readWordPC();\n        const page = addr & 0xff00;\n        addr = (addr + this.yr) & 0xffff;\n        const off = addr & 0x00ff;\n        this.readByte(page | off);\n        return addr;\n    };\n\n    // ($00,X) (NMOS 6502)\n    readAddrZeroPageXIndirect = () => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        return this.readZPWord((zpAddr + this.xr) & 0xff);\n    };\n\n    // ($00),Y (NMOS 6502)\n    readAddrZeroPageIndirectY = () => {\n        const zpAddr = this.readBytePC();\n        const addr = this.readZPWord(zpAddr);\n        const addrIdx = (addr + this.yr) & 0xffff;\n        const oldPage = addr & 0xff00;\n        const off = addrIdx & 0xff;\n        this.readByte(oldPage | off);\n        return addrIdx;\n    };\n\n    // $(0000,X) (65C02)\n    readAddrAbsoluteXIndirect = (): word => {\n        const lsb = this.readBytePC();\n        const pc = this.addr;\n        const msb = this.readBytePC();\n        const addr = (((msb << 8) | lsb) + this.xr) & 0xffff;\n        this.readByte(pc);\n        return this.readWord(addr);\n    };\n\n    // 5C, DC, FC NOP (65C02)\n    readNop = (): void => {\n        this.readWordPC();\n        this.readByte(this.addr);\n    };\n\n    // NOP (65C02)\n    readNopImplied = (): void => {\n        // Op is 1 cycle\n    };\n\n    /* Break */\n    brk = (readFn: ReadFn) => {\n        readFn();\n        this.pushWord(this.pc);\n        this.pushByte(this.sr | flags.B);\n        if (this.is65C02) {\n            this.setFlag(flags.D, false);\n        }\n        this.setFlag(flags.I, true);\n        this.pc = this.readWord(loc.BRK);\n    };\n\n    /* Stop (65C02) */\n    stp = () => {\n        this.stop = true;\n        this.readByte(this.pc);\n        this.readByte(this.pc);\n    };\n\n    /* Wait (65C02) */\n    wai = () => {\n        this.wait = true;\n        this.readByte(this.pc);\n        this.readByte(this.pc);\n    };\n\n    /* Load Accumulator */\n    lda = (readFn: ReadFn) => {\n        this.ar = this.testNZ(readFn());\n    };\n\n    /* Load X Register */\n    ldx = (readFn: ReadFn) => {\n        this.xr = this.testNZ(readFn());\n    };\n\n    /* Load Y Register */\n    ldy = (readFn: ReadFn) => {\n        this.yr = this.testNZ(readFn());\n    };\n\n    /* Store Accumulator */\n    sta = (writeFn: WriteFn) => {\n        writeFn(this.ar);\n    };\n\n    /* Store X Register */\n    stx = (writeFn: WriteFn) => {\n        writeFn(this.xr);\n    };\n\n    /* Store Y Register */\n    sty = (writeFn: WriteFn) => {\n        writeFn(this.yr);\n    };\n\n    /* Store Zero */\n    stz = (writeFn: WriteFn) => {\n        writeFn(0);\n    };\n\n    /* Add with Carry */\n    adc = (readFn: ReadFn) => {\n        this.ar = this.add(this.ar, readFn(), /* sub= */ false);\n    };\n\n    /* Subtract with Carry */\n    sbc = (readFn: ReadFn) => {\n        this.ar = this.add(this.ar, readFn() ^ 0xff, /* sub= */ true);\n    };\n\n    /* Increment Memory */\n    incA = () => {\n        this.readByte(this.pc);\n        this.ar = this.increment(this.ar);\n    };\n\n    inc = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn({ inc: true });\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.increment(oldVal);\n        this.writeByte(addr, val);\n    };\n\n    /* Increment X */\n    inx = () => {\n        this.readByte(this.pc);\n        this.xr = this.increment(this.xr);\n    };\n\n    /* Increment Y */\n    iny = () => {\n        this.readByte(this.pc);\n        this.yr = this.increment(this.yr);\n    };\n\n    /* Decrement Memory */\n    decA = () => {\n        this.readByte(this.pc);\n        this.ar = this.decrement(this.ar);\n    };\n\n    dec = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn({ inc: true});\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.decrement(oldVal);\n        this.writeByte(addr, val);\n    };\n\n    /* Decrement X */\n    dex = () => {\n        this.readByte(this.pc);\n        this.xr = this.decrement(this.xr);\n    };\n\n    /* Decrement Y */\n    dey = () => {\n        this.readByte(this.pc);\n        this.yr = this.decrement(this.yr);\n    };\n\n    shiftLeft = (val: byte) => {\n        this.setFlag(flags.C, !!(val & 0x80));\n        return this.testNZ((val << 1) & 0xff);\n    };\n\n    /* Arithmetic Shift Left */\n    aslA = () => {\n        this.readByte(this.pc);\n        this.ar = this.shiftLeft(this.ar);\n    };\n\n    asl = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.shiftLeft(oldVal);\n        this.writeByte(addr, val);\n    };\n\n    shiftRight = (val: byte) => {\n        this.setFlag(flags.C, !!(val & 0x01));\n        return this.testNZ(val >> 1);\n    };\n\n    /* Logical Shift Right */\n    lsrA = () => {\n        this.readByte(this.pc);\n        this.ar = this.shiftRight(this.ar);\n    };\n\n    lsr = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.shiftRight(oldVal);\n        this.writeByte(addr, val);\n    };\n\n    rotateLeft = (val: byte) => {\n        const c = (this.sr & flags.C);\n        this.setFlag(flags.C, !!(val & 0x80));\n        return this.testNZ(((val << 1) | (c ? 0x01 : 0x00)) & 0xff);\n    };\n\n    /* Rotate Left */\n    rolA = () => {\n        this.readByte(this.pc);\n        this.ar = this.rotateLeft(this.ar);\n    };\n\n    rol = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.rotateLeft(oldVal);\n        this.writeByte(addr, val);\n    };\n\n    private rotateRight(a: byte) {\n        const c = (this.sr & flags.C);\n        this.setFlag(flags.C, !!(a & 0x01));\n        return this.testNZ((a >> 1) | (c ? 0x80 : 0x00));\n    }\n\n    /* Rotate Right */\n    rorA = () => {\n        this.readByte(this.pc);\n        this.ar = this.rotateRight(this.ar);\n    };\n\n    ror = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.rotateRight(oldVal);\n        this.writeByte(addr, val);\n    };\n\n    /* Logical And Accumulator */\n    and = (readFn: ReadFn) => {\n        this.ar = this.testNZ(this.ar & readFn());\n    };\n\n    /* Logical Or Accumulator */\n    ora = (readFn: ReadFn) => {\n        this.ar = this.testNZ(this.ar | readFn());\n    };\n\n    /* Logical Exclusive Or Accumulator */\n    eor = (readFn: ReadFn) => {\n        this.ar = this.testNZ(this.ar ^ readFn());\n    };\n\n    /* Reset Bit */\n\n    rmb = (b: byte) => {\n        const bit = (0x1 << b) ^ 0xFF;\n        const addr = this.readBytePC();\n        let val = this.readByte(addr);\n        this.readByte(addr);\n        val &= bit;\n        this.writeByte(addr, val);\n    };\n\n    /* Set Bit */\n\n    smb = (b: byte) => {\n        const bit = 0x1 << b;\n        const addr = this.readBytePC();\n        let val = this.readByte(addr);\n        this.readByte(addr);\n        val |= bit;\n        this.writeByte(addr, val);\n    };\n\n    /* Test and Reset Bits */\n    trb = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const val = this.readByte(addr);\n        this.testZ(val & this.ar);\n        this.readByte(addr);\n        this.writeByte(addr, val & ~this.ar);\n    };\n\n    /* Test and Set Bits */\n    tsb = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const val = this.readByte(addr);\n        this.testZ(val & this.ar);\n        this.readByte(addr);\n        this.writeByte(addr, val | this.ar);\n    };\n\n    /* Bit */\n    bit = (readFn: ReadFn) => {\n        const val = readFn();\n        this.setFlag(flags.Z, (val & this.ar) === 0);\n        this.setFlag(flags.N, !!(val & 0x80));\n        this.setFlag(flags.V, !!(val & 0x40));\n    };\n\n    /* Bit Immediate*/\n    bitI = (readFn: ReadFn) => {\n        const val = readFn();\n        this.setFlag(flags.Z, (val & this.ar) === 0);\n    };\n\n    private compare(a: byte, b: byte) {\n        b = (b ^ 0xff);\n        const c = a + b + 1;\n        this.setFlag(flags.C, c > 0xff);\n        this.testNZ(c & 0xff);\n    }\n\n    cmp = (readFn: ReadFn) => {\n        this.compare(this.ar, readFn());\n    };\n\n    cpx = (readFn: ReadFn) => {\n        this.compare(this.xr, readFn());\n    };\n\n    cpy = (readFn: ReadFn) => {\n        this.compare(this.yr, readFn());\n    };\n\n    /* Branches */\n    brs = (f: flag) => {\n        const off = this.readBytePC(); // changes pc\n        if ((f & this.sr) !== 0) {\n            this.readByte(this.pc);\n            const oldPage = this.pc & 0xff00;\n            this.pc += off > 127 ? off - 256 : off;\n            this.pc &= 0xffff;\n            const newPage = this.pc & 0xff00;\n            const newOff = this.pc & 0xff;\n            if (newPage !== oldPage) this.readByte(oldPage | newOff);\n        }\n    };\n\n    brc = (f: flag|0) => {\n        const off = this.readBytePC(); // changes pc\n        if ((f & this.sr) === 0) {\n            this.readByte(this.pc);\n            const oldPage = this.pc & 0xff00;\n            this.pc += off > 127 ? off - 256 : off;\n            this.pc &= 0xffff;\n            const newPage = this.pc & 0xff00;\n            const newOff = this.pc & 0xff;\n            if (newPage !== oldPage) this.readByte(oldPage | newOff);\n        }\n    };\n\n    /* WDC 65C02 branches */\n\n    bbr = (b: byte) => {\n        const zpAddr = this.readBytePC();\n        const val = this.readByte(zpAddr);\n        this.writeByte(zpAddr, val);\n        const off = this.readBytePC(); // changes pc\n        const oldPc = this.pc;\n        const oldPage = oldPc & 0xff00;\n\n        let newPC = this.pc + (off > 127 ? off - 256 : off);\n        newPC &= 0xffff;\n        const newOff = newPC & 0xff;\n        this.readByte(oldPage | newOff);\n        if (((1 << b) & val) === 0) {\n            this.pc = newPC;\n        }\n    };\n\n    bbs = (b: byte) => {\n        const zpAddr = this.readBytePC();\n        const val = this.readByte(zpAddr);\n        this.writeByte(zpAddr, val);\n        const off = this.readBytePC(); // changes pc\n        const oldPc = this.pc;\n        const oldPage = oldPc & 0xff00;\n\n        let newPC = this.pc + (off > 127 ? off - 256 : off);\n        newPC &= 0xffff;\n        const newOff = newPC & 0xff;\n        this.readByte(oldPage | newOff);\n        if (((1 << b) & val) !== 0) {\n            this.pc = newPC;\n        }\n    };\n\n    /* Transfers and stack */\n    tax = () => { this.readByte(this.pc); this.testNZ(this.xr = this.ar); };\n\n    txa = () => { this.readByte(this.pc); this.testNZ(this.ar = this.xr); };\n\n    tay = () => { this.readByte(this.pc); this.testNZ(this.yr = this.ar); };\n\n    tya = () => { this.readByte(this.pc); this.testNZ(this.ar = this.yr); };\n\n    tsx = () => { this.readByte(this.pc); this.testNZ(this.xr = this.sp); };\n\n    txs = () => { this.readByte(this.pc); this.sp = this.xr; };\n\n    pha = () => { this.readByte(this.pc); this.pushByte(this.ar); };\n\n    pla = () => { this.readByte(this.pc); this.readByte(0x0100 | this.sp); this.testNZ(this.ar = this.pullByte()); };\n\n    phx = () => { this.readByte(this.pc); this.pushByte(this.xr); };\n\n    plx = () => { this.readByte(this.pc); this.readByte(0x0100 | this.sp); this.testNZ(this.xr = this.pullByte()); };\n\n    phy = () => { this.readByte(this.pc); this.pushByte(this.yr); };\n\n    ply = () => { this.readByte(this.pc); this.readByte(0x0100 | this.sp); this.testNZ(this.yr = this.pullByte()); };\n\n    php = () => { this.readByte(this.pc); this.pushByte(this.sr | flags.B); };\n\n    plp = () => { this.readByte(this.pc); this.readByte(0x0100 | this.sp); this.sr = (this.pullByte() & ~flags.B) | flags.X; };\n\n    /* Jump */\n    jmp = (readAddrFn: ReadAddrFn) => {\n        this.pc = readAddrFn();\n    };\n\n    /* Jump Subroutine */\n    jsr = () => {\n        const lsb = this.readBytePC();\n        this.readByte(0x0100 | this.sp);\n        this.pushWord(this.pc);\n        const msb = this.readBytePC();\n        this.pc = (msb << 8 | lsb) & 0xffff;\n    };\n\n    /* Return from Subroutine */\n    rts = () => {\n        this.readByte(this.pc);\n        this.readByte(0x0100 | this.sp);\n        const addr = this.pullWordRaw();\n        this.readByte(addr);\n        this.pc = (addr + 1) & 0xffff;\n    };\n\n    /* Return from Interrupt */\n    rti = () => {\n        this.readByte(this.pc);\n        this.readByte(0x0100 | this.sp);\n        this.sr = (this.pullByte() & ~flags.B) | flags.X;\n        this.pc = this.pullWordRaw();\n    };\n\n    /* Set and Clear */\n    set = (flag: flag) => {\n        this.readByte(this.pc);\n        this.sr |= flag;\n    };\n\n    clr = (flag: flag) => {\n        this.readByte(this.pc);\n        this.sr &= ~flag;\n    };\n\n    /* No-Op */\n    nop = (readFn: ImpliedFn | ReadFn) => {\n        readFn();\n    };\n\n    /* NMOS 6502 Illegal opcodes */\n\n    /* ASO = ASL + ORA */\n    aso = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.shiftLeft(oldVal);\n        this.writeByte(addr, val);\n        this.ar |= val;\n        this.testNZ(this.ar);\n    };\n\n    /* RLA = ROL + AND */\n    rla = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.rotateLeft(oldVal);\n        this.writeByte(addr, val);\n        this.ar &= val;\n        this.testNZ(this.ar);\n    };\n\n    /* LSE = LSR + EOR */\n    lse = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.shiftRight(oldVal);\n        this.writeByte(addr, val);\n        this.ar ^= val;\n        this.testNZ(this.ar);\n    };\n\n    /* RRA = ROR + ADC */\n    rra = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.rotateRight(oldVal);\n        this.writeByte(addr, val);\n        this.ar = this.add(this.ar, val, false);\n    };\n\n    /* AXS = Store A & X */\n    axs = (writeFn: WriteFn) => {\n        writeFn(this.ar & this.xr);\n    };\n\n    /* LAX = Load A & X */\n    lax = (readFn: ReadFn) => {\n        const val = readFn();\n        this.ar = val;\n        this.xr = val;\n        this.testNZ(val);\n    };\n\n    /* DCM = DEC + CMP */\n    dcm = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn({ inc: true});\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.decrement(oldVal);\n        this.writeByte(addr, val);\n        this.compare(this.ar, val);\n    };\n\n    /* INS = INC + SBC */\n    ins = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn({ inc: true});\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.increment(oldVal);\n        this.writeByte(addr, val);\n        this.ar = this.add(this.ar, val ^ 0xff, true);\n    };\n\n    /* ALR = AND + LSR */\n    alr = (readFn: ReadFn) => {\n        const val = readFn() & this.ar;\n        this.ar = this.shiftRight(val);\n    };\n\n    /* ARR = AND + ROR */\n    arr = (readFn: ReadFn) => {\n        const val = readFn() & this.ar;\n        const ah = val >> 4;\n        const al = val & 0xf;\n        const b7 = val >> 7;\n        const b6 = (val >> 6) & 0x1;\n        this.ar = this.rotateRight(val);\n        let c = !!b7;\n        const v = !!(b7 ^ b6);\n        if (this.sr & flags.D) {\n            if (al + (al & 0x1) > 0x5) {\n                this.ar = (this.ar & 0xf0) | ((this.ar + 0x6) & 0xf);\n            }\n            if (ah + (ah & 0x1) > 5) {\n                c = true;\n                this.ar =((this.ar + 0x60) & 0xff);\n            }\n        }\n        this.setFlag(flags.V, v);\n        this.setFlag(flags.C, c);\n    };\n\n    /* XAA = TAX + AND */\n    xaa = (readFn: ReadFn) => {\n        const val = readFn();\n        this.ar = (this.xr & 0xEE) | (this.xr & this.ar & 0x11);\n        this.ar = this.testNZ(this.ar & val);\n    };\n\n    /** OAL = ORA + AND */\n    oal = (readFn: ReadFn) => {\n        this.ar |= 0xEE;\n        const val = this.testNZ(this.ar & readFn());\n        this.ar = val;\n        this.xr = val;\n    };\n\n    /* SAX = A & X + SBC */\n    sax = (readFn: ReadFn) => {\n        const a = this.xr & this.ar;\n        let b = readFn();\n        b = (b ^ 0xff);\n        const c = a + b + 1;\n        this.setFlag(flags.C, c > 0xff);\n        this.xr = this.testNZ(c & 0xff);\n    };\n\n    /* TAS = X & Y -> S */\n    tas = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        let val = this.xr & this.ar;\n        this.sp = val;\n        const msb = addr >> 8;\n        val = val & ((msb + 1) & 0xff);\n        this.writeByte(addr, val);\n    };\n\n    /* SAY = Y & AH + 1 */\n    say = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const msb = addr >> 8;\n        const val = this.yr & ((msb + 1) & 0xff);\n        this.writeByte(addr, val);\n    };\n\n    /* XAS = X & AH + 1 */\n    xas = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const msb = addr >> 8;\n        const val = this.xr & ((msb + 1) & 0xff);\n        this.writeByte(addr, val);\n    };\n\n    /* AXA = X & AH + 1 */\n    axa = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        let val = this.xr & this.ar;\n        const msb = addr >> 8;\n        val = val & ((msb + 1) & 0xff);\n        this.writeByte(addr, val);\n    };\n\n    /* ANC = AND with carry */\n    anc = (readFn: ReadFn) => {\n        this.ar = this.testNZ(this.ar & readFn());\n        const c = !!(this.ar & 0x80);\n        this.setFlag(flags.C, c);\n    };\n\n    /* LAS = RD & SP -> A, X, S */\n    las = (readFn: ReadFn) => {\n        const val = this.sp & readFn();\n        this.sp = val;\n        this.xr = val;\n        this.ar = this.testNZ(val);\n    };\n\n    /* SKB/SKW */\n    skp = (readFn: ReadFn) => {\n        readFn();\n    };\n\n    /* HLT */\n    hlt = (_impliedFn: ImpliedFn) => {\n        this.readByte(this.pc);\n        this.readByte(this.pc);\n        // PC shouldn't have advanced\n        this.pc = (--this.pc) & 0xffff;\n        this.stop = true;\n    };\n\n    private unknown(b: byte) {\n        let unk: StrictInstruction;\n        if (this.is65C02) {\n            // Default behavior is a 1 cycle NOP\n            unk = {\n                name: 'NOP',\n                op: this.nop,\n                modeFn: this.readNopImplied,\n                mode: 'implied',\n            };\n        } else {\n            // All 6502 Instructions should be defined\n            throw new Error(`Missing ${toHex(b)}`);\n        }\n        return unk;\n    }\n\n    public step(cb?: callback) {\n        this.sync = true;\n        this.op = this.opary[this.readBytePC()];\n        this.sync = false;\n        this.op.op(this.op.modeFn);\n\n        cb?.(this);\n    }\n\n    public stepN(n: number, cb?: callback) {\n        for (let idx = 0; idx < n; idx++) {\n            this.sync = true;\n            this.op = this.opary[this.readBytePC()];\n            this.sync = false;\n            this.op.op(this.op.modeFn);\n\n            if (cb?.(this)) {\n                return;\n            }\n        }\n    }\n\n    public stepCycles(c: number) {\n        const end = this.cycles + c;\n\n        while (this.cycles < end) {\n            this.sync = true;\n            this.op = this.opary[this.readBytePC()];\n            this.sync = false;\n            this.op.op(this.op.modeFn);\n        }\n    }\n\n    public stepCyclesDebug(c: number, cb?: callback): void {\n        const end = this.cycles + c;\n\n        while (this.cycles < end) {\n            this.sync = true;\n            this.op = this.opary[this.readBytePC()];\n            this.sync = false;\n            this.op.op(this.op.modeFn);\n\n            if (cb?.(this)) {\n                return;\n            }\n        }\n    }\n\n    public addPageHandler(pho: (MemoryPages | ResettablePageHandler)) {\n        for (let idx = pho.start(); idx <= pho.end(); idx++) {\n            this.memPages[idx] = pho;\n        }\n        if (isResettablePageHandler(pho))\n            this.resetHandlers.push(pho);\n    }\n\n    public reset() {\n        // cycles = 0;\n        this.sr = flags.X;\n        this.sp = 0xff;\n        this.ar = 0;\n        this.yr = 0;\n        this.xr = 0;\n        this.pc = this.readWord(loc.RESET);\n        this.wait = false;\n        this.stop = false;\n\n        for (let idx = 0; idx < this.resetHandlers.length; idx++) {\n            this.resetHandlers[idx].reset();\n        }\n    }\n\n    /* IRQ - Interrupt Request */\n    public irq() {\n        if ((this.sr & flags.I) === 0) {\n            this.pushWord(this.pc);\n            this.pushByte(this.sr & ~flags.B);\n            if (this.is65C02) {\n                this.setFlag(flags.D, false);\n            }\n            this.setFlag(flags.I, true);\n            this.pc = this.readWord(loc.BRK);\n            this.wait = false;\n        }\n    }\n\n    /* NMI Non-maskable Interrupt */\n    public nmi() {\n        this.pushWord(this.pc);\n        this.pushByte(this.sr & ~flags.B);\n        if (this.is65C02) {\n            this.setFlag(flags.D, false);\n        }\n        this.setFlag(flags.I, true);\n        this.pc = this.readWord(loc.NMI);\n        this.wait = false;\n    }\n\n    public getPC() {\n        return this.pc;\n    }\n\n    public setPC(pc: word) {\n        this.pc = pc;\n    }\n\n    public getDebugInfo(): DebugInfo {\n        const b = this.read(this.pc);\n        const op = this.opary[b];\n        const size = sizes[op.mode];\n        const cmd = new Array(size);\n        cmd[0] = b;\n        for (let idx = 1; idx < size; idx++) {\n            cmd[idx] = this.read(this.pc + idx);\n        }\n\n        return {\n            pc: this.pc,\n            ar: this.ar,\n            xr: this.xr,\n            yr: this.yr,\n            sr: this.sr,\n            sp: this.sp,\n            cmd\n        };\n    }\n    public getSync() {\n        return this.sync;\n    }\n\n    public getStop() {\n        return this.stop;\n    }\n\n    public getWait() {\n        return this.wait;\n    }\n\n    public getCycles() {\n        return this.cycles;\n    }\n\n    public getOpInfo(opcode: byte) {\n        return this.opary[opcode];\n    }\n\n    public getState(): CpuState {\n        return {\n            a: this.ar,\n            x: this.xr,\n            y: this.yr,\n            s: this.sr,\n            pc: this.pc,\n            sp: this.sp,\n            cycles: this.cycles\n        };\n    }\n\n    public setState(state: CpuState) {\n        this.ar = state.a;\n        this.xr = state.x;\n        this.yr = state.y;\n        this.sr = state.s;\n        this.pc = state.pc;\n        this.sp = state.sp;\n        this.cycles = state.cycles;\n    }\n\n    public read(addr: word): byte;\n    public read(page: byte, off: byte): byte;\n\n    public read(a: number, b?: number): byte {\n        let page, off;\n        if (b !== undefined) {\n            page = a & 0xff;\n            off = b & 0xff;\n        } else {\n            page = (a >> 8) & 0xff;\n            off = a & 0xff;\n        }\n        return this.memPages[page].read(page, off);\n    }\n\n    public write(addr: word, val: byte): void;\n    public write(page: byte, off: byte, val: byte): void;\n\n    public write(a: number, b: number, c?: byte): void {\n        let page, off, val;\n\n        if (c !== undefined ) {\n            page = a & 0xff;\n            off = b & 0xff;\n            val = c & 0xff;\n        } else {\n            page = (a >> 8) & 0xff;\n            off = a & 0xff;\n            val = b & 0xff;\n        }\n        this.memPages[page].write(page, off, val);\n    }\n\n    OPS_6502: Instructions = {\n        // LDA\n        0xa9: { name: 'LDA', op: this.lda, modeFn: this.readImmediate, mode: 'immediate' },\n        0xa5: { name: 'LDA', op: this.lda, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0xb5: { name: 'LDA', op: this.lda, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0xad: { name: 'LDA', op: this.lda, modeFn: this.readAbsolute, mode: 'absolute' },\n        0xbd: { name: 'LDA', op: this.lda, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0xb9: { name: 'LDA', op: this.lda, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n        0xa1: { name: 'LDA', op: this.lda, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0xb1: { name: 'LDA', op: this.lda, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // LDX\n        0xa2: { name: 'LDX', op: this.ldx, modeFn: this.readImmediate, mode: 'immediate' },\n        0xa6: { name: 'LDX', op: this.ldx, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0xb6: { name: 'LDX', op: this.ldx, modeFn: this.readZeroPageY, mode: 'zeroPageY' },\n        0xae: { name: 'LDX', op: this.ldx, modeFn: this.readAbsolute, mode: 'absolute' },\n        0xbe: { name: 'LDX', op: this.ldx, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n\n        // LDY\n        0xa0: { name: 'LDY', op: this.ldy, modeFn: this.readImmediate, mode: 'immediate' },\n        0xa4: { name: 'LDY', op: this.ldy, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0xb4: { name: 'LDY', op: this.ldy, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0xac: { name: 'LDY', op: this.ldy, modeFn: this.readAbsolute, mode: 'absolute' },\n        0xbc: { name: 'LDY', op: this.ldy, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n\n        // STA\n        0x85: { name: 'STA', op: this.sta, modeFn: this.writeZeroPage, mode: 'zeroPage' },\n        0x95: { name: 'STA', op: this.sta, modeFn: this.writeZeroPageX, mode: 'zeroPageX' },\n        0x8d: { name: 'STA', op: this.sta, modeFn: this.writeAbsolute, mode: 'absolute' },\n        0x9d: { name: 'STA', op: this.sta, modeFn: this.writeAbsoluteX, mode: 'absoluteX' },\n        0x99: { name: 'STA', op: this.sta, modeFn: this.writeAbsoluteY, mode: 'absoluteY' },\n        0x81: { name: 'STA', op: this.sta, modeFn: this.writeZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x91: { name: 'STA', op: this.sta, modeFn: this.writeZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // STX\n        0x86: { name: 'STX', op: this.stx, modeFn: this.writeZeroPage, mode: 'zeroPage' },\n        0x96: { name: 'STX', op: this.stx, modeFn: this.writeZeroPageY, mode: 'zeroPageY' },\n        0x8e: { name: 'STX', op: this.stx, modeFn: this.writeAbsolute, mode: 'absolute' },\n\n        // STY\n        0x84: { name: 'STY', op: this.sty, modeFn: this.writeZeroPage, mode: 'zeroPage' },\n        0x94: { name: 'STY', op: this.sty, modeFn: this.writeZeroPageX, mode: 'zeroPageX' },\n        0x8c: { name: 'STY', op: this.sty, modeFn: this.writeAbsolute, mode: 'absolute' },\n\n        // ADC\n        0x69: { name: 'ADC', op: this.adc, modeFn: this.readImmediate, mode: 'immediate' },\n        0x65: { name: 'ADC', op: this.adc, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x75: { name: 'ADC', op: this.adc, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x6D: { name: 'ADC', op: this.adc, modeFn: this.readAbsolute, mode: 'absolute' },\n        0x7D: { name: 'ADC', op: this.adc, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0x79: { name: 'ADC', op: this.adc, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n        0x61: { name: 'ADC', op: this.adc, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x71: { name: 'ADC', op: this.adc, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // SBC\n        0xe9: { name: 'SBC', op: this.sbc, modeFn: this.readImmediate, mode: 'immediate' },\n        0xe5: { name: 'SBC', op: this.sbc, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0xf5: { name: 'SBC', op: this.sbc, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0xeD: { name: 'SBC', op: this.sbc, modeFn: this.readAbsolute, mode: 'absolute' },\n        0xfD: { name: 'SBC', op: this.sbc, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0xf9: { name: 'SBC', op: this.sbc, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n        0xe1: { name: 'SBC', op: this.sbc, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0xf1: { name: 'SBC', op: this.sbc, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // INC\n        0xe6: { name: 'INC', op: this.inc, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0xf6: { name: 'INC', op: this.inc, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0xee: { name: 'INC', op: this.inc, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0xfe: { name: 'INC', op: this.inc, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n\n        // INX\n        0xe8: { name: 'INX', op: this.inx, modeFn: this.implied, mode: 'implied' },\n\n        // INY\n        0xc8: { name: 'INY', op: this.iny, modeFn: this.implied, mode: 'implied' },\n\n        // DEC\n        0xc6: { name: 'DEC', op: this.dec, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0xd6: { name: 'DEC', op: this.dec, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0xce: { name: 'DEC', op: this.dec, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0xde: { name: 'DEC', op: this.dec, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n\n        // DEX\n        0xca: { name: 'DEX', op: this.dex, modeFn: this.implied, mode: 'implied' },\n\n        // DEY\n        0x88: { name: 'DEY', op: this.dey, modeFn: this.implied, mode: 'implied' },\n\n        // ASL\n        0x0A: { name: 'ASL', op: this.aslA, modeFn: this.implied, mode: 'accumulator' },\n        0x06: { name: 'ASL', op: this.asl, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x16: { name: 'ASL', op: this.asl, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x0E: { name: 'ASL', op: this.asl, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x1E: { name: 'ASL', op: this.asl, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n\n        // LSR\n        0x4A: { name: 'LSR', op: this.lsrA, modeFn: this.implied, mode: 'accumulator' },\n        0x46: { name: 'LSR', op: this.lsr, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x56: { name: 'LSR', op: this.lsr, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x4E: { name: 'LSR', op: this.lsr, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x5E: { name: 'LSR', op: this.lsr, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n\n        // ROL\n        0x2A: { name: 'ROL', op: this.rolA, modeFn: this.implied, mode: 'accumulator' },\n        0x26: { name: 'ROL', op: this.rol, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x36: { name: 'ROL', op: this.rol, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x2E: { name: 'ROL', op: this.rol, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x3E: { name: 'ROL', op: this.rol, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n\n        // ROR\n        0x6A: { name: 'ROR', op: this.rorA, modeFn: this.implied, mode: 'accumulator' },\n        0x66: { name: 'ROR', op: this.ror, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x76: { name: 'ROR', op: this.ror, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x6E: { name: 'ROR', op: this.ror, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x7E: { name: 'ROR', op: this.ror, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n\n        // AND\n        0x29: { name: 'AND', op: this.and, modeFn: this.readImmediate, mode: 'immediate' },\n        0x25: { name: 'AND', op: this.and, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x35: { name: 'AND', op: this.and, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x2D: { name: 'AND', op: this.and, modeFn: this.readAbsolute, mode: 'absolute' },\n        0x3D: { name: 'AND', op: this.and, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0x39: { name: 'AND', op: this.and, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n        0x21: { name: 'AND', op: this.and, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x31: { name: 'AND', op: this.and, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // ORA\n        0x09: { name: 'ORA', op: this.ora, modeFn: this.readImmediate, mode: 'immediate' },\n        0x05: { name: 'ORA', op: this.ora, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x15: { name: 'ORA', op: this.ora, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x0D: { name: 'ORA', op: this.ora, modeFn: this.readAbsolute, mode: 'absolute' },\n        0x1D: { name: 'ORA', op: this.ora, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0x19: { name: 'ORA', op: this.ora, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n        0x01: { name: 'ORA', op: this.ora, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x11: { name: 'ORA', op: this.ora, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // EOR\n        0x49: { name: 'EOR', op: this.eor, modeFn: this.readImmediate, mode: 'immediate' },\n        0x45: { name: 'EOR', op: this.eor, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x55: { name: 'EOR', op: this.eor, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x4D: { name: 'EOR', op: this.eor, modeFn: this.readAbsolute, mode: 'absolute' },\n        0x5D: { name: 'EOR', op: this.eor, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0x59: { name: 'EOR', op: this.eor, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n        0x41: { name: 'EOR', op: this.eor, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x51: { name: 'EOR', op: this.eor, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // CMP\n        0xc9: { name: 'CMP', op: this.cmp, modeFn: this.readImmediate, mode: 'immediate' },\n        0xc5: { name: 'CMP', op: this.cmp, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0xd5: { name: 'CMP', op: this.cmp, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0xcD: { name: 'CMP', op: this.cmp, modeFn: this.readAbsolute, mode: 'absolute' },\n        0xdD: { name: 'CMP', op: this.cmp, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0xd9: { name: 'CMP', op: this.cmp, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n        0xc1: { name: 'CMP', op: this.cmp, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0xd1: { name: 'CMP', op: this.cmp, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // CPX\n        0xE0: { name: 'CPX', op: this.cpx, modeFn: this.readImmediate, mode: 'immediate' },\n        0xE4: { name: 'CPX', op: this.cpx, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0xEC: { name: 'CPX', op: this.cpx, modeFn: this.readAbsolute, mode: 'absolute' },\n\n        // CPY\n        0xC0: { name: 'CPY', op: this.cpy, modeFn: this.readImmediate, mode: 'immediate' },\n        0xC4: { name: 'CPY', op: this.cpy, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0xCC: { name: 'CPY', op: this.cpy, modeFn: this.readAbsolute, mode: 'absolute' },\n\n        // BIT\n        0x24: { name: 'BIT', op: this.bit, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x2C: { name: 'BIT', op: this.bit, modeFn: this.readAbsolute, mode: 'absolute' },\n\n        // BCC\n        0x90: { name: 'BCC', op: this.brc, modeFn: flags.C, mode: 'relative' },\n\n        // BCS\n        0xB0: { name: 'BCS', op: this.brs, modeFn: flags.C, mode: 'relative' },\n\n        // BEQ\n        0xF0: { name: 'BEQ', op: this.brs, modeFn: flags.Z, mode: 'relative' },\n\n        // BMI\n        0x30: { name: 'BMI', op: this.brs, modeFn: flags.N, mode: 'relative' },\n\n        // BNE\n        0xD0: { name: 'BNE', op: this.brc, modeFn: flags.Z, mode: 'relative' },\n\n        // BPL\n        0x10: { name: 'BPL', op: this.brc, modeFn: flags.N, mode: 'relative' },\n\n        // BVC\n        0x50: { name: 'BVC', op: this.brc, modeFn: flags.V, mode: 'relative' },\n\n        // BVS\n        0x70: { name: 'BVS', op: this.brs, modeFn: flags.V, mode: 'relative' },\n\n        // TAX\n        0xAA: { name: 'TAX', op: this.tax, modeFn: this.implied, mode: 'implied' },\n\n        // TXA\n        0x8A: { name: 'TXA', op: this.txa, modeFn: this.implied, mode: 'implied' },\n\n        // TAY\n        0xA8: { name: 'TAY', op: this.tay, modeFn: this.implied, mode: 'implied' },\n\n        // TYA\n        0x98: { name: 'TYA', op: this.tya, modeFn: this.implied, mode: 'implied' },\n\n        // TSX\n        0xBA: { name: 'TSX', op: this.tsx, modeFn: this.implied, mode: 'implied' },\n\n        // TXS\n        0x9A: { name: 'TXS', op: this.txs, modeFn: this.implied, mode: 'implied' },\n\n        // PHA\n        0x48: { name: 'PHA', op: this.pha, modeFn: this.implied, mode: 'implied' },\n\n        // PLA\n        0x68: { name: 'PLA', op: this.pla, modeFn: this.implied, mode: 'implied' },\n\n        // PHP\n        0x08: { name: 'PHP', op: this.php, modeFn: this.implied, mode: 'implied' },\n\n        // PLP\n        0x28: { name: 'PLP', op: this.plp, modeFn: this.implied, mode: 'implied' },\n\n        // JMP\n        0x4C: {\n            name: 'JMP', op: this.jmp, modeFn: this.readAddrAbsolute, mode: 'absolute'\n        },\n        0x6C: {\n            name: 'JMP', op: this.jmp, modeFn: this.readAddrAbsoluteIndirectBug, mode: 'absoluteIndirect'\n        },\n        // JSR\n        0x20: { name: 'JSR', op: this.jsr, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n\n        // RTS\n        0x60: { name: 'RTS', op: this.rts, modeFn: this.implied, mode: 'implied' },\n\n        // RTI\n        0x40: { name: 'RTI', op: this.rti, modeFn: this.implied, mode: 'implied' },\n\n        // SEC\n        0x38: { name: 'SEC', op: this.set, modeFn: flags.C, mode: 'implied' },\n\n        // SED\n        0xF8: { name: 'SED', op: this.set, modeFn: flags.D, mode: 'implied' },\n\n        // SEI\n        0x78: { name: 'SEI', op: this.set, modeFn: flags.I, mode: 'implied' },\n\n        // CLC\n        0x18: { name: 'CLC', op: this.clr, modeFn: flags.C, mode: 'implied' },\n\n        // CLD\n        0xD8: { name: 'CLD', op: this.clr, modeFn: flags.D, mode: 'implied' },\n\n        // CLI\n        0x58: { name: 'CLI', op: this.clr, modeFn: flags.I, mode: 'implied' },\n\n        // CLV\n        0xB8: { name: 'CLV', op: this.clr, modeFn: flags.V, mode: 'implied' },\n\n        // NOP\n        0xea: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n\n        // BRK\n        0x00: { name: 'BRK', op: this.brk, modeFn: this.readImmediate, mode: 'immediate' }\n    };\n\n    /* 65C02 Instructions */\n\n    OPS_65C02: Instructions = {\n        // INC / DEC A\n        0x1A: { name: 'INC', op: this.incA, modeFn: this.implied, mode: 'accumulator' },\n        0x3A: { name: 'DEC', op: this.decA, modeFn: this.implied, mode: 'accumulator' },\n\n        // Indirect Zero Page for the masses\n        0x12: { name: 'ORA', op: this.ora, modeFn: this.readZeroPageIndirect, mode: 'zeroPageIndirect' },\n        0x32: { name: 'AND', op: this.and, modeFn: this.readZeroPageIndirect, mode: 'zeroPageIndirect' },\n        0x52: { name: 'EOR', op: this.eor, modeFn: this.readZeroPageIndirect, mode: 'zeroPageIndirect' },\n        0x72: { name: 'ADC', op: this.adc, modeFn: this.readZeroPageIndirect, mode: 'zeroPageIndirect' },\n        0x92: { name: 'STA', op: this.sta, modeFn: this.writeZeroPageIndirect, mode: 'zeroPageIndirect' },\n        0xB2: { name: 'LDA', op: this.lda, modeFn: this.readZeroPageIndirect, mode: 'zeroPageIndirect' },\n        0xD2: { name: 'CMP', op: this.cmp, modeFn: this.readZeroPageIndirect, mode: 'zeroPageIndirect' },\n        0xF2: { name: 'SBC', op: this.sbc, modeFn: this.readZeroPageIndirect, mode: 'zeroPageIndirect' },\n\n        // Better BIT\n        0x34: { name: 'BIT', op: this.bit, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x3C: { name: 'BIT', op: this.bit, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0x89: { name: 'BIT', op: this.bitI, modeFn: this.readImmediate, mode: 'immediate' },\n\n        // JMP absolute indirect indexed\n        0x6C: {\n            name: 'JMP', op: this.jmp, modeFn: this.readAddrAbsoluteIndirect, mode: 'absoluteIndirect'\n        },\n        0x7C: {\n            name: 'JMP', op: this.jmp, modeFn: this.readAddrAbsoluteXIndirect, mode: 'absoluteXIndirect'\n        },\n\n        // BBR/BBS\n        0x0F: { name: 'BBR0', op: this.bbr, modeFn: 0, mode: 'zeroPage_relative' },\n        0x1F: { name: 'BBR1', op: this.bbr, modeFn: 1, mode: 'zeroPage_relative' },\n        0x2F: { name: 'BBR2', op: this.bbr, modeFn: 2, mode: 'zeroPage_relative' },\n        0x3F: { name: 'BBR3', op: this.bbr, modeFn: 3, mode: 'zeroPage_relative' },\n        0x4F: { name: 'BBR4', op: this.bbr, modeFn: 4, mode: 'zeroPage_relative' },\n        0x5F: { name: 'BBR5', op: this.bbr, modeFn: 5, mode: 'zeroPage_relative' },\n        0x6F: { name: 'BBR6', op: this.bbr, modeFn: 6, mode: 'zeroPage_relative' },\n        0x7F: { name: 'BBR7', op: this.bbr, modeFn: 7, mode: 'zeroPage_relative' },\n\n        0x8F: { name: 'BBS0', op: this.bbs, modeFn: 0, mode: 'zeroPage_relative' },\n        0x9F: { name: 'BBS1', op: this.bbs, modeFn: 1, mode: 'zeroPage_relative' },\n        0xAF: { name: 'BBS2', op: this.bbs, modeFn: 2, mode: 'zeroPage_relative' },\n        0xBF: { name: 'BBS3', op: this.bbs, modeFn: 3, mode: 'zeroPage_relative' },\n        0xCF: { name: 'BBS4', op: this.bbs, modeFn: 4, mode: 'zeroPage_relative' },\n        0xDF: { name: 'BBS5', op: this.bbs, modeFn: 5, mode: 'zeroPage_relative' },\n        0xEF: { name: 'BBS6', op: this.bbs, modeFn: 6, mode: 'zeroPage_relative' },\n        0xFF: { name: 'BBS7', op: this.bbs, modeFn: 7, mode: 'zeroPage_relative' },\n\n        // BRA\n        0x80: { name: 'BRA', op: this.brc, modeFn: 0, mode: 'relative' },\n\n        // NOP\n        0x02: { name: 'NOP', op: this.nop, modeFn: this.readImmediate, mode: 'immediate' },\n        0x22: { name: 'NOP', op: this.nop, modeFn: this.readImmediate, mode: 'immediate' },\n        0x42: { name: 'NOP', op: this.nop, modeFn: this.readImmediate, mode: 'immediate' },\n        0x44: { name: 'NOP', op: this.nop, modeFn: this.readZeroPage, mode: 'immediate' },\n        0x54: { name: 'NOP', op: this.nop, modeFn: this.readZeroPageX, mode: 'immediate' },\n        0x62: { name: 'NOP', op: this.nop, modeFn: this.readImmediate, mode: 'immediate' },\n        0x82: { name: 'NOP', op: this.nop, modeFn: this.readImmediate, mode: 'immediate' },\n        0xC2: { name: 'NOP', op: this.nop, modeFn: this.readImmediate, mode: 'immediate' },\n        0xD4: { name: 'NOP', op: this.nop, modeFn: this.readZeroPageX, mode: 'immediate' },\n        0xE2: { name: 'NOP', op: this.nop, modeFn: this.readImmediate, mode: 'immediate' },\n        0xF4: { name: 'NOP', op: this.nop, modeFn: this.readZeroPageX, mode: 'immediate' },\n        0x5C: { name: 'NOP', op: this.nop, modeFn: this.readNop, mode: 'absolute' },\n        0xDC: { name: 'NOP', op: this.nop, modeFn: this.readNop, mode: 'absolute' },\n        0xFC: { name: 'NOP', op: this.nop, modeFn: this.readNop, mode: 'absolute' },\n\n        // PHX\n        0xDA: { name: 'PHX', op: this.phx, modeFn: this.implied, mode: 'implied' },\n\n        // PHY\n        0x5A: { name: 'PHY', op: this.phy, modeFn: this.implied, mode: 'implied' },\n\n        // PLX\n        0xFA: { name: 'PLX', op: this.plx, modeFn: this.implied, mode: 'implied' },\n\n        // PLY\n        0x7A: { name: 'PLY', op: this.ply, modeFn: this.implied, mode: 'implied' },\n\n        // RMB/SMB\n\n        0x07: { name: 'RMB0', op: this.rmb, modeFn: 0, mode: 'zeroPage' },\n        0x17: { name: 'RMB1', op: this.rmb, modeFn: 1, mode: 'zeroPage' },\n        0x27: { name: 'RMB2', op: this.rmb, modeFn: 2, mode: 'zeroPage' },\n        0x37: { name: 'RMB3', op: this.rmb, modeFn: 3, mode: 'zeroPage' },\n        0x47: { name: 'RMB4', op: this.rmb, modeFn: 4, mode: 'zeroPage' },\n        0x57: { name: 'RMB5', op: this.rmb, modeFn: 5, mode: 'zeroPage' },\n        0x67: { name: 'RMB6', op: this.rmb, modeFn: 6, mode: 'zeroPage' },\n        0x77: { name: 'RMB7', op: this.rmb, modeFn: 7, mode: 'zeroPage' },\n\n        0x87: { name: 'SMB0', op: this.smb, modeFn: 0, mode: 'zeroPage' },\n        0x97: { name: 'SMB1', op: this.smb, modeFn: 1, mode: 'zeroPage' },\n        0xA7: { name: 'SMB2', op: this.smb, modeFn: 2, mode: 'zeroPage' },\n        0xB7: { name: 'SMB3', op: this.smb, modeFn: 3, mode: 'zeroPage' },\n        0xC7: { name: 'SMB4', op: this.smb, modeFn: 4, mode: 'zeroPage' },\n        0xD7: { name: 'SMB5', op: this.smb, modeFn: 5, mode: 'zeroPage' },\n        0xE7: { name: 'SMB6', op: this.smb, modeFn: 6, mode: 'zeroPage' },\n        0xF7: { name: 'SMB7', op: this.smb, modeFn: 7, mode: 'zeroPage' },\n\n        // STZ\n        0x64: { name: 'STZ', op: this.stz, modeFn: this.writeZeroPage, mode: 'zeroPage' },\n        0x74: { name: 'STZ', op: this.stz, modeFn: this.writeZeroPageX, mode: 'zeroPageX' },\n        0x9C: { name: 'STZ', op: this.stz, modeFn: this.writeAbsolute, mode: 'absolute' },\n        0x9E: { name: 'STZ', op: this.stz, modeFn: this.writeAbsoluteX, mode: 'absoluteX' },\n\n        // TRB\n        0x14: { name: 'TRB', op: this.trb, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x1C: { name: 'TRB', op: this.trb, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n\n        // TSB\n        0x04: { name: 'TSB', op: this.tsb, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x0C: { name: 'TSB', op: this.tsb, modeFn: this.readAddrAbsolute, mode: 'absolute' }\n    };\n\n    OPS_NMOS_6502: Instructions = {\n        // ASO\n        0x0F: { name: 'ASO', op: this.aso, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x1F: { name: 'ASO', op: this.aso, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0x1B: { name: 'ASO', op: this.aso, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY' },\n        0x07: { name: 'ASO', op: this.aso, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x17: { name: 'ASO', op: this.aso, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x03: { name: 'ASO', op: this.aso, modeFn: this.readAddrZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x13: { name: 'ASO', op: this.aso, modeFn: this.readAddrZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // RLA\n        0x2F: { name: 'RLA', op: this.rla, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x3F: { name: 'RLA', op: this.rla, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0x3B: { name: 'RLA', op: this.rla, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY' },\n        0x27: { name: 'RLA', op: this.rla, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x37: { name: 'RLA', op: this.rla, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x23: { name: 'RLA', op: this.rla, modeFn: this.readAddrZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x33: { name: 'RLA', op: this.rla, modeFn: this.readAddrZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // LSE\n        0x4F: { name: 'LSE', op: this.lse, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x5F: { name: 'LSE', op: this.lse, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0x5B: { name: 'LSE', op: this.lse, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY' },\n        0x47: { name: 'LSE', op: this.lse, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x57: { name: 'LSE', op: this.lse, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x43: { name: 'LSE', op: this.lse, modeFn: this.readAddrZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x53: { name: 'LSE', op: this.lse, modeFn: this.readAddrZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // RRA\n        0x6F: { name: 'RRA', op: this.rra, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x7F: { name: 'RRA', op: this.rra, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0x7B: { name: 'RRA', op: this.rra, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY' },\n        0x67: { name: 'RRA', op: this.rra, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x77: { name: 'RRA', op: this.rra, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x63: { name: 'RRA', op: this.rra, modeFn: this.readAddrZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x73: { name: 'RRA', op: this.rra, modeFn: this.readAddrZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // AXS\n        0x8F: { name: 'AXS', op: this.axs, modeFn: this.writeAbsolute, mode: 'absolute'},\n        0x87: { name: 'AXS', op: this.axs, modeFn: this.writeZeroPage, mode: 'zeroPage'},\n        0x97: { name: 'AXS', op: this.axs, modeFn: this.writeZeroPageY, mode: 'zeroPageY'},\n        0x83: { name: 'AXS', op: this.axs, modeFn: this.writeZeroPageXIndirect, mode: 'zeroPageXIndirect'},\n\n        // LAX\n        0xAF: { name: 'LAX', op: this.lax, modeFn: this.readAbsolute, mode: 'absolute'},\n        0xBF: { name: 'LAX', op: this.lax, modeFn: this.readAbsoluteY, mode: 'absoluteY'},\n        0xA7: { name: 'LAX', op: this.lax, modeFn: this.readZeroPage, mode: 'zeroPage'},\n        0xB7: { name: 'LAX', op: this.lax, modeFn: this.readZeroPageY, mode: 'zeroPageY'},\n        0xA3: { name: 'LAX', op: this.lax, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect'},\n        0xB3: { name: 'LAX', op: this.lax, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY'},\n\n        // DCM\n        0xCF: { name: 'DCM', op: this.dcm, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0xDF: { name: 'DCM', op: this.dcm, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0xDB: { name: 'DCM', op: this.dcm, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY' },\n        0xC7: { name: 'DCM', op: this.dcm, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0xD7: { name: 'DCM', op: this.dcm, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0xC3: { name: 'DCM', op: this.dcm, modeFn: this.readAddrZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0xD3: { name: 'DCM', op: this.dcm, modeFn: this.readAddrZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // INS\n        0xEF: { name: 'INS', op: this.ins, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0xFF: { name: 'INS', op: this.ins, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0xFB: { name: 'INS', op: this.ins, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY' },\n        0xE7: { name: 'INS', op: this.ins, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0xF7: { name: 'INS', op: this.ins, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0xE3: { name: 'INS', op: this.ins, modeFn: this.readAddrZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0xF3: { name: 'INS', op: this.ins, modeFn: this.readAddrZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // ALR\n        0x4B: { name: 'ALR', op: this.alr, modeFn: this.readImmediate, mode: 'immediate' },\n\n        // ARR\n        0x6B: { name: 'ARR', op: this.arr, modeFn: this.readImmediate, mode: 'immediate' },\n\n        // XAA\n        0x8B: { name: 'XAA', op: this.xaa, modeFn: this.readImmediate, mode: 'immediate' },\n\n        // OAL\n        0xAB: { name: 'OAL', op: this.oal, modeFn: this.readImmediate, mode: 'immediate' },\n\n        // SAX\n        0xCB: { name: 'SAX', op: this.sax, modeFn: this.readImmediate, mode: 'immediate' },\n\n        // NOP\n        0x1a: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n        0x3a: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n        0x5a: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n        0x7a: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n        0xda: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n        0xfa: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n\n        // SKB\n        0x80: { name: 'SKB', op: this.skp, modeFn: this.readImmediate, mode: 'immediate' },\n        0x82: { name: 'SKB', op: this.skp, modeFn: this.readImmediate, mode: 'immediate' },\n        0x89: { name: 'SKB', op: this.skp, modeFn: this.readImmediate, mode: 'immediate' },\n        0xC2: { name: 'SKB', op: this.skp, modeFn: this.readImmediate, mode: 'immediate' },\n        0xE2: { name: 'SKB', op: this.skp, modeFn: this.readImmediate, mode: 'immediate' },\n        0x04: { name: 'SKB', op: this.skp, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x14: { name: 'SKB', op: this.skp, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x34: { name: 'SKB', op: this.skp, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x44: { name: 'SKB', op: this.skp, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x54: { name: 'SKB', op: this.skp, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x64: { name: 'SKB', op: this.skp, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x74: { name: 'SKB', op: this.skp, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0xD4: { name: 'SKB', op: this.skp, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0xF4: { name: 'SKB', op: this.skp, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n\n        // SKW\n        0x0C: { name: 'SKW', op: this.skp, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x1C: { name: 'SKW', op: this.skp, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0x3C: { name: 'SKW', op: this.skp, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0x5C: { name: 'SKW', op: this.skp, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0x7C: { name: 'SKW', op: this.skp, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0xDC: { name: 'SKW', op: this.skp, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0xFC: { name: 'SKW', op: this.skp, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n\n        // HLT\n        0x02: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x12: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x22: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x32: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x42: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x52: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x62: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x72: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x92: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0xB2: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0xD2: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0xF2: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n\n        // TAS\n        0x9B: { name: 'TAS', op: this.tas, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY'},\n\n        // SAY\n        0x9C: { name: 'SAY', op: this.say, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX'},\n\n        // XAS\n        0x9E: { name: 'XAS', op: this.xas, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY'},\n\n        // AXA\n        0x9F: { name: 'AXA', op: this.axa, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY'},\n        0x93: { name: 'AXA', op: this.axa, modeFn: this.readAddrZeroPageIndirectY, mode: 'zeroPageIndirectY'},\n\n        // ANC\n        0x2b: { name: 'ANC', op: this.anc, modeFn: this.readImmediate, mode: 'immediate' },\n        0x0b: { name: 'ANC', op: this.anc, modeFn: this.readImmediate, mode: 'immediate' },\n\n        // LAS\n        0xBB: { name: 'LAS', op: this.las, modeFn: this.readAbsoluteY, mode: 'absoluteY'},\n\n        // SBC\n        0xEB: { name: 'SBC', op: this.sbc, modeFn: this.readImmediate, mode: 'immediate'}\n    };\n\n    OPS_ROCKWELL_65C02: Instructions = {\n        0xCB: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n        0xDB: { name: 'NOP', op: this.nop, modeFn: this.readZeroPageX, mode: 'immediate' },\n    };\n\n    /* WDC 65C02 Instructions */\n\n    OPS_WDC_65C02: Instructions = {\n        0xCB: { name: 'WAI', op: this.wai, modeFn: this.implied, mode: 'implied' },\n        0xDB: { name: 'STP', op: this.stp, modeFn: this.implied, mode: 'implied' }\n    };\n}\n","import { byte, memory, Memory, Restorable } from './types';\nimport { allocMemPages } from './util';\n\nexport interface RAMState {\n    /** Copy of contents. */\n    mem: memory;\n}\n\n/**\n * Represents RAM from the start page `sp` to end page `ep`. The memory\n * is addressed by `page` and `offset`.\n */\nexport default class RAM implements Memory, Restorable<RAMState> {\n    private start_page: byte;\n    private end_page: byte;\n    private mem: memory;\n\n    constructor(sp: byte, ep: byte) {\n        this.start_page = sp;\n        this.end_page = ep;\n\n        this.mem = allocMemPages(ep - sp + 1);\n    }\n\n    public start(): byte {\n        return this.start_page;\n    }\n\n    public end(): byte {\n        return this.end_page;\n    }\n\n    public read(page: byte, offset: byte) {\n        return this.mem[(page - this.start_page) << 8 | offset];\n    }\n\n    public write(page: byte, offset: byte, val: byte) {\n        this.mem[(page - this.start_page) << 8 | offset] = val;\n    }\n\n    public getState(): RAMState {\n        return {\n            mem: new Uint8Array(this.mem)\n        };\n    }\n\n    public setState(state: RAMState) {\n        this.mem = new Uint8Array(state.mem);\n    }\n}\n","import CPU6502 from './cpu6502';\nimport RAM, { RAMState } from './ram';\nimport ROM, { ROMState } from './roms/rom';\nimport { debug } from './util';\nimport { byte, Memory, Restorable } from './types';\nimport Apple2IO from './apple2io';\nimport { HiresPage, LoresPage, VideoModes } from './videomodes';\n\n/*\n * I/O Switch locations\n */\nconst LOC = {\n    // 80 Column memory\n    _80STOREOFF: 0x00,\n    _80STOREON: 0x01,\n\n    // Aux RAM\n    RAMRDOFF: 0x02,\n    RAMRDON: 0x03,\n\n    RAMWROFF: 0x04,\n    RAMWRON: 0x05,\n\n    // Bank switched ROM\n    INTCXROMOFF: 0x06,\n    INTCXROMON: 0x07,\n    ALTZPOFF: 0x08,\n    ALTZPON: 0x09,\n    SLOTC3ROMOFF: 0x0A,\n    SLOTC3ROMON: 0x0B,\n\n    // 80 Column video\n    CLR80VID: 0x0C, // clear 80 column mode\n    SET80VID: 0x0D, // set 80 column mode\n    CLRALTCH: 0x0E, // clear mousetext\n    SETALTCH: 0x0F, // set mousetext\n\n    // Status\n    BSRBANK2: 0x11,\n    BSRREADRAM: 0x12,\n    RAMRD: 0x13,\n    RAMWRT: 0x14,\n    INTCXROM: 0x15,\n    ALTZP: 0x16,\n    SLOTC3ROM: 0x17,\n    _80STORE: 0x18,\n    VERTBLANK: 0x19,\n\n    RDTEXT: 0x1A, // using text mode\n    RDMIXED: 0x1B, // using mixed mode\n    RDPAGE2: 0x1C, // using text/graphics page2\n    RDHIRES: 0x1D, // using Hi-res graphics mode\n    RDALTCH: 0x1E, // using alternate character set\n    RD80VID: 0x1F, // using 80-column display mode\n\n    // Graphics\n    PAGE1: 0x54, // select text/graphics page1 main/aux\n    PAGE2: 0x55, // select text/graphics page2 main/aux\n    RESET_HIRES: 0x56,\n    SET_HIRES: 0x57,\n\n    DHIRESON: 0x5E, // Enable double hires (CLRAN3)\n    DHIRESOFF: 0x5F, // Disable double hires (SETAN3)\n\n    // Misc\n    BANK: 0x73, // Back switched RAM card bank\n\n    IOUDISON: 0x7E, // W IOU Disable on / R7 IOU Disable\n    IOUDISOFF: 0x7F, // W IOU Disable off / R7 Double Hires\n\n    // Language Card\n\n    // Bank 2\n    READBSR2: 0x80,\n    WRITEBSR2: 0x81,\n    OFFBSR2: 0x82,\n    READWRBSR2: 0x83,\n\n    // Bank 1\n    READBSR1: 0x88,\n    WRITEBSR1: 0x89,\n    OFFBSR1: 0x8a,\n    READWRBSR1: 0x8b,\n};\n\nclass Switches implements Memory {\n    constructor(private mmu: MMU) {}\n\n    read(_page: byte, off: byte) {\n        return this.mmu._access(off) || 0;\n    }\n\n    write(_page: byte, off: byte, val: byte) {\n        this.mmu._access(off, val);\n    }\n}\n\nclass AuxRom implements Memory {\n    constructor(\n        private readonly mmu: MMU,\n        private readonly rom: ROM) { }\n\n    _access(page: byte, off: byte) {\n        if (page === 0xc3) {\n            this.mmu._setIntc8rom(true);\n            this.mmu._updateBanks();\n        }\n        if (page === 0xcf && off === 0xff) {\n            this.mmu._setIntc8rom(false);\n            this.mmu._updateBanks();\n        }\n    }\n\n    read(page: byte, off: byte) {\n        this._access(page, off);\n        return this.rom.read(page, off);\n    }\n\n    write(page: byte, off: byte, _val: byte) {\n        this._access(page, off);\n    }\n}\n\nexport interface MMUState {\n    bank1: boolean;\n    readbsr: boolean;\n    writebsr: boolean;\n    prewrite: boolean;\n\n    intcxrom: boolean;\n    slot3rom: boolean;\n    intc8rom: boolean;\n\n    auxRamRead: boolean;\n    auxRamWrite: boolean;\n    altzp: boolean;\n\n    _80store: boolean;\n    page2: boolean;\n    hires: boolean;\n\n    mem00_01: [RAMState, RAMState];\n    mem02_03: [RAMState, RAMState];\n    mem0C_1F: [RAMState, RAMState];\n    mem60_BF: [RAMState, RAMState];\n    memD0_DF: [ROMState, RAMState, RAMState, RAMState, RAMState];\n    memE0_FF: [ROMState, RAMState, RAMState];\n}\n\nexport default class MMU implements Memory, Restorable<MMUState> {\n    private _readPages = new Array<Memory>(0x100);\n    private _writePages = new Array<Memory>(0x100);\n    private _pages = new Array<Memory[]>(0x100);\n\n    // Language Card RAM Softswitches\n    private _bank1: boolean;\n    private _readbsr: boolean;\n    private _writebsr: boolean;\n    private _prewrite: boolean;\n\n    // Auxillary ROM\n    private _intcxrom: boolean;\n    private _slot3rom: boolean;\n    private _intc8rom: boolean;\n\n    // Auxillary RAM\n    private _auxRamRead: boolean;\n    private _auxRamWrite: boolean;\n    private _altzp: boolean;\n\n    // Video\n    private __80store: boolean;\n    private _page2: boolean;\n    private _hires: boolean;\n\n    private _iouDisable: boolean;\n\n    private _vbEnd = 0;\n\n    private switches = new Switches(this);\n    private auxRom = new AuxRom(this, this.rom);\n\n    // These fields represent the bank-switched memory ranges.\n    private mem00_01 = [new RAM(0x0, 0x1), new RAM(0x0, 0x1)];\n    private mem02_03 = [new RAM(0x2, 0x3), new RAM(0x2, 0x3)];\n    private mem04_07 = [this.lores1.bank0(), this.lores1.bank1()];\n    private mem08_0B = [this.lores2.bank0(), this.lores2.bank1()];\n    private mem0C_1F = [new RAM(0xC, 0x1F), new RAM(0xC, 0x1F)];\n    private mem20_3F = [this.hires1.bank0(), this.hires1.bank1()];\n    private mem40_5F = [this.hires2.bank0(), this.hires2.bank1()];\n    private mem60_BF = [new RAM(0x60, 0xBF), new RAM(0x60, 0xBF)];\n    private memC0_C0 = [this.switches];\n    private memC1_CF = [this.io, this.auxRom];\n    private memD0_DF: [ROM, RAM, RAM, RAM, RAM] = [\n        this.rom,\n        new RAM(0xD0, 0xDF), new RAM(0xD0, 0xDF),\n        new RAM(0xD0, 0xDF), new RAM(0xD0, 0xDF)\n    ];\n    private memE0_FF: [ROM, RAM, RAM] = [\n        this.rom,\n        new RAM(0xE0, 0xFF), new RAM(0xE0, 0xFF)\n    ];\n\n    constructor(\n        private readonly cpu: CPU6502,\n        private readonly vm: VideoModes,\n        private readonly lores1: LoresPage,\n        private readonly lores2: LoresPage,\n        private readonly hires1: HiresPage,\n        private readonly hires2: HiresPage,\n        private readonly io: Apple2IO,\n        private readonly rom: ROM) {\n        /*\n         * Initialize read/write banks\n         */\n\n        // Zero Page/Stack\n        for (let idx = 0x0; idx < 0x2; idx++) {\n            this._pages[idx] = this.mem00_01;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // 0x300-0x400\n        for (let idx = 0x2; idx < 0x4; idx++) {\n            this._pages[idx] = this.mem02_03;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // Text Page 1\n        for (let idx = 0x4; idx < 0x8; idx++) {\n            this._pages[idx] = this.mem04_07;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // Text Page 2\n        for (let idx = 0x8; idx < 0xC; idx++) {\n            this._pages[idx] = this.mem08_0B;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // 0xC00-0x2000\n        for (let idx = 0xC; idx < 0x20; idx++) {\n            this._pages[idx] = this.mem0C_1F;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // Hires Page 1\n        for (let idx = 0x20; idx < 0x40; idx++) {\n            this._pages[idx] = this.mem20_3F;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // Hires Page 2\n        for (let idx = 0x40; idx < 0x60; idx++) {\n            this._pages[idx] = this.mem40_5F;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // 0x6000-0xc000\n        for (let idx = 0x60; idx < 0xc0; idx++) {\n            this._pages[idx] = this.mem60_BF;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // I/O Switches\n        {\n            const idx = 0xc0;\n            this._pages[idx] = this.memC0_C0;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // Slots\n        for (let idx = 0xc1; idx < 0xd0; idx++) {\n            this._pages[idx] = this.memC1_CF;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // Basic ROM\n        for (let idx = 0xd0; idx < 0xe0; idx++) {\n            this._pages[idx] = this.memD0_DF;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // Monitor ROM\n        for (let idx = 0xe0; idx < 0x100; idx++) {\n            this._pages[idx] = this.memE0_FF;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n    }\n\n    private _initSwitches() {\n        this._bank1 = false;\n        this._readbsr = false;\n        this._writebsr = false;\n        this._prewrite = false;\n\n        this._auxRamRead = false;\n        this._auxRamWrite = false;\n        this._altzp = false;\n\n        this._intcxrom = false;\n        this._slot3rom = false;\n        this._intc8rom = false;\n\n        this.__80store = false;\n        this._page2 = false;\n        this._hires = false;\n\n        this._iouDisable = true;\n    }\n\n    private _debug(..._args: unknown[]) {\n        // debug.apply(this, _args);\n    }\n\n    _setIntc8rom(on: boolean) {\n        this._intc8rom = on;\n    }\n\n    _updateBanks() {\n        if (this._auxRamRead) {\n            for (let idx = 0x02; idx < 0xC0; idx++) {\n                this._readPages[idx] = this._pages[idx][1];\n            }\n        } else {\n            for (let idx = 0x02; idx < 0xC0; idx++) {\n                this._readPages[idx] = this._pages[idx][0];\n            }\n        }\n\n        if (this._auxRamWrite) {\n            for (let idx = 0x02; idx < 0xC0; idx++) {\n                this._writePages[idx] = this._pages[idx][1];\n            }\n        } else {\n            for (let idx = 0x02; idx < 0xC0; idx++) {\n                this._writePages[idx] = this._pages[idx][0];\n            }\n        }\n\n        if (this.__80store) {\n            if (this._page2) {\n                for (let idx = 0x4; idx < 0x8; idx++) {\n                    this._readPages[idx] = this._pages[idx][1];\n                    this._writePages[idx] = this._pages[idx][1];\n                }\n                if (this._hires) {\n                    for (let idx = 0x20; idx < 0x40; idx++) {\n                        this._readPages[idx] = this._pages[idx][1];\n                        this._writePages[idx] = this._pages[idx][1];\n                    }\n                }\n            } else {\n                for (let idx = 0x4; idx < 0x8; idx++) {\n                    this._readPages[idx] = this._pages[idx][0];\n                    this._writePages[idx] = this._pages[idx][0];\n                }\n                if (this._hires) {\n                    for (let idx = 0x20; idx < 0x40; idx++) {\n                        this._readPages[idx] = this._pages[idx][0];\n                        this._writePages[idx] = this._pages[idx][0];\n                    }\n                }\n            }\n        }\n\n        if (this._intcxrom) {\n            for (let idx = 0xc1; idx < 0xd0; idx++) {\n                this._readPages[idx] = this._pages[idx][1];\n                this._writePages[idx] = this._pages[idx][1];\n            }\n        } else {\n            for (let idx = 0xc1; idx < 0xd0; idx++) {\n                this._readPages[idx] = this._pages[idx][0];\n                this._writePages[idx] = this._pages[idx][0];\n            }\n            if (!this._slot3rom) {\n                this._readPages[0xc3] = this._pages[0xc3][1];\n                this._writePages[0xc3] = this._pages[0xc3][1];\n            }\n            if (this._intc8rom) {\n                for (let idx = 0xc8; idx < 0xd0; idx++) {\n                    this._readPages[idx] = this._pages[idx][1];\n                    this._writePages[idx] = this._pages[idx][1];\n                }\n            }\n        }\n\n        if (this._altzp) {\n            for (let idx = 0x0; idx < 0x2; idx++) {\n                this._readPages[idx] = this._pages[idx][1];\n                this._writePages[idx] = this._pages[idx][1];\n            }\n        } else {\n            for (let idx = 0x0; idx < 0x2; idx++) {\n                this._readPages[idx] = this._pages[idx][0];\n                this._writePages[idx] = this._pages[idx][0];\n            }\n        }\n\n        if (this._readbsr) {\n            if (this._bank1) {\n                for (let idx = 0xd0; idx < 0xe0; idx++) {\n                    this._readPages[idx] = this._pages[idx][this._altzp ? 2 : 1];\n                }\n            } else {\n                for (let idx = 0xd0; idx < 0xe0; idx++) {\n                    this._readPages[idx] = this._pages[idx][this._altzp ? 4 : 3];\n                }\n            }\n            for (let idx = 0xe0; idx < 0x100; idx++) {\n                this._readPages[idx] = this._pages[idx][this._altzp ? 2 : 1];\n            }\n        } else {\n            for (let idx = 0xd0; idx < 0x100; idx++) {\n                this._readPages[idx] = this._pages[idx][0];\n            }\n        }\n\n        if (this._writebsr) {\n            if (this._bank1) {\n                for (let idx = 0xd0; idx < 0xe0; idx++) {\n                    this._writePages[idx] = this._pages[idx][this._altzp ? 2 : 1];\n                }\n            } else {\n                for (let idx = 0xd0; idx < 0xe0; idx++) {\n                    this._writePages[idx] = this._pages[idx][this._altzp ? 4 : 3];\n                }\n            }\n            for (let idx = 0xe0; idx < 0x100; idx++) {\n                this._writePages[idx] = this._pages[idx][this._altzp ? 2 : 1];\n            }\n        } else {\n            for (let idx = 0xd0; idx < 0x100; idx++) {\n                this._writePages[idx] = this._pages[idx][0];\n            }\n        }\n    }\n\n    // Apple //e memory management\n\n    private _accessMMUSet(off: byte, _val?: byte) {\n        switch (off) {\n            case LOC._80STOREOFF:\n                this.__80store = false;\n                this._debug('80 Store Off', _val);\n                this.vm.page(this._page2 ? 2 : 1);\n                break;\n            case LOC._80STOREON:\n                this.__80store = true;\n                this._debug('80 Store On', _val);\n                break;\n            case LOC.RAMRDOFF:\n                this._auxRamRead = false;\n                this._debug('Aux RAM Read Off');\n                break;\n            case LOC.RAMRDON:\n                this._auxRamRead = true;\n                this._debug('Aux RAM Read On');\n                break;\n            case LOC.RAMWROFF:\n                this._auxRamWrite = false;\n                this._debug('Aux RAM Write Off');\n                break;\n            case LOC.RAMWRON:\n                this._auxRamWrite = true;\n                this._debug('Aux RAM Write On');\n                break;\n\n            case LOC.INTCXROMOFF:\n                this._intcxrom = false;\n                if (this._slot3rom) {\n                    this._intc8rom = false;\n                }\n                this._debug('Int CX ROM Off');\n                break;\n            case LOC.INTCXROMON:\n                this._intcxrom = true;\n                this._debug('Int CX ROM On');\n                break;\n            case LOC.ALTZPOFF: // 0x08\n                this._altzp = false;\n                this._debug('Alt ZP Off');\n                break;\n            case LOC.ALTZPON: // 0x09\n                this._altzp = true;\n                this._debug('Alt ZP On');\n                break;\n            case LOC.SLOTC3ROMOFF: // 0x0A\n                this._slot3rom = false;\n                this._debug('Slot 3 ROM Off');\n                break;\n            case LOC.SLOTC3ROMON: // 0x0B\n                this._slot3rom = true;\n                this._debug('Slot 3 ROM On');\n                break;\n\n                // Graphics Switches\n\n            case LOC.CLR80VID:\n                this._debug('80 Column Mode off');\n                this.vm._80col(false);\n                break;\n            case LOC.SET80VID:\n                this._debug('80 Column Mode on');\n                this.vm._80col(true);\n                break;\n            case LOC.CLRALTCH:\n                this._debug('Alt Char off');\n                this.vm.altChar(false);\n                break;\n            case LOC.SETALTCH:\n                this._debug('Alt Char on');\n                this.vm.altChar(true);\n                break;\n        }\n        this._updateBanks();\n    }\n\n    // Status registers\n\n    private _accessStatus(off: byte, val?: byte) {\n        let result = undefined;\n\n        switch(off) {\n            case LOC.BSRBANK2:\n                this._debug(`Bank 2 Read ${!this._bank1 ? 'true' : 'false'}`);\n                result = !this._bank1 ? 0x80 : 0x00;\n                break;\n            case LOC.BSRREADRAM:\n                this._debug(`Bank SW RAM Read ${this._readbsr ? 'true' : 'false'}`);\n                result = this._readbsr ? 0x80 : 0x00;\n                break;\n            case LOC.RAMRD: // 0xC013\n                this._debug(`Aux RAM Read ${this._auxRamRead ? 'true' : 'false'}`);\n                result = this._auxRamRead ? 0x80 : 0x0;\n                break;\n            case LOC.RAMWRT: // 0xC014\n                this._debug(`Aux RAM Write ${this._auxRamWrite ? 'true' : 'false'}`);\n                result = this._auxRamWrite ? 0x80 : 0x0;\n                break;\n            case LOC.INTCXROM: // 0xC015\n            // _debug('Int CX ROM ' + _intcxrom);\n                result = this._intcxrom ? 0x80 : 0x00;\n                break;\n            case LOC.ALTZP: // 0xC016\n                this._debug(`Alt ZP ${this._altzp ? 'true' : 'false'}`);\n                result = this._altzp ? 0x80 : 0x0;\n                break;\n            case LOC.SLOTC3ROM: // 0xC017\n                this._debug(`Slot C3 ROM ${this._slot3rom ? 'true' : 'false'}`);\n                result = this._slot3rom ? 0x80 : 0x00;\n                break;\n            case LOC._80STORE: // 0xC018\n                this._debug(`80 Store ${this.__80store ? 'true' : 'false'}`);\n                result = this.__80store ? 0x80 : 0x00;\n                break;\n            case LOC.VERTBLANK: // 0xC019\n            // result = cpu.getCycles() % 20 < 5 ? 0x80 : 0x00;\n                result = (this.cpu.getCycles() < this._vbEnd) ? 0x80 : 0x00;\n                break;\n            case LOC.RDTEXT:\n                result = this.vm.isText() ? 0x80 : 0x0;\n                break;\n            case LOC.RDMIXED:\n                result = this.vm.isMixed() ? 0x80 : 0x0;\n                break;\n            case LOC.RDPAGE2:\n                result = this._page2 ? 0x80 : 0x0;\n                break;\n            case LOC.RDHIRES:\n                result = this.vm.isHires() ? 0x80 : 0x0;\n                break;\n            case LOC.RD80VID:\n                result = this.vm.is80Col() ? 0x80 : 0x0;\n                break;\n            case LOC.RDALTCH:\n                result = this.vm.isAltChar() ? 0x80 : 0x0;\n                break;\n            default:\n                result = this.io.ioSwitch(off, val);\n        }\n\n        return result;\n    }\n\n    private _accessIOUDisable(off: byte, val?: byte) {\n        const writeMode = val !== undefined;\n        let result;\n\n        switch (off) {\n            case LOC.IOUDISON:\n                if (writeMode) {\n                    this._iouDisable = true;\n                } else {\n                    result = this._iouDisable ? 0x00 : 0x80;\n                }\n                break;\n\n            case LOC.IOUDISOFF:\n                if (writeMode) {\n                    this._iouDisable = false;\n                } else {\n                    result = this.vm.isDoubleHires() ? 0x80 : 0x00;\n                }\n                break;\n\n            default:\n                result = this.io.ioSwitch(off, val);\n        }\n\n        return result;\n    }\n\n\n    private _accessGraphics(off: byte, val?: byte) {\n        let result: byte | undefined = 0;\n\n        switch (off) {\n            case LOC.PAGE1:\n                this._page2 = false;\n                if (!this.__80store) {\n                    result = this.io.ioSwitch(off, val);\n                }\n                this._debug('Page 2 off');\n                break;\n\n            case LOC.PAGE2:\n                this._page2 = true;\n                if (!this.__80store) {\n                    result = this.io.ioSwitch(off, val);\n                }\n                this._debug('Page 2 on');\n                break;\n\n            case LOC.RESET_HIRES:\n                this._hires = false;\n                result = this.io.ioSwitch(off, val);\n                this._debug('Hires off');\n                break;\n\n            case LOC.DHIRESON:\n                if (this._iouDisable) {\n                    this.vm.doubleHires(true);\n                } else {\n                    result = this.io.ioSwitch(off, val); // an3\n                }\n                break;\n\n            case LOC.DHIRESOFF:\n                if (this._iouDisable) {\n                    this.vm.doubleHires(false);\n                } else {\n                    result = this.io.ioSwitch(off, val); // an3\n                }\n                break;\n\n            case LOC.SET_HIRES:\n                this._hires = true;\n                result = this.io.ioSwitch(off, val);\n                this._debug('Hires on');\n                break;\n\n            default:\n                result = this.io.ioSwitch(off, val);\n                break;\n        }\n        this._updateBanks();\n\n        return result;\n    }\n\n    private _accessLangCard(off: byte, val?: byte) {\n        const readMode = val === undefined;\n        const result = readMode ? 0 : undefined;\n\n        const writeSwitch = off & 0x01;\n        const offSwitch = off & 0x02;\n        const bank1Switch = off & 0x08;\n\n        let bankStr;\n        let rwStr;\n\n        if (writeSwitch) { // 0xC081, 0xC083\n            if (readMode) {\n                this._writebsr = this._prewrite;\n            }\n            this._prewrite = readMode;\n\n            if (offSwitch) { // 0xC08B\n                this._readbsr = true;\n                rwStr = 'Read/Write';\n            } else {\n                this._readbsr = false;\n                rwStr = 'Write';\n            }\n        } else { // 0xC080, 0xC082\n            this._writebsr = false;\n            this._prewrite = false;\n\n            if (offSwitch) { // 0xC082\n                this._readbsr = false;\n                rwStr = 'Off';\n            } else { // 0xC080\n                this._readbsr = true;\n                rwStr = 'Read';\n            }\n        }\n\n        if (bank1Switch) {\n            this._bank1 = true;\n            bankStr = 'Bank 1';\n        } else {\n            this._bank1 = false;\n            bankStr = 'Bank 2';\n        }\n\n        this._debug(bankStr, rwStr);\n        this._updateBanks();\n\n        return result;\n    }\n\n    /*\n     * The Big Switch\n     */\n\n    _access(off: byte, val?: byte) {\n        let result;\n        const writeMode = val !== undefined;\n        const highNibble = off >> 4;\n\n        switch (highNibble) {\n            case 0x0:\n                if (writeMode) {\n                    this._accessMMUSet(off, val);\n                } else {\n                    result = this.io.ioSwitch(off);\n                }\n                break;\n\n            case 0x1:\n                if (writeMode) {\n                    this.io.ioSwitch(off, val);\n                } else {\n                    result = this._accessStatus(off, val);\n                }\n                break;\n\n            case 0x5:\n                result = this._accessGraphics(off, val);\n                break;\n\n            case 0x7:\n                result = this._accessIOUDisable(off, val);\n                break;\n\n            case 0x8:\n                result = this._accessLangCard(off, val);\n                break;\n\n            default:\n                result = this.io.ioSwitch(off, val);\n        }\n\n        return result;\n    }\n\n    public start() {\n        this.lores1.start();\n        this.lores2.start();\n        return 0x00;\n    }\n\n    public end() {\n        return 0xff;\n    }\n\n    public reset() {\n        debug('reset');\n        this._initSwitches();\n        this._updateBanks();\n        this.vm.reset();\n        this.io.reset();\n    }\n\n    public read(page: byte, off: byte) {\n        return this._readPages[page].read(page, off);\n    }\n\n    public write(page: byte, off: byte, val: byte) {\n        this._writePages[page].write(page, off, val);\n    }\n\n    public writeBank(bank: number,page: byte, off: byte, val: byte) {\n        this._pages[page][bank].write(page, off, val);\n    }\n\n    public resetVB() {\n        this._vbEnd = this.cpu.getCycles() + 1000;\n    }\n\n    public get bank1() {\n        return this._bank1;\n    }\n\n    public get readbsr() {\n        return this._readbsr;\n    }\n\n    public get writebsr() {\n        return this._writebsr;\n    }\n\n    public get auxread() {\n        return this._auxRamRead;\n    }\n\n    public get auxwrite() {\n        return this._auxRamWrite;\n    }\n\n    public get altzp() {\n        return this._altzp;\n    }\n\n    public get _80store() {\n        return this.__80store;\n    }\n\n    public get page2() {\n        return this._page2;\n    }\n\n    public get hires() {\n        return this._hires;\n    }\n\n    public get intcxrom() {\n        return this._intcxrom;\n    }\n\n    public getState(): MMUState {\n        return {\n            bank1: this._bank1,\n            readbsr: this._readbsr,\n            writebsr: this._writebsr,\n            prewrite: this._prewrite,\n\n            intcxrom: this._intcxrom,\n            slot3rom: this._slot3rom,\n            intc8rom: this._intc8rom,\n\n            auxRamRead: this._auxRamRead,\n            auxRamWrite: this._auxRamWrite,\n            altzp: this._altzp,\n\n            _80store: this.__80store,\n            page2: this._page2,\n            hires: this._hires,\n\n            mem00_01: [this.mem00_01[0].getState(), this.mem00_01[1].getState()],\n            mem02_03: [this.mem02_03[0].getState(), this.mem02_03[1].getState()],\n            mem0C_1F: [this.mem0C_1F[0].getState(), this.mem0C_1F[1].getState()],\n            mem60_BF: [this.mem60_BF[0].getState(), this.mem60_BF[1].getState()],\n            memD0_DF: [\n                this.memD0_DF[0].getState(),\n                this.memD0_DF[1].getState(),\n                this.memD0_DF[2].getState(),\n                this.memD0_DF[3].getState(),\n                this.memD0_DF[4].getState()\n            ],\n            memE0_FF: [\n                this.memE0_FF[0].getState(),\n                this.memE0_FF[1].getState(),\n                this.memE0_FF[2].getState()\n            ]\n        };\n    }\n\n    public setState(state: MMUState) {\n        this._readbsr = state.readbsr;\n        this._writebsr = state.writebsr;\n        this._bank1 = state.bank1;\n        this._prewrite = state.prewrite;\n\n        this._intcxrom = state.intcxrom;\n        this._slot3rom = state.slot3rom;\n        this._intc8rom = state.intc8rom;\n\n        this._auxRamRead = state.auxRamRead;\n        this._auxRamWrite = state.auxRamWrite;\n        this._altzp = state.altzp;\n\n        this.__80store = state._80store;\n        this._page2 = state.page2;\n        this._hires = state.hires;\n\n        this.mem00_01[0].setState(state.mem00_01[0]);\n        this.mem00_01[1].setState(state.mem00_01[1]);\n        this.mem02_03[0].setState(state.mem02_03[0]);\n        this.mem02_03[1].setState(state.mem02_03[1]);\n        this.mem0C_1F[0].setState(state.mem0C_1F[0]);\n        this.mem0C_1F[1].setState(state.mem0C_1F[1]);\n        this.mem60_BF[0].setState(state.mem60_BF[0]);\n        this.mem60_BF[1].setState(state.mem60_BF[1]);\n        this.memD0_DF[0].setState(state.memD0_DF[0]);\n        this.memD0_DF[1].setState(state.memD0_DF[1]);\n        this.memD0_DF[2].setState(state.memD0_DF[2]);\n        this.memD0_DF[3].setState(state.memD0_DF[3]);\n        this.memD0_DF[4].setState(state.memD0_DF[4]);\n        this.memE0_FF[0].setState(state.memE0_FF[0]);\n        this.memE0_FF[1].setState(state.memE0_FF[1]);\n        this.memE0_FF[2].setState(state.memE0_FF[2]);\n\n        this._updateBanks();\n    }\n}\n","const SYMBOLS = {\n/*\n    0x00: 'GOWARM',\n    0x03: 'GOSTROUT',\n    0x0A: 'USR',\n    0x0D: 'CHARAC',\n    0x0E: 'ENDCHR',\n    0x0F: 'TKN.CNTR',\n    0x0F: 'EOL.PNTR',\n    0x0F: 'NUMDIM',\n    0x10: 'DIMFLG',\n    0x11: 'VALTYP',\n    0x13: 'DATAFLG',\n    0x13: 'GARFLG',\n    0x14: 'SUBFLG',\n    0x15: 'INPUTFLG',\n    0x16: 'CPRMASK',\n    0x16: 'SIGNFLG',\n    0x1A: 'HGR.SHAPE',\n    0x1C: 'HGR.BITS',\n    0x1D: 'HGR.COUNT',\n    0x24: 'MON.CH',\n    0x26: 'MON.GBASL',\n    0x27: 'MON.GBASH',\n    0x2C: 'MON.H2',\n    0x2D: 'MON.V2',\n    0x30: 'MON.HMASK',\n    0x32: 'MON.INVFLG',\n    0x33: 'MON.PROMPT',\n    0x3C: 'MON.A1L',\n    0x3D: 'MON.A1H',\n    0x3E: 'MON.A2L',\n    0x3F: 'MON.A2H',\n    0x50: 'LINNUM',\n    0x52: 'TEMPPT',\n    0x53: 'LASTPT',\n    0x55: 'TEMPST',\n    0x5E: 'INDEX',\n    0x60: 'DEST',\n    0x62: 'RESULT',\n    0x67: 'TXTTAB',\n    0x69: 'VARTAB',\n    0x6B: 'ARYTAB',\n    0x6D: 'STREND',\n    0x6F: 'FRETOP',\n    0x71: 'FRESPC',\n    0x73: 'MEMSIZ',\n    0x75: 'CURLIN',\n    0x77: 'OLDLIN',\n    0x79: 'OLDTEXT',\n    0x7B: 'DATLIN',\n    0x7D: 'DATPTR',\n    0x7F: 'INPTR',\n    0x81: 'VARNAM',\n    0x83: 'VARPNT',\n    0x85: 'FORPNT',\n    0x87: 'TXPSV',\n    0x87: 'LASTOP',\n    0x89: 'CPRTYP',\n    0x8A: 'TEMP3',\n    0x8A: 'FNCNAM',\n    0x8C: 'DSCPTR',\n    0x8F: 'DSCLEN',\n    0x90: 'JMPADRS',\n    0x91: 'LENGTH',\n    0x92: 'ARG.EXTENSION',\n    0x93: 'TEMP1',\n    0x94: 'ARYPNT',\n    0x94: 'HIGHDS',\n    0x96: 'HIGHTR',\n    0x98: 'TEMP2',\n    0x99: 'TMPEXP',\n    0x99: 'INDX',\n    0x9A: 'EXPON',\n    0x9B: 'DPFLG',\n    0x9B: 'LOWTR',\n    0x9C: 'EXPSGN',\n    0x9D: 'FAC',\n    0x9D: 'DSCTMP',\n    0xA0: 'VPNT',\n    0xA2: 'FAC.SIGN',\n    0xA3: 'SERLEN',\n    0xA4: 'SHIFT.SIGN.EXT',\n    0xA5: 'ARG',\n    0xAA: 'ARG.SIGN',\n    0xAB: 'SGNCPR',\n    0xAC: 'FAC.EXTENSION',\n    0xAD: 'SERPNT',\n    0xAB: 'STRNG1',\n    0xAD: 'STRNG2',\n    0xAF: 'PRGEND',\n    0xB1: 'CHRGET',\n    0xB7: 'CHRGOT',\n    0xB8: 'TXTPTR',\n    0xC9: 'RNDSEED',\n    0xD0: 'HGR.DX',\n    0xD2: 'HGR.DY',\n    0xD3: 'HGR.QUADRANT',\n    0xD4: 'HGR.E',\n    0xD6: 'LOCK',\n    0xD8: 'ERRFLG',\n    0xDA: 'ERRLIN',\n    0xDC: 'ERRPOS',\n    0xDE: 'ERRNUM',\n    0xDF: 'ERRSTK',\n    0xE0: 'HGR.X',\n    0xE2: 'HGR.Y',\n    0xE4: 'HGR.COLOR',\n    0xE5: 'HGR.HORIZ',\n    0xE6: 'HGR.PAGE',\n    0xE7: 'HGR.SCALE',\n    0xE8: 'HGR.SHAPE.PNTR',\n    0xEA: 'HGR.COLLISIONS',\n    0xF0: 'FIRST',\n    0xF1: 'SPEEDZ',\n    0xF2: 'TRCFLG',\n    0xF3: 'FLASH.BIT',\n    0xF4: 'TXTPSV',\n    0xF6: 'CURLSV',\n    0xF8: 'REMSTK',\n    0xF9: 'HGR.ROTATION',\n    0x0100: 'STACK',\n    0x0200: 'INPUT.BUFFER',\n    0x03F5: 'AMPERSAND.VECTOR',\n*/\n    0xC000: 'KEYBOARD',\n    0xC001: '80STOREON',\n    0xC002: 'RAMRDOFF',\n    0xC003: 'RAMRDON',\n    0xC004: 'RAMWROFF',\n    0xC005: 'RAMWRON',\n    0xC006: 'INTCXOFF',\n    0xC007: 'INTCXON',\n    0xC008: 'ALTZPOFF',\n    0xC009: 'ALTZPON',\n    0xC00A: 'SLOT3OFF',\n    0xC00B: 'SLOT3ON',\n    0xC00C: 'CLR80VID',\n    0xC00D: 'SET80VID',\n    0xC00E: 'CLRALTCH',\n    0xC00F: 'SETALTCH',\n    0xC010: 'STROBE',\n    0xC011: 'BSRBANK2',\n    0xC012: 'BSRREAD',\n    0xC013: 'RAMRD',\n    0xC014: 'RAMWRT',\n    0xC015: 'INTCXROM',\n    0xC016: 'ALTZP',\n    0xC017: 'SLOT3ROM',\n    0xC018: '80STRORE',\n    0xC019: 'VERTBLANK',\n    0xC01A: 'RDTEXT',\n    0xC01B: 'RDMIXED',\n    0xC01C: 'RDPAGE2',\n    0xC01D: 'RDHIRES',\n    0xC01E: 'RDALTCH',\n    0xC01F: 'RD80VID',\n    0xC020: 'TAPEOUT',\n    0xC030: 'SPEAKER',\n    0xC050: 'CLRTEXT',\n    0xC051: 'SETTEXT',\n    0xC052: 'CLRMIXED',\n    0xC053: 'SETMIXED',\n    0xC054: 'PAGE1',\n    0xC055: 'PAGE2',\n    0xC056: 'CLRHIRS',\n    0xC057: 'SETHIRES',\n    0xC058: 'CLRAN0',\n    0xC059: 'SETAN0',\n    0xC05A: 'CLRAN1',\n    0xC05B: 'SETAN1',\n    0xC05C: 'CLRAN2',\n    0xC05D: 'SETAN2',\n    0xC05E: 'CLRAN3',\n    0xC05F: 'SETAN3',\n    0xC060: 'TAPEIN',\n    0xC061: 'PB0',\n    0xC062: 'PB1',\n    0xC063: 'PB2',\n    0xC064: 'PADDLE0',\n    0xC065: 'PADDLE1',\n    0xC066: 'PADDLE2',\n    0xC067: 'PADDLE3',\n    0xC070: 'PDLTRIG',\n    0xC07E: 'SETIOUDIS',\n    0xC07F: 'CLRIOUDIS',\n    0xC080: 'RDBSR2',\n    0xC081: 'WRBSR2',\n    0xC082: 'OFFBSR2',\n    0xC083: 'RWBSR2',\n    0xC084: 'RDBSR2',\n    0xC085: 'WRBSR2',\n    0xC086: 'OFFBSR2',\n    0xC087: 'RWBSR2',\n    0xC088: 'RDBSR1',\n    0xC089: 'WRBSR1',\n    0xC08A: 'OFFBSR1',\n    0xC08B: 'RWBSR1',\n    0xC08C: 'RDBSR1',\n    0xC08D: 'WRBSR1',\n    0xC08E: 'OFFBSR1',\n    0xC08F: 'RWBSR1',\n    0xD000: 'TOKEN.ADDRESS.TABLE',\n    0xD080: 'UNFNC',\n    0xD0B2: 'MATHTBL',\n    0xD0C7: 'M.NEG',\n    0xD0CA: 'M.EQU',\n    0xD0CD: 'M.REL',\n    0xD0D0: 'TOKEN.NAME.TABLE',\n    0xD260: 'ERROR.MESSAGES',\n    0xD350: 'QT.ERROR',\n    0xD358: 'QT.IN',\n    0xD35D: 'QT.BREAK',\n    0xD365: 'GTFORPNT',\n    0xD393: 'BLTU',\n    0xD39A: 'BLTU2',\n    0xD3D6: 'CHKMEM',\n    0xD3E3: 'REASON',\n    0xD410: 'MEMERR',\n    0xD412: 'ERROR',\n    0xD431: 'PRINT.ERROR.LINNUM',\n    0xD43C: 'RESTART',\n    0xD45C: 'NUMBERED.LINE',\n    0xD4B5: 'PUT.NEW.LINE',\n    0xD4F2: 'FIX.LINKS',\n    0xD52C: 'INLIN',\n    0xD52E: 'INLIN2',\n    0xD553: 'INCHR',\n    0xD559: 'PARSE.INPUT.LINE',\n    0xD56C: 'PARSE',\n    0xD61A: 'FNDLIN',\n    0xD61E: 'FL1',\n    0xD648: 'RTS.1',\n    0xD649: 'NEW',\n    0xD64B: 'SCRTCH',\n    0xD665: 'SETPTRS',\n    0xD66A: 'CLEAR',\n    0xD66C: 'CLEARC',\n    0xD683: 'STKINI',\n    0xD696: 'RTS.2',\n    0xD697: 'STXTPT',\n    0xD6A5: 'LIST',\n    0xD6DA: 'LIST.0',\n    0xD6FE: 'LIST.1',\n    0xD702: 'LIST.2',\n    0xD724: 'LIST.3',\n    0xD72C: 'GETCHR',\n    0xD734: 'LIST.4',\n    0xD766: 'FOR',\n    0xD7AF: 'STEP',\n    0xD7D2: 'NEWSTT',\n    0xD805: 'TRACE.',\n    0xD826: 'GOEND',\n    0xD828: 'EXECUTE.STATEMENT',\n    0xD82A: 'EXECUTE.STATEMENT.1',\n    0xD842: 'COLON.',\n    0xD846: 'SYNERR.1',\n    0xD849: 'RESTORE',\n    0xD853: 'SETDA',\n    0xD857: 'RTS.3',\n    0xD858: 'ISCNTC',\n    0xD863: 'CONTROL.C.TYPED',\n    0xD86E: 'STOP',\n    0xD870: 'END',\n    0xD871: 'END2',\n    0xD88A: 'END4',\n    0xD896: 'CONT',\n    0xD8AF: 'RTS.4',\n    0xD8B0: 'SAVE',\n    0xD8C9: 'LOAD',\n    0xD8F0: 'VARTIO',\n    0xD901: 'PROGIO',\n    0xD912: 'RUN',\n    0xD921: 'GOSUB',\n    0xD935: 'GO.TO.LINE',\n    0xD93E: 'GOTO',\n    0xD96A: 'RTS.5',\n    0xD96B: 'POP',\n    0xD97C: 'UNDERR',\n    0xD981: 'SYNERR.2',\n    0xD984: 'RETURN',\n    0xD995: 'DATA',\n    0xD998: 'ADDON',\n    0xD9A2: 'RTS.6',\n    0xD9A3: 'DATAN',\n    0xD9A6: 'REMN',\n    0xD9C5: 'PULL3',\n    0xD9C9: 'IF',\n    0xD9DC: 'REM',\n    0xD9E1: 'IF.TRUE',\n    0xD9EC: 'ONGOTO',\n    0xD9F4: 'ON.1',\n    0xD9F8: 'ON.2',\n    0xDA0B: 'RTS.7',\n    0xDA0C: 'LINGET',\n    0xDA46: 'LET',\n    0xDA63: 'LET2',\n    0xDA7A: 'LET.STRING',\n    0xDA7B: 'PUTSTR',\n    0xDACF: 'PR.STRING',\n    0xDAD5: 'PRINT',\n    0xDAD7: 'PRINT2',\n    0xDAFB: 'CRDO',\n    0xDB00: 'NEGATE',\n    0xDB02: 'RTS.8',\n    0xDB03: 'PR.COMMA',\n    0xDB16: 'PR.TAB.OR.SPC',\n    0xDB2C: 'NXSPC',\n    0xDB2F: 'PR.NEXT.CHAR',\n    0xDB35: 'DOSPC',\n    0xDB3A: 'STROUT',\n    0xDB3D: 'STRPRT',\n    0xDB57: 'OUTSP',\n    0xDB5A: 'OUTQUES',\n    0xDB5C: 'OUTDO',\n    0xDB71: 'INPUTERR',\n    0xDB7B: 'READERR',\n    0xDB7F: 'ERLIN',\n    0xDB86: 'INPERR',\n    0xDB87: 'RESPERR',\n    0xDBA0: 'GET',\n    0xDBB2: 'INPUT',\n    0xDBDC: 'NXIN',\n    0xDBE2: 'READ',\n    0xDBE9: 'INPUT.FLAG.ZERO',\n    0xDBEB: 'PROCESS.INPUT.LIST',\n    0xDBF1: 'PROCESS.INPUT.ITEM',\n    0xDC2B: 'INSTART',\n    0xDC69: 'INPUT.DATA',\n    0xDC72: 'INPUT.MORE',\n    0xDC99: 'INPFIN',\n    0xDCA0: 'FINDATA',\n    0xDCC6: 'INPDONE',\n    0xDCDF: 'ERR.EXTRA',\n    0xDCEF: 'ERR.REENTRY',\n    0xDCF9: 'NEXT',\n    0xDCFF: 'NEXT.1',\n    0xDD02: 'NEXT.2',\n    0xDD0D: 'GERR',\n    0xDD0F: 'NEXT.3',\n    0xDD67: 'FRMNUM',\n    0xDD6A: 'CHKNUM',\n    0xDD6C: 'CHKSTR',\n    0xDD6D: 'CHKVAL',\n    0xDD78: 'JERROR',\n    0xDD7B: 'FRMEVL',\n    0xDD86: 'FRMEVL.1',\n    0xDD95: 'FRMEVL.2',\n    0xDDCD: 'FRM.PRECEDENCE.TEST',\n    0xDDD6: 'NXOP',\n    0xDDD7: 'SAVOP',\n    0xDDE4: 'FRM.RELATIONAL',\n    0xDDF6: 'PREFNC',\n    0xDDFD: 'FRM.RECURSE',\n    0xDE0D: 'SNTXERR',\n    0xDE10: 'FRM.STACK.1',\n    0xDE15: 'FRM.STACK.2',\n    0xDE20: 'FRM.STACK.3',\n    0xDE35: 'NOTMATH',\n    0xDE38: 'GOEX',\n    0xDE3A: 'FRM.PERFORM.1',\n    0xDE43: 'FRM.PERFORM.2',\n    0xDE5D: 'EXIT',\n    0xDE60: 'FRM.ELEMENT',\n    0xDE81: 'STRTXT',\n    0xDE90: 'NOT.',\n    0xDE98: 'EQUOP',\n    0xDEA4: 'FN.',\n    0xDEAB: 'SGN.',\n    0xDEB2: 'PARCHK',\n    0xDEB8: 'CHKCLS',\n    0xDEBB: 'CHKOPN',\n    0xDEBE: 'CHKCOM',\n    0xDEC0: 'SYNCHR',\n    0xDEC9: 'SYNERR',\n    0xDECE: 'MIN',\n    0xDED0: 'EQUL',\n    0xDED5: 'FRM.VARIABLE',\n    0xDED7: 'FRM.VARIABLE.CALL',\n    0xDEF9: 'SCREEN',\n    0xDF0C: 'UNARY',\n    0xDF4F: 'OR',\n    0xDF55: 'AND',\n    0xDF5D: 'FALSE',\n    0xDF60: 'TRUE',\n    0xDF65: 'RELOPS',\n    0xDF7D: 'STRCMP',\n    0xDFAA: 'STRCMP.1',\n    0xDFB0: 'NUMCMP',\n    0xDFB5: 'STRCMP.2',\n    0xDFC1: 'CMPDONE',\n    0xDFCD: 'PDL',\n    0xDFD6: 'NXDIM',\n    0xDFD9: 'DIM',\n    0xDFE3: 'PTRGET',\n    0xDFE8: 'PTRGET2',\n    0xDFEA: 'PTRGET3',\n    0xDFF4: 'BADNAM',\n    0xDFF7: 'NAMOK',\n    0xE007: 'PTRGET4',\n    0xE07D: 'ISLETC',\n    0xE087: 'NAME.NOT.FOUND',\n    0xE09A: 'C.ZERO',\n    0xE09C: 'MAKE.NEW.VARIABLE',\n    0xE0DE: 'SET.VARPNT.AND.YA',\n    0xE0ED: 'GETARY',\n    0xE0EF: 'GETARY2',\n    0xE0FE: 'NEG32768',\n    0xE102: 'MAKINT',\n    0xE108: 'MKINT',\n    0xE10C: 'AYINT',\n    0xE119: 'MI1',\n    0xE11B: 'MI2',\n    0xE11E: 'ARRAY',\n    0xE196: 'SUBERR',\n    0xE199: 'IQERR',\n    0xE19B: 'JER',\n    0xE19E: 'USE.OLD.ARRAY',\n    0xE1B8: 'MAKE.NEW.ARRAY',\n    0xE24B: 'FIND.ARRAY.ELEMENT',\n    0xE253: 'FAE.1',\n    0xE269: 'GSE',\n    0xE26C: 'GME',\n    0xE26F: 'FAE.2',\n    0xE270: 'FAE.3',\n    0xE2AC: 'RTS.9',\n    0xE2AD: 'MULTIPLY.SUBSCRIPT',\n    0xE2B6: 'MULTIPLY.SUBS.1',\n    0xE2DE: 'FRE',\n    0xE2F2: 'GIVAYF',\n    0xE2FF: 'POS',\n    0xE301: 'SNGFLT',\n    0xE306: 'ERRDIR',\n    0xE30E: 'UNDFNC',\n    0xE313: 'DEF',\n    0xE341: 'FNC.',\n    0xE354: 'FUNCT',\n    0xE3AF: 'FNCDATA',\n    0xE3C5: 'STR',\n    0xE3D5: 'STRINI',\n    0xE3DD: 'STRSPA',\n    0xE3E7: 'STRLIT',\n    0xE3ED: 'STRLT2',\n    0xE42A: 'PUTNEW',\n    0xE432: 'JERR',\n    0xE435: 'PUTEMP',\n    0xE452: 'GETSPA',\n    0xE484: 'GARBAG',\n    0xE488: 'FIND.HIGHEST.STRING',\n    0xE519: 'CHECK.SIMPLE.VARIABLE',\n    0xE523: 'CHECK.VARIABLE',\n    0xE552: 'CHECK.BUMP',\n    0xE55D: 'CHECK.EXIT',\n    0xE562: 'MOVE.HIGHEST.STRING.TO.TOP',\n    0xE597: 'CAT',\n    0xE5D4: 'MOVINS',\n    0xE5E2: 'MOVSTR',\n    0xE5E6: 'MOVSTR.1',\n    0xE5FD: 'FRESTR',\n    0xE600: 'FREFAC',\n    0xE604: 'FRETMP',\n    0xE635: 'FRETMS',\n    0xE646: 'CHRSTR',\n    0xE65A: 'LEFTSTR',\n    0xE660: 'SUBSTRING.1',\n    0xE667: 'SUBSTRING.2',\n    0xE668: 'SUBSTRING.3',\n    0xE686: 'RIGHTSTR',\n    0xE691: 'MIDSTR',\n    0xE6B9: 'SUBSTRING.SETUP',\n    0xE6D6: 'LEN',\n    0xE6DC: 'GETSTR',\n    0xE6E5: 'ASC',\n    0xE6F2: 'GOIQ',\n    0xE6F5: 'GTBYTC',\n    0xE6F8: 'GETBYT',\n    0xE6FB: 'CONINT',\n    0xE707: 'VAL',\n    0xE73D: 'POINT',\n    0xE746: 'GTNUM',\n    0xE74C: 'COMBYTE',\n    0xE752: 'GETADR',\n    0xE764: 'PEEK',\n    0xE77B: 'POKE',\n    0xE784: 'WAIT',\n    0xE79F: 'RTS.10',\n    0xE7A0: 'FADDH',\n    0xE7A7: 'FSUB',\n    0xE7AA: 'FSUBT',\n    0xE7B9: 'FADD.1',\n    0xE7BE: 'FADD',\n    0xE7C1: 'FADDT',\n    0xE7CE: 'FADD.2',\n    0xE7FA: 'FADD.3',\n    0xE829: 'NORMALIZE.FAC.1',\n    0xE82E: 'NORMALIZE.FAC.2',\n    0xE84E: 'ZERO.FAC',\n    0xE850: 'STA.IN.FAC.SIGN.AND.EXP',\n    0xE852: 'STA.IN.FAC.SIGN',\n    0xE855: 'FADD.4',\n    0xE874: 'NORMALIZE.FAC.3',\n    0xE880: 'NORMALIZE.FAC.4',\n    0xE88D: 'NORMALIZE.FAC.5',\n    0xE88F: 'NORMALIZE.FAC.6',\n    0xE89D: 'RTS.11',\n    0xE89E: 'COMPLEMENT.FAC',\n    0xE8A4: 'COMPLEMENT.FAC.MANTISSA',\n    0xE8C6: 'INCREMENT.FAC.MANTISSA',\n    0xE8D4: 'RTS.12',\n    0xE8D5: 'OVERFLOW',\n    0xE8DA: 'SHIFT.RIGHT.1',\n    0xE8DC: 'SHIFT.RIGHT.2',\n    0xE8F0: 'SHIFT.RIGHT',\n    0xE8FD: 'L',\n    // 0xE8FD: 'SHIFT.RIGHT.3',\n    0xE907: 'SHIFT.RIGHT.4',\n    0xE911: 'SHIFT.RIGHT.5',\n    0xE913: 'CON.ONE',\n    0xE918: 'POLY.LOG',\n    0xE92D: 'CON.SQR.HALF',\n    0xE932: 'CON.SQR.TWO',\n    0xE937: 'CON.NEG.HALF',\n    0xE93C: 'CON.LOG.TWO',\n    0xE941: 'LOG',\n    0xE948: 'GIQ',\n    0xE94B: 'LOG.2',\n    0xE97F: 'FMULT',\n    0xE982: 'FMULTT',\n    0xE9B0: 'MULTIPLY.1',\n    0xE9B5: 'MULTIPLY.2',\n    0xE9E2: 'RTS.13',\n    0xE9E3: 'LOAD.ARG.FROM.YA',\n    0xEA0E: 'ADD.EXPONENTS',\n    0xEA10: 'ADD.EXPONENTS.1',\n    0xEA2B: 'OUTOFRNG',\n    0xEA31: 'ZERO',\n    0xEA36: 'JOV',\n    0xEA39: 'MUL10',\n    0xEA50: 'CON.TEN',\n    0xEA55: 'DIV10',\n    0xEA5E: 'DIV',\n    0xEA66: 'FDIV',\n    0xEA69: 'FDIVT',\n    0xEAE6: 'COPY.RESULT.INTO.FAC',\n    0xEAF9: 'LOAD.FAC.FROM.YA',\n    0xEB1E: 'STORE.FAC.IN.TEMP2.ROUNDED',\n    0xEB21: 'STORE.FAC.IN.TEMP1.ROUNDED',\n    0xEB27: 'SETFOR',\n    0xEB2B: 'STORE.FAC.AT.YX.ROUNDED',\n    0xEB53: 'COPY.ARG.TO.FAC',\n    0xEB55: 'MFA',\n    0xEB63: 'COPY.FAC.TO.ARG.ROUNDED',\n    0xEB66: 'MAF',\n    0xEB71: 'RTS.14',\n    0xEB72: 'ROUND.FAC',\n    0xEB7A: 'INCREMENT.MANTISSA',\n    0xEB82: 'SIGN',\n    0xEB86: 'SIGN1',\n    0xEB88: 'SIGN2',\n    0xEB8F: 'RTS.15',\n    0xEB90: 'SGN',\n    0xEB93: 'FLOAT',\n    0xEB9B: 'FLOAT.1',\n    0xEBA0: 'FLOAT.2',\n    0xEBAF: 'ABS',\n    0xEBB2: 'FCOMP',\n    0xEBB4: 'FCOMP2',\n    0xEBF2: 'QINT',\n    0xEC11: 'RTS.16',\n    0xEC12: 'QINT.2',\n    0xEC23: 'INT',\n    0xEC40: 'QINT.3',\n    0xEC49: 'RTS.17',\n    0xEC4A: 'FIN',\n    0xEC61: 'FIN.1',\n    0xEC64: 'FIN.2',\n    0xEC66: 'FIN.3',\n    0xEC87: 'FIN.4',\n    0xEC8A: 'FIN.5',\n    0xEC8C: 'FIN.6',\n    0xEC98: 'FIN.10',\n    0xEC9E: 'FIN.7',\n    0xECA0: 'FIN.8',\n    0xECC1: 'FIN.9',\n    0xECD5: 'ADDACC',\n    0xECE8: 'GETEXP',\n    0xED0A: 'CON.99999999.9',\n    0xED0F: 'CON.999999999',\n    0xED14: 'CON.BILLION',\n    0xED19: 'INPRT',\n    0xED24: 'LINPRT',\n    0xED2E: 'PRINT.FAC',\n    0xED31: 'GO.STROUT',\n    0xED34: 'FOUT',\n    0xED36: 'FOUT.1',\n    0xED8C: 'FOUT.2',\n    0xEE17: 'FOUT.3',\n    0xEE57: 'FOUT.4',\n    0xEE5A: 'FOUT.5',\n    0xEE5F: 'FOUT.6',\n    0xEE64: 'CON.HALF',\n    0xEE69: 'DECTBL',\n    // 0xEE8D: 'DECTBL.END',\n    0xEE8D: 'SQR',\n    0xEE97: 'FPWRT',\n    0xEED0: 'NEGOP',\n    0xEEDA: 'RTS.18',\n    0xEEDB: 'CON.LOG.E',\n    0xEEE0: 'POLY.EXP',\n    0xEF09: 'EXP',\n    0xEF5C: 'POLYNOMIAL.ODD',\n    0xEF72: 'POLYNOMIAL',\n    0xEF76: 'SERMAIN',\n    0xEFA5: 'RTS.19',\n    0xEFA6: 'CON.RND.1',\n    0xEFAA: 'CON.RND.2',\n    0xEFAE: 'RND',\n    0xEFE7: 'GO.MOVMF',\n    0xEFEA: 'COS',\n    0xEFF1: 'SIN',\n    0xF023: 'SIN.1',\n    0xF026: 'SIN.2',\n    0xF03A: 'TAN',\n    0xF062: 'TAN.1',\n    0xF066: 'CON.PI.HALF',\n    0xF06B: 'CON.PI.DOUB',\n    0xF070: 'QUARTER',\n    0xF075: 'POLY.SIN',\n    0xF09E: 'ATN',\n    0xF0CD: 'RTS.20',\n    0xF0CE: 'POLY.ATN',\n    0xF10B: 'GENERIC.CHRGET',\n    0xF128: 'COLD.START',\n    // 0xF128: 'GENERIC.END',\n    0xF1D5: 'CALL',\n    0xF1DE: 'IN.NUMBER',\n    0xF1E5: 'PR.NUMBER',\n    0xF1EC: 'PLOTFNS',\n    0xF206: 'GOERR',\n    0xF209: 'LINCOOR',\n    0xF225: 'PLOT',\n    0xF232: 'HLIN',\n    0xF241: 'VLIN',\n    0xF24F: 'COLOR',\n    0xF256: 'VTAB',\n    0xF262: 'SPEED',\n    0xF26D: 'TRACE',\n    0xF26F: 'NOTRACE',\n    0xF273: 'NORMAL',\n    0xF277: 'INVERSE',\n    0xF279: 'N.I.',\n    0xF27B: 'N.I.F.',\n    0xF280: 'FLASH',\n    0xF286: 'HIMEM',\n    0xF296: 'JMM',\n    0xF299: 'SETHI',\n    0xF2A6: 'LOMEM',\n    0xF2CB: 'ONERR',\n    0xF2E9: 'HANDLERR',\n    0xF318: 'RESUME',\n    0xF32E: 'JSYN',\n    0xF331: 'DEL',\n    0xF390: 'GR',\n    0xF399: 'TEXT',\n    0xF39F: 'STORE',\n    0xF3BC: 'RECALL',\n    0xF3D8: 'HGR2',\n    0xF3E2: 'HGR',\n    0xF3EA: 'SETHPG',\n    0xF3F2: 'HCLR',\n    0xF3F6: 'BKGND',\n    0xF411: 'HPOSN',\n    0xF457: 'HPLOT0',\n    0xF465: 'MOVE.LEFT.OR.RIGHT',\n    0xF46E: 'LR.1',\n    0xF471: 'LR.2',\n    0xF476: 'LR.3',\n    0xF478: 'LR.4',\n    0xF47E: 'COLOR.SHIFT',\n    0xF48A: 'MOVE.RIGHT',\n    0xF49C: 'LRUDX1',\n    0xF49D: 'LRUDX2',\n    0xF4B3: 'LRUD1',\n    0xF4B4: 'LRUD2',\n    0xF4C4: 'LRUD3',\n    0xF4C8: 'LRUD4',\n    0xF4CD: 'CON.03',\n    0xF4D3: 'MOVE.UP.OR.DOWN',\n    0xF501: 'UD.1',\n    0xF505: 'MOVE.DOWN',\n    0xF508: 'CON.04',\n    0xF530: 'HLINRL',\n    0xF53A: 'HGLIN',\n    0xF57C: 'MOVEX',\n    0xF581: 'MOVEX2',\n    0xF5B2: 'MSKTBL',\n    0xF5B9: 'CON.1C',\n    0xF5BA: 'COSINE.TABLE',\n    0xF5CB: 'HFIND',\n    0xF600: 'RTS.22',\n    0xF601: 'DRAW0',\n    0xF605: 'DRAW1',\n    0xF65D: 'XDRAW0',\n    0xF661: 'XDRAW1',\n    0xF6B9: 'HFNS',\n    0xF6E6: 'GGERR',\n    0xF6E9: 'HCOLOR',\n    0xF6F5: 'RTS.23',\n    0xF6F6: 'COLORTBL',\n    0xF6FE: 'HPLOT',\n    0xF721: 'ROT',\n    0xF727: 'SCALE',\n    0xF72D: 'DRWPNT',\n    0xF769: 'DRAW',\n    0xF76F: 'XDRAW',\n    0xF775: 'SHLOAD',\n    0xF7BC: 'TAPEPNT',\n    0xF7D9: 'GETARYPT',\n    0xF7E7: 'HTAB',\n    0xF800: 'MON.PLOT',\n    0xF819: 'MON.HLINE',\n    0xF828: 'MON.VLINE',\n    0xF864: 'MON.SETCOL',\n    0xF871: 'MON.SCRN',\n    0xFB1E: 'MON.PREAD',\n    0xFB39: 'MON.SETTXT',\n    0xFB40: 'MON.SETGR',\n    0xFB5B: 'MON.TABV',\n    0xFC58: 'MON.HOME',\n    0xFCA8: 'MON.WAIT',\n    0xFCFA: 'MON.RD2BIT',\n    0xFD0C: 'MON.RDKEY',\n    0xFD6A: 'MON.GETLN',\n    0xFDED: 'MON.COUT',\n    0xFE8B: 'MON.INPORT',\n    0xFE95: 'MON.OUTPORT',\n    0xFECD: 'MON.WRITE',\n    0xFEFD: 'MON.READ',\n    0xFF02: 'MON.READ2'\n};\n\nexport default SYMBOLS;\n","import { debug, toHex } from './util';\nimport { byte, word } from './types';\n\nimport CPU6502, { DebugInfo, flags, sizes } from './cpu6502';\n\nexport interface DebuggerContainer {\n    run: () => void;\n    stop: () => void;\n    isRunning: () => boolean;\n}\n\ntype symbols = { [key: number]: string };\ntype breakpointFn = (info: DebugInfo) => boolean;\n\nconst alwaysBreak = (_info: DebugInfo) => { return true; };\n\nexport const dumpStatusRegister = (sr: byte) =>\n    [\n        (sr & flags.N) ? 'N' : '-',\n        (sr & flags.V) ? 'V' : '-',\n        (sr & flags.X) ? 'X' : '-',\n        (sr & flags.B) ? 'B' : '-',\n        (sr & flags.D) ? 'D' : '-',\n        (sr & flags.I) ? 'I' : '-',\n        (sr & flags.Z) ? 'Z' : '-',\n        (sr & flags.C) ? 'C' : '-',\n    ].join('');\n\nexport default class Debugger {\n    private verbose = false;\n    private maxTrace = 256;\n    private trace: DebugInfo[] = [];\n    private breakpoints: Map<word, breakpointFn> = new Map();\n    private symbols: symbols = {};\n\n    constructor(private cpu: CPU6502, private container: DebuggerContainer) {}\n\n    stepCycles(cycles: number) {\n        this.cpu.stepCyclesDebug(this.verbose ? 1 : cycles, () => {\n            const info = this.cpu.getDebugInfo();\n\n            if (this.breakpoints.get(info.pc)?.(info)) {\n                debug('breakpoint', this.printDebugInfo(info));\n                this.container.stop();\n                return true;\n            }\n            if (this.verbose) {\n                debug(this.printDebugInfo(info));\n            } else {\n                this.updateTrace(info);\n            }\n        });\n    }\n\n    break = () => {\n        this.container.stop();\n    };\n\n    step = () => {\n        this.cpu.step(() => {\n            const info = this.cpu.getDebugInfo();\n            debug(this.printDebugInfo(info));\n            this.updateTrace(info);\n        });\n    };\n\n    continue = () => {\n        this.container.run();\n    };\n\n    /**\n     * Restart at a given memory address.\n     *\n     * @param address Address to start execution\n     */\n\n    runAt = (address: word) => {\n        this.cpu.reset();\n        this.cpu.setPC(address);\n    };\n\n    isRunning = () =>\n        this.container.isRunning();\n\n    setVerbose = (verbose: boolean) => {\n        this.verbose = verbose;\n    };\n\n    setMaxTrace = (maxTrace: number) => {\n        this.maxTrace = maxTrace;\n    };\n\n    getTrace = (count?: number) => {\n        return this.trace.slice(count ? -count : undefined).map(this.printDebugInfo).join('\\n');\n    };\n\n    printTrace = (count?: number) => {\n        debug(this.getTrace(count));\n    };\n\n    getStack = (size?: number) => {\n        const { sp } = this.cpu.getDebugInfo();\n        const stack = [];\n\n        let max = 255;\n        let min = 0;\n        if (size) {\n            if ((sp - 3) >= (255 - size)) {\n                min = Math.max(255 - size + 1, 0);\n            } else {\n                max = Math.min(sp + size - 4, 255);\n                min = Math.max(sp - 3, 0);\n            }\n        }\n\n        for (let addr = max; addr >= min; addr--) {\n            const isSP = addr === sp ? '*' : ' ';\n            const addrStr = `$${toHex(0x0100 + addr)}`;\n            const valStr = toHex(this.cpu.read(0x01, addr));\n            if (!size || ((sp + size > addr) && (addr > sp - size))) {\n                stack.push(`${isSP} ${addrStr} ${valStr}`);\n            }\n        }\n\n        return stack.join('\\n');\n    };\n\n    setBreakpoint = (addr: word, exp?: breakpointFn) => {\n        this.breakpoints.set(addr, exp || alwaysBreak);\n    };\n\n    clearBreakpoint = (addr: word) => {\n        this.breakpoints.delete(addr);\n    };\n\n    listBreakpoints = () => {\n        for(const [addr, fn] of this.breakpoints.entries()) {\n            debug(toHex(addr, 4), fn);\n        }\n    };\n\n    addSymbols = (symbols: symbols) => {\n        this.symbols = { ...this.symbols, ...symbols };\n    };\n\n    printDebugInfo = (info: DebugInfo) => {\n        const { pc, cmd } = info;\n        const symbol = this.padWithSymbol(pc);\n\n        return [\n            toHex(pc, 4),\n            '- ', symbol,\n            this.dumpRegisters(info),\n            ' ',\n            this.dumpRawOp(cmd),\n            ' ',\n            this.dumpOp(pc, cmd)\n        ].join('');\n    };\n\n    dumpPC = (pc: word) => {\n        const b = this.cpu.read(pc);\n        const op = this.cpu.getOpInfo(b);\n        const size = sizes[op.mode];\n        let result = toHex(pc, 4) + '- ';\n\n        result += this.padWithSymbol(pc);\n\n        const cmd = new Array<number>(size);\n        for (let idx = 0, jdx = pc; idx < size; idx++, jdx++) {\n            cmd[idx] = this.cpu.read(jdx);\n        }\n\n        result += this.dumpRawOp(cmd) + ' ' + this.dumpOp(pc, cmd);\n\n        return result;\n    };\n\n    dumpRegisters = (debugInfo?: DebugInfo) => {\n        if (debugInfo === undefined) {\n            debugInfo = this.cpu.getDebugInfo();\n        }\n        const { ar, xr, yr, sr, sp } = debugInfo;\n        return [\n            'A=' + toHex(ar),\n            ' X=' + toHex(xr),\n            ' Y=' + toHex(yr),\n            ' P=' + toHex(sr),\n            ' S=' + toHex(sp),\n            ' ',\n            dumpStatusRegister(sr),\n        ].join('');\n    };\n\n    dumpPage = (start: byte, end?: byte) => {\n        let result = '';\n        if (end === undefined) {\n            end = start;\n        }\n        for (let page = start; page <= end; page++) {\n            for (let idx = 0; idx < 16; idx++) {\n                result += toHex(page) + toHex(idx << 4) + ': ';\n                for (let jdx = 0; jdx < 16; jdx++) {\n                    const b = this.cpu.read(page, idx * 16 + jdx);\n                    result += toHex(b) + ' ';\n                }\n                result += '        ';\n                for (let jdx = 0; jdx < 16; jdx++) {\n                    const b = this.cpu.read(page, idx * 16 + jdx) & 0x7f;\n                    if (b >= 0x20 && b < 0x7f) {\n                        result += String.fromCharCode(b);\n                    } else {\n                        result += '.';\n                    }\n                }\n                result += '\\n';\n            }\n        }\n        return result;\n    };\n\n    /**\n     * Reads a range of memory. Will wrap at memory limit.\n     *\n     * @param address Starting address to read memory\n     * @param length Length of memory to read.\n     * @returns Byte array containing memory\n     */\n    getMemory(address: word, length: word) {\n        const bytes = new Uint8Array(length);\n        for (let idx = 0; idx < length; idx++) {\n            address &= 0xffff;\n            bytes[idx] = this.cpu.read(address++);\n        }\n        return bytes;\n    }\n\n    /**\n     * Writes a range of memory. Will wrap at memory limit.\n     *\n     * @param address Starting address to write memory\n     * @param bytes Data to write\n     */\n    setMemory(address: word, bytes: Uint8Array) {\n        for (const byte of bytes) {\n            address &= 0xffff;\n            this.cpu.write(address++, byte);\n        }\n    }\n\n    list = (pc: word) => {\n        const results = [];\n        for (let idx = 0; idx < 20; idx++) {\n            const b = this.cpu.read(pc);\n            const op = this.cpu.getOpInfo(b);\n            results.push(this.dumpPC(pc));\n            pc += sizes[op.mode];\n        }\n        return results;\n    };\n\n    private updateTrace(info: DebugInfo) {\n        this.trace.push(info);\n        if (this.trace.length > this.maxTrace) {\n            this.trace.shift();\n        }\n    }\n\n    private padWithSymbol(pc: word): string {\n        const padding = '          ';\n        const symbol = this.symbols[pc];\n\n        let result: string = padding;\n        if (symbol) {\n            result = `${symbol}${padding.substring(symbol.length)}`;\n        }\n        return result;\n    }\n\n    private dumpRawOp(parts: byte[]) {\n        const result = new Array(4);\n        for (let idx = 0; idx < 4; idx++) {\n            if (idx < parts.length) {\n                result[idx] = toHex(parts[idx]);\n            } else {\n                result[idx] = '  ';\n            }\n        }\n        return result.join(' ');\n    }\n\n    private dumpOp(pc: word, parts: byte[]) {\n        const op = this.cpu.getOpInfo(parts[0]);\n        const lsb = parts[1];\n        const msb = parts[2];\n        const addr = (msb << 8) | lsb;\n        let val;\n        let off;\n        const toHexOrSymbol = (v: word, n?: number) => (\n            this.symbols[v] || ('$' + toHex(v, n))\n        );\n\n        let result = op.name + ' ';\n        switch (op.mode) {\n            case 'implied':\n                break;\n            case 'immediate':\n                result += `#${toHexOrSymbol(lsb)}`;\n                break;\n            case 'absolute':\n                result += `${toHexOrSymbol(addr, 4)}`;\n                break;\n            case 'zeroPage':\n                result += `${toHexOrSymbol(lsb)}`;\n                break;\n            case 'relative':\n                {\n                    off = lsb;\n                    if (off > 127) {\n                        off -= 256;\n                    }\n                    pc += off + 2;\n                    result += `${toHexOrSymbol(pc, 4)} (${off})`;\n                }\n                break;\n            case 'absoluteX':\n                result += `${toHexOrSymbol(addr, 4)},X`;\n                break;\n            case 'absoluteY':\n                result += `${toHexOrSymbol(addr, 4)},Y`;\n                break;\n            case 'zeroPageX':\n                result += `${toHexOrSymbol(lsb)},X`;\n                break;\n            case 'zeroPageY':\n                result += `${toHexOrSymbol(lsb)},Y`;\n                break;\n            case 'absoluteIndirect':\n                result += `(${toHexOrSymbol(addr, 4)})`;\n                break;\n            case 'zeroPageXIndirect':\n                result += `(${toHexOrSymbol(lsb)},X)`;\n                break;\n            case 'zeroPageIndirectY':\n                result += `(${toHexOrSymbol(lsb)},),Y`;\n                break;\n            case 'accumulator':\n                result += 'A';\n                break;\n            case 'zeroPageIndirect':\n                result += `(${toHexOrSymbol(lsb)})`;\n                break;\n            case 'absoluteXIndirect':\n                result += `(${toHexOrSymbol(addr, 4)},X)`;\n                break;\n            case 'zeroPage_relative':\n                val = lsb;\n                off = msb;\n                if (off > 127) {\n                    off -= 256;\n                }\n                pc += off + 2;\n                result += `${toHexOrSymbol(val)},${toHexOrSymbol(pc, 4)} (${off})`;\n                break;\n            default:\n                break;\n        }\n        return result;\n    }\n}\n","import type { KnownKeys } from '../types';\n\nexport const BUTTON = {\n    // Buttons\n    'A': 0,\n    'B': 1,\n    'X': 2,\n    'Y': 3,\n\n    // Triggers\n    'L1': 4,\n    'R1': 5,\n\n    // Analog stick buttons\n    'L3': 6,\n    'R3': 7,\n\n    // Special\n    'START': 8,\n    'SELECT': 9,\n    'LOGO': 10,\n\n    // D pad\n    'UP': 11,\n    'DOWN': 12,\n    'LEFT': 13,\n    'RIGHT': 14\n} as const;\n\nexport type ButtonType = KnownKeys<typeof BUTTON>;\n\n/**\n * A `GamepadConfiguration` maps buttons on the controller to Apple Paddle\n * buttons or keys on the keyboard. If the value is a number, it must be\n * 0 | 1 | 2 and will map to the corresponding paddle button. If the value\n * is a string, the _first_ character of the string is used as a key to\n * press on the keyboard.\n */\nexport type GamepadConfiguration = {\n    [K in ButtonType]?: 0 | 1 | 2 | string;\n};\n","import Apple2IO from '../apple2io';\nimport { BUTTON, ButtonType, GamepadConfiguration } from './types';\n\nexport let gamepad: Gamepad | null = null;\n\nconst DEFAULT_GAMEPAD: GamepadConfiguration = {\n    'A': 0,\n    'B': 1,\n    'L1': 0,\n    'R1': 1,\n    'START': '\\x1B'\n} as const;\n\n/**\n * An array with 16 entries. For each entry _e_:\n *\n * *   if _e_ <= 0, then _-e_ is 0 | 1 | 2 and represents a joystick button;\n * *   if _e_ > 0, then _e_ is a key on the keyboard that is pressed;\n * *   if _e_ is undefined, nothing happens.\n */\nconst gamepadMap: Array<number | undefined> = [];\n/**\n * An array with 16 entries saying whether or not the given button is\n * currently pressed.\n */\nconst gamepadState: boolean[] = [];\nlet flipX = false;\nlet flipY = false;\n\n\nwindow.addEventListener('gamepadconnected', function (e: GamepadEvent) {\n    gamepad = e.gamepad;\n});\n\nexport function processGamepad(io: Apple2IO) {\n    // Always use the first gamepad\n    gamepad = navigator.getGamepads()[0];\n    if (!gamepad) {\n        return;\n    }\n    const x = (gamepad.axes[0] * 1.414 + 1) / 2.0;\n    const y = (gamepad.axes[1] * 1.414 + 1) / 2.0;\n    io.paddle(0, flipX ? 1.0 - x : x);\n    io.paddle(1, flipY ? 1.0 - y : y);\n    for (let idx = 0; idx < gamepad.buttons.length; idx++) {\n        const val = gamepadMap[idx];\n        if (val !== undefined) {\n            const old = gamepadState[idx];\n            const button = gamepad.buttons[idx];\n            let pressed: boolean;\n            if (typeof button === 'object') {\n                pressed = button.pressed;\n            } else {\n                pressed = (button === 1.0);\n            }\n\n            if (pressed && !old) {\n                if (val <= 0) {\n                    io.buttonDown(-val as 0 | 1 | 2);\n                } else {\n                    io.keyDown(val);\n                }\n            } else if (!pressed && old) {\n                if (val <= 0) {\n                    io.buttonUp(-val as 0 | 1 | 2);\n                } else {\n                    io.keyUp();\n                }\n            }\n            gamepadState[idx] = pressed;\n        }\n    }\n}\n\nexport function configGamepad(configFlipX: boolean, configFlipY: boolean) {\n    flipX = configFlipX;\n    flipY = configFlipY;\n}\n\nexport function initGamepad(data?: GamepadConfiguration) {\n    // Clear map\n    for (let idx = 0; idx < 16; idx++) {\n        gamepadMap[idx] = undefined;\n    }\n    const map = data || DEFAULT_GAMEPAD;\n    for (const entry of Object.entries(map)) {\n        const key = entry[0] as ButtonType;\n        const val = entry[1] as number | string;\n        let mapVal;\n        if (typeof val === 'string') {\n            mapVal = val.charCodeAt(0);\n        } else {\n            mapVal = -val;\n        }\n        if (key in BUTTON) {\n            gamepadMap[BUTTON[key]] = mapVal;\n        } else {\n            gamepadMap[parseInt(key, 10)] = mapVal;\n        }\n    }\n}\n","import Apple2IO from './apple2io';\nimport {\n    HiresPage,\n    LoresPage,\n    VideoModes,\n    VideoModesState,\n} from './videomodes';\nimport {\n    HiresPage2D,\n    LoresPage2D,\n    VideoModes2D,\n} from './canvas';\nimport {\n    HiresPageGL,\n    LoresPageGL,\n    VideoModesGL,\n} from './gl';\nimport ROM from './roms/rom';\nimport { Apple2IOState } from './apple2io';\nimport CPU6502, {\n    CpuState,\n    FLAVOR_6502,\n    FLAVOR_ROCKWELL_65C02,\n} from './cpu6502';\nimport MMU, { MMUState } from './mmu';\nimport RAM, { RAMState } from './ram';\n\nimport SYMBOLS from './symbols';\nimport Debugger, { DebuggerContainer } from './debugger';\n\nimport { ReadonlyUint8Array, Restorable, rom } from './types';\nimport { processGamepad } from './ui/gamepad';\n\nexport interface Apple2Options {\n    characterRom: string;\n    enhanced: boolean;\n    e: boolean;\n    gl: boolean;\n    rom: string;\n    canvas: HTMLCanvasElement;\n    tick: () => void;\n}\n\nexport interface Stats {\n    cycles: number;\n    frames: number;\n    renderedFrames: number;\n}\n\nexport interface State {\n    cpu: CpuState;\n    vm: VideoModesState;\n    io: Apple2IOState;\n    mmu: MMUState | undefined;\n    ram: RAMState[] | undefined;\n}\n\nexport class Apple2 implements Restorable<State>, DebuggerContainer {\n    private paused = false;\n\n    private theDebugger: Debugger | undefined;\n\n    private runTimer: number | null = null;\n    private runAnimationFrame: number | null = null;\n    private cpu: CPU6502;\n\n    private gr: LoresPage;\n    private gr2: LoresPage;\n    private hgr: HiresPage;\n    private hgr2: HiresPage;\n    private vm: VideoModes;\n\n    private io: Apple2IO;\n    private mmu: MMU | undefined;\n    private ram: [RAM, RAM, RAM] | undefined;\n    private characterRom: rom;\n    private rom: ROM;\n\n    private tick: () => void;\n\n    private stats: Stats = {\n        cycles: 0,\n        frames: 0,\n        renderedFrames: 0\n    };\n\n    public ready: Promise<void>;\n\n    constructor(options: Apple2Options) {\n        this.ready = this.init(options);\n    }\n\n    async init(options: Apple2Options) {\n        const romImportPromise = import(`./roms/system/${options.rom}`) as Promise<{ default: new () => ROM }>;\n        const characterRomImportPromise = import(`./roms/character/${options.characterRom}`) as Promise<{ default: ReadonlyUint8Array }>;\n\n        const LoresPage = options.gl ? LoresPageGL : LoresPage2D;\n        const HiresPage = options.gl ? HiresPageGL : HiresPage2D;\n        const VideoModes = options.gl ? VideoModesGL : VideoModes2D;\n\n        this.cpu = new CPU6502({\n            flavor: options.enhanced ? FLAVOR_ROCKWELL_65C02 : FLAVOR_6502\n        });\n        this.vm = new VideoModes(options.canvas, options.e);\n\n        const [{ default: Apple2ROM }, { default: characterRom }] = await Promise.all([\n            romImportPromise,\n            characterRomImportPromise,\n            this.vm.ready,\n        ]);\n\n        this.rom = new Apple2ROM();\n        this.characterRom = characterRom;\n\n        this.gr = new LoresPage(this.vm, 1, this.characterRom, options.e);\n        this.gr2 = new LoresPage(this.vm, 2, this.characterRom, options.e);\n        this.hgr = new HiresPage(this.vm, 1);\n        this.hgr2 = new HiresPage(this.vm, 2);\n        this.io = new Apple2IO(this.cpu, this.vm);\n        this.tick = options.tick;\n\n        if (options.e) {\n            this.mmu = new MMU(this.cpu, this.vm, this.gr, this.gr2, this.hgr, this.hgr2, this.io, this.rom);\n            this.cpu.addPageHandler(this.mmu);\n        } else {\n            this.ram = [\n                new RAM(0x00, 0x03),\n                new RAM(0x0C, 0x1F),\n                new RAM(0x60, 0xBF)\n            ];\n\n            this.cpu.addPageHandler(this.ram[0]);\n            this.cpu.addPageHandler(this.gr);\n            this.cpu.addPageHandler(this.gr2);\n            this.cpu.addPageHandler(this.ram[1]);\n            this.cpu.addPageHandler(this.hgr);\n            this.cpu.addPageHandler(this.hgr2);\n            this.cpu.addPageHandler(this.ram[2]);\n            this.cpu.addPageHandler(this.io);\n            this.cpu.addPageHandler(this.rom);\n        }\n    }\n\n    /**\n     * Runs the emulator. If the emulator is already running, this does\n     * nothing. When this function exits either `runTimer` or\n     * `runAnimationFrame` will be non-null.\n     */\n    run() {\n        this.paused = false;\n        if (this.runTimer || this.runAnimationFrame) {\n            return; // already running\n        }\n\n        this.theDebugger = new Debugger(this.cpu, this);\n        this.theDebugger.addSymbols(SYMBOLS);\n\n        const interval = 30;\n\n        let now, last = Date.now();\n        const runFn = () => {\n            const kHz = this.io.getKHz();\n            now = Date.now();\n\n            const stepMax = kHz * interval;\n            let step = (now - last) * kHz;\n            last = now;\n            if (step > stepMax) {\n                step = stepMax;\n            }\n\n            if (this.theDebugger) {\n                this.theDebugger.stepCycles(step);\n            } else {\n                this.cpu.stepCycles(step);\n            }\n            if (this.mmu) {\n                this.mmu.resetVB();\n            }\n            if (this.io.annunciator(0)) {\n                const imageData = this.io.blit();\n                if (imageData) {\n                    this.vm.blit(imageData);\n                    this.stats.renderedFrames++;\n                }\n            } else {\n                if (this.vm.blit()) {\n                    this.stats.renderedFrames++;\n                }\n            }\n            this.stats.cycles = this.cpu.getCycles();\n            this.stats.frames++;\n            this.io.tick();\n            this.tick();\n            processGamepad(this.io);\n\n            if (!this.paused && requestAnimationFrame) {\n                this.runAnimationFrame = requestAnimationFrame(runFn);\n            }\n        };\n        if (requestAnimationFrame) {\n            this.runAnimationFrame = requestAnimationFrame(runFn);\n        } else {\n            this.runTimer = window.setInterval(runFn, interval);\n        }\n    }\n\n    stop() {\n        this.paused = true;\n        if (this.runTimer) {\n            clearInterval(this.runTimer);\n        }\n        if (this.runAnimationFrame) {\n            cancelAnimationFrame(this.runAnimationFrame);\n        }\n        this.runTimer = null;\n        this.runAnimationFrame = null;\n    }\n\n    isRunning() {\n        return !this.paused;\n    }\n\n    getState(): State {\n        const state: State = {\n            cpu: this.cpu.getState(),\n            vm: this.vm.getState(),\n            io: this.io.getState(),\n            mmu: this.mmu?.getState(),\n            ram: this.ram?.map(bank => bank.getState()),\n        };\n\n        return state;\n    }\n\n    setState(state: State) {\n        this.cpu.setState(state.cpu);\n        this.vm.setState(state.vm);\n        this.io.setState(state.io);\n        if (this.mmu && state.mmu) {\n            this.mmu.setState(state.mmu);\n        }\n        if (this.ram) {\n            this.ram.forEach((bank, idx) => {\n                if (state.ram) {\n                    bank.setState(state.ram[idx]);\n                }\n            });\n        }\n    }\n\n    reset() {\n        this.cpu.reset();\n    }\n\n    getStats(): Stats {\n        return this.stats;\n    }\n\n    getCPU() {\n        return this.cpu;\n    }\n\n    getIO() {\n        return this.io;\n    }\n\n    getMMU() {\n        return this.mmu;\n    }\n\n    getROM() {\n        return this.rom;\n    }\n\n    getVideoModes() {\n        return this.vm;\n    }\n\n    getDebugger() {\n        return this.theDebugger;\n    }\n}\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./CPUMeter.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./CPUMeter.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h } from 'preact';\nimport { useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport { Apple2 as Apple2Impl } from '../apple2';\nimport type { Stats } from '../apple2';\n\nimport styles from './css/CPUMeter.module.scss';\n\n/**\n * Interface for CPUMeter.\n */\nexport interface CPUMeterProps {\n    apple2: Apple2Impl | undefined;\n}\n\n/**\n * A simple display that can cycle between emulator Khz\n * performance, frames/second and rendered frames/second.\n *\n * @param apple2 Apple2 object\n * @returns CPU Meter component\n */\nexport const CPUMeter = ({ apple2 }: CPUMeterProps) => {\n    const lastStats = useRef<Stats>({\n        frames: 0,\n        renderedFrames: 0,\n        cycles: 0,\n    });\n    const lastTime = useRef<number>(Date.now());\n    const [khz, setKhz] = useState<number>(0);\n    const [fps, setFps] = useState<number>(0);\n    const [rps, setRps] = useState<number>(0);\n    const [mode, setMode] = useState<number>(0);\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            const { cycles, frames, renderedFrames } = lastStats.current;\n            const stats = apple2?.getStats();\n            const time = Date.now();\n            const delta = time - lastTime.current;\n            if (stats) {\n                setKhz(\n                    Math.floor(\n                        (stats.cycles - cycles) / delta\n                    )\n                );\n                setFps(\n                    Math.floor(\n                        (stats.frames - frames) / delta * 1000\n                    )\n                );\n                setRps(\n                    Math.floor(\n                        (stats.renderedFrames - renderedFrames) / delta * 1000\n                    )\n                );\n                lastStats.current = { ...stats };\n                lastTime.current = time;\n            }\n        }, 1000);\n        return () => clearInterval(interval);\n    }, [apple2]);\n\n    const onClick = useCallback(() => {\n        setMode((mode) => (mode + 1) % 3);\n    }, []);\n\n    return (\n        <div className={styles.khz} onClick={onClick}>\n            {mode === 0 && `${khz} Khz`}\n            {mode === 1 && `${fps} fps`}\n            {mode === 2 && `${rps} rps`}\n        </div>\n    );\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Inset.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Inset.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h, ComponentChildren, JSX } from 'preact';\nimport cs from 'classnames';\n\nimport styles from './css/Inset.module.scss';\n\ninterface InsetProps extends JSX.HTMLAttributes<HTMLDivElement> {\n    children: ComponentChildren;\n}\n\n/**\n * Convenience component for a nice beveled border.\n *\n * @returns Inset component\n */\nexport const Inset = ({ children, className, ...props }: InsetProps) => (\n    <div className={cs(className, styles.inset)} {...props}>\n        {children}\n    </div>\n);\n","import { useEffect } from 'preact/hooks';\n\n/**\n * Hook to allow registering hotkey that will automatically\n * be cleaned up when they leave scope\n *\n * @param key KeyboardEvent key value to match\n * @param callback Invoked when key is pressed\n */\nexport const useHotKey = (key: string, callback: (ev: KeyboardEvent) => void) => {\n    useEffect(() => {\n        const onKeyDown = (ev: KeyboardEvent) => {\n            if (ev.key === key) {\n                ev.preventDefault();\n                ev.stopPropagation();\n                callback(ev);\n            }\n        };\n        document.addEventListener('keydown', onKeyDown);\n\n        return () => {\n            document.removeEventListener('keydown', onKeyDown);\n        };\n    }, [key, callback]);\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./ControlButton.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./ControlButton.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h, JSX } from 'preact';\nimport cs from 'classnames';\n\nimport styles from './css/ControlButton.module.scss';\n\n/**\n * Interface for ControlButton.\n */\nexport interface ControlButtonProps {\n    icon: string;\n    title: string;\n    disabled?: boolean;\n    active?: boolean;\n    onClick: JSX.MouseEventHandler<HTMLButtonElement>;\n}\n\n/**\n * Simple button with an icon, tooltip text and a callback.\n *\n * @param icon FontAwesome icon name\n * @param title Tooltip text\n * @param onClick Click callback\n * @returns Control Button component\n */\nexport const ControlButton = ({ active, icon, title, onClick, ...props }: ControlButtonProps) => (\n    <button className={styles.iconButton} onClick={onClick} title={title} {...props} >\n        <i className={cs('fas', `fa-${icon}`, { [styles.active]: active })}></i>\n    </button>\n);\n","const havePrefs = typeof window.localStorage !== 'undefined';\n\nexport default class Prefs {\n    url: URL;\n    title: string;\n\n    constructor() {\n        this.url = new URL(window.location.href);\n        this.title = window.document.title;\n    }\n\n    havePrefs() {\n        return havePrefs;\n    }\n\n    readPref(name: string): string | null;\n    readPref(name: string, defaultValue: string): string;\n    readPref(name: string, defaultValue: string | null = null) {\n        if (this.url.searchParams.has(name)) {\n            return this.url.searchParams.get(name);\n        }\n\n        if (havePrefs) {\n            return window.localStorage.getItem(name) ?? defaultValue;\n        }\n        return defaultValue;\n    }\n\n    writePref(name: string, value: string) {\n        if (this.url.searchParams.has(name)) {\n            this.url.searchParams.set(name, value);\n            history.replaceState(\n                null,\n                this.title,\n                this.url.toString()\n            );\n        }\n\n        if (havePrefs) {\n            window.localStorage.setItem(name, value);\n        }\n    }\n}\n","import Prefs from './prefs';\n\nexport const BOOLEAN_OPTION = 'BOOLEAN_OPTION';\nexport const SELECT_OPTION = 'SELECT_OPTION';\n\nexport interface Option {\n    name: string;\n    label: string;\n    type: string;\n    defaultVal: string | boolean;\n}\n\nexport interface BooleanOption extends Option {\n    type: typeof BOOLEAN_OPTION;\n    defaultVal: boolean;\n}\n\nexport interface SelectOption extends Option {\n    type: typeof SELECT_OPTION;\n    defaultVal: string;\n    values: Array<{name: string; value: string}>;\n}\n\nexport interface OptionSection {\n    name: string;\n    options: Option[];\n}\n\nexport interface OptionHandler {\n    getOptions: () => OptionSection[];\n    setOption: (name: string, value: string | boolean) => void;\n}\n\nexport class Options {\n    private prefs: Prefs = new Prefs();\n    private options: Record<string, Option> = {};\n    private handlers: Record<string, OptionHandler> = {};\n    private sections: OptionSection[] = [];\n\n    addOptions(handler: OptionHandler) {\n        const sections = handler.getOptions();\n        for (const section of sections) {\n            const { options } = section;\n            for (const option of options) {\n                const { name } = option;\n                this.handlers[name] = handler;\n                this.options[name] = option;\n                const value = this.getOption(name);\n                if (value != null) {\n                    handler.setOption(name, value);\n                }\n            }\n            this.sections.push(section);\n        }\n    }\n\n    getOption(name: string): string | boolean | undefined {\n        const option = this.options[name];\n        if (option) {\n            const { name, defaultVal, type } = option;\n            const stringVal = String(defaultVal);\n            const prefVal = this.prefs.readPref(name, stringVal);\n            switch (type) {\n                case BOOLEAN_OPTION:\n                    return prefVal === 'true';\n                default:\n                    return prefVal;\n            }\n        }\n    }\n\n    setOption(name: string, value: string | boolean) {\n        if (name in this.options) {\n            const handler = this.handlers[name];\n            const option = this.options[name];\n            this.prefs.writePref(name, String(value));\n            switch (option.type) {\n                case BOOLEAN_OPTION:\n                    handler.setOption(name, Boolean(value));\n                    break;\n                default:\n                    handler.setOption(name, String(value));\n            }\n        }\n    }\n\n    getOptions() {\n        return this.options;\n    }\n\n    getSections() {\n        return this.sections;\n    }\n}\n","import { createContext } from 'preact';\nimport { Options } from '../options';\n\n/**\n * Context for getting, setting and configuring options\n */\nexport const OptionsContext = createContext(new Options());\n","import { BOOLEAN_OPTION, OptionHandler } from '../options';\nimport Apple2IO from '../apple2io';\nimport { debug } from '../util';\n\n/*\n * Audio Handling\n */\n\nconst QUANTUM_SIZE = 128;\nconst SAMPLE_SIZE = 1024;\nconst SAMPLE_RATE = 44000;\n\nexport const SOUND_ENABLED_OPTION = 'enable_sound';\n\ndeclare global {\n    interface Window {\n        webkitAudioContext: AudioContext;\n    }\n}\n\nconst AudioContext = window.AudioContext || window.webkitAudioContext;\n\nexport class Audio implements OptionHandler {\n    private sound = true;\n    private samples: number[][] = [];\n\n    private audioContext;\n    private audioNode;\n    private workletNode: AudioWorkletNode;\n    private started = false;\n\n    ready: Promise<void>;\n\n    constructor(io: Apple2IO) {\n        this.audioContext = new AudioContext({\n            sampleRate: SAMPLE_RATE\n        });\n\n        if (window.AudioWorklet) {\n            const workletReady = this.audioContext.audioWorklet.addModule('./dist/audio_worker.bundle.js');\n            this.ready = workletReady\n                .then(() => {\n                    this.workletNode = new AudioWorkletNode(this.audioContext, 'audio_worker');\n\n                    io.sampleRate(this.audioContext.sampleRate, QUANTUM_SIZE);\n                    io.addSampleListener((sample) => {\n                        if (this.sound && this.audioContext.state === 'running') {\n                            this.workletNode.port.postMessage(sample);\n                        }\n                    });\n                    this.workletNode.connect(this.audioContext.destination);\n                })\n                .catch(console.error);\n        } else {\n            // TODO(flan): MDN says that createScriptProcessor is deprecated and\n            // replaced by AudioWorklet. FF and Chrome support AudioWorklet, but\n            // Safari does not (yet).\n            this.audioNode = this.audioContext.createScriptProcessor(SAMPLE_SIZE, 1, 1);\n\n            this.audioNode.onaudioprocess = (event) => {\n                const data = event.outputBuffer.getChannelData(0);\n                const sample = this.samples.shift();\n                let idx = 0;\n                let len = data.length;\n\n                if (sample) {\n                    len = Math.min(sample.length, len);\n                    for (; idx < len; idx++) {\n                        data[idx] = sample[idx];\n                    }\n                }\n\n                for (; idx < data.length; idx++) {\n                    data[idx] = 0.0;\n                }\n            };\n\n            this.audioNode.connect(this.audioContext.destination);\n            io.sampleRate(this.audioContext.sampleRate, SAMPLE_SIZE);\n            io.addSampleListener((sample) => {\n                if (this.sound && this.audioContext.state === 'running') {\n                    if (this.samples.length < 5) {\n                        this.samples.push(sample);\n                    }\n                }\n            });\n            this.ready = Promise.resolve();\n        }\n\n        window.addEventListener('keydown', this.autoStart);\n        if (window.ontouchstart !== undefined) {\n            window.addEventListener('touchstart', this.autoStart);\n        }\n        window.addEventListener('mousedown', this.autoStart);\n\n        debug('Sound initialized');\n    }\n\n    autoStart = () => {\n        if (this.audioContext && !this.started) {\n            this.samples = [];\n            this.audioContext.resume().then(() => {\n                this.started = true;\n            }).catch((error) => {\n                console.warn('audio not started', error);\n            });\n        }\n    };\n\n    start = () => {\n        if (this.audioContext) {\n            this.samples = [];\n            this.audioContext.resume().catch((error) => {\n                console.warn('audio not resumed', error);\n            });\n        }\n    };\n\n    isEnabled = () => {\n        return this.sound;\n    };\n\n    getOptions() {\n        return [\n            {\n                name: 'Audio',\n                options: [\n                    {\n                        name: SOUND_ENABLED_OPTION,\n                        label: 'Enabled',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: true,\n                    }\n                ]\n            }\n        ];\n    }\n\n    setOption = (name: string, value: boolean) => {\n        switch (name) {\n            case SOUND_ENABLED_OPTION:\n                this.sound = value;\n        }\n    };\n}\n","import { h } from 'preact';\nimport { useCallback, useContext, useEffect, useState } from 'preact/hooks';\nimport { ControlButton } from './ControlButton';\nimport { OptionsContext } from './OptionsContext';\nimport { Audio, SOUND_ENABLED_OPTION } from '../ui/audio';\nimport { Apple2 as Apple2Impl } from '../apple2';\n\n/**\n * AudioControl component properties.\n */\nexport interface AudioControlProps {\n    apple2: Apple2Impl | undefined;\n}\n\n/**\n * Control that instantiates the Audio object and provides\n * a control to mute and unmute audio.\n *\n * @param apple2 The Apple2 object\n * @returns AudioControl component\n */\nexport const AudioControl = ({ apple2 }: AudioControlProps) => {\n    const [audioEnabled, setAudioEnabled] = useState(false);\n    const [audio, setAudio] = useState<Audio>();\n    const options = useContext(OptionsContext);\n\n    useEffect(() => {\n        if (apple2) {\n            const io = apple2.getIO();\n            const audio = new Audio(io);\n            options.addOptions(audio);\n            setAudio(audio);\n            setAudioEnabled(audio.isEnabled());\n        }\n    }, [apple2, options]);\n\n    const doToggleSound = useCallback(() => {\n        const on = !audio?.isEnabled();\n        options.setOption(SOUND_ENABLED_OPTION, on);\n        setAudioEnabled(on);\n    }, [audio, options]);\n\n    return (\n        <ControlButton\n            onClick={doToggleSound}\n            title=\"Toggle Sound\"\n            disabled={!audio}\n            icon={audioEnabled ? 'volume-up' : 'volume-off'}\n        />\n    );\n};\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as f,useDebugValue as c}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as d,Fragment as v,render as p,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function C(n,t){for(var e in t)n[e]=t[e];return n}function S(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:S(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return S(this.props,n)||S(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function x(n){function t(t){var e=C({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:d(d(n).map(t))},k={map:N,forEach:N,count:function(n){return n?d(n).length:0},only:function(n){var t=d(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:d},A=h.__e;h.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);A(n,t,e,r)};var O=h.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function F(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function M(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(L.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},f=!0===t.__h;r.__u++||f||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=C({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__e&&s(v,null,n.fallback);return u&&(u.__h=null),[s(v,null,t.__e?null:n.children),u]};var T=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function D(n){return this.getChildContext=function(){return n.context},n.children}function I(n){var t=this,e=n.i;t.componentWillUnmount=function(){p(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),p(s(D,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function W(n,t){return s(I,{__v:n,i:t})}(M.prototype=new a).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),T(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=d(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){T(n,e,t)})};var P=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,V=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,j=\"undefined\"!=typeof document,z=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function B(n,t,e){return null==t.__k&&(t.textContent=\"\"),p(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function $(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var H=h.event;function Z(){}function Y(){return this.cancelBubble}function q(){return this.defaultPrevented}h.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=q,n.nativeEvent=n};var G,J={configurable:!0,get:function(){return this.class}},K=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){var u=-1===t.indexOf(\"-\");for(var o in r={},e){var i=e[o];j&&\"children\"===o&&\"noscript\"===t||\"value\"===o&&\"defaultValue\"in e&&null==i||(\"defaultValue\"===o&&\"value\"in e&&null==e.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":/ondoubleclick/i.test(o)?o=\"ondblclick\":/^onchange(textarea|input)/i.test(o+t)&&!z(e.type)?o=\"oninput\":/^onfocus$/i.test(o)?o=\"onfocusin\":/^onblur$/i.test(o)?o=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():u&&V.test(o)?o=o.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===i&&(i=void 0),r[o]=i)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=d(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=d(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r,e.class!=e.className&&(J.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",J))}n.$$typeof=P,K&&K(n)};var Q=h.__r;h.__r=function(n){Q&&Q(n),G=n.__c};var X={ReactCurrentDispatcher:{current:{readContext:function(n){return G.__n[n.__c].props.value}}}},nn=\"17.0.2\";function tn(n){return s.bind(null,n)}function en(n){return!!n&&n.$$typeof===P}function rn(n){return en(n)?y.apply(null,arguments):n}function un(n){return!!n.__k&&(p(null,n),!0)}function on(n){return n&&(n.base||1===n.nodeType&&n)||null}var ln=function(n,t){return n(t)},fn=function(n,t){return n(t)},cn=v;export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:f,useDebugValue:c,version:\"17.0.2\",Children:k,render:B,hydrate:$,unmountComponentAtNode:un,createPortal:W,createElement:s,createContext:_,createFactory:tn,cloneElement:rn,createRef:b,Fragment:v,isValidElement:en,findDOMNode:on,Component:a,PureComponent:E,memo:g,forwardRef:x,flushSync:fn,unstable_batchedUpdates:ln,StrictMode:v,Suspense:L,SuspenseList:M,lazy:F,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:X};export{nn as version,k as Children,B as render,$ as hydrate,un as unmountComponentAtNode,W as createPortal,tn as createFactory,rn as cloneElement,en as isValidElement,on as findDOMNode,E as PureComponent,g as memo,x as forwardRef,fn as flushSync,ln as unstable_batchedUpdates,cn as StrictMode,L as Suspense,M as SuspenseList,F as lazy,X as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED};\n//# sourceMappingURL=compat.module.js.map\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Modal.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Modal.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Components.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Components.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h, ComponentChildren } from 'preact';\nimport cs from 'classnames';\nimport { createPortal } from 'preact/compat';\nimport { useCallback } from 'preact/hooks';\nimport { useHotKey } from './hooks/useHotKey';\n\nimport styles from './css/Modal.module.scss';\nimport componentStyles from './css/Components.module.scss';\nimport { ControlButton } from './ControlButton';\n\n/**\n * ModalOverlay creates a semi-transparent overlay in which the\n * modal is centered.\n *\n * @returns ModalOverlay component\n */\nexport const ModalOverlay = ({ children }: { children: ComponentChildren }) => {\n    return (\n        <div className={styles.modalOverlay}>\n            {children}\n        </div>\n    );\n};\n\n/**\n * ModalContent provides a styled container for modal content\n *\n * @returns ModalContent component\n */\nexport const ModalContent = ({ children }: { children: ComponentChildren }) => {\n    return (\n        <div className={styles.modalContent}>\n            {children}\n        </div>\n    );\n};\n\n/**\n * ModalFooter provides a right-aligned container for modal buttons.\n *\n * @returns ModalFooter component\n */\nexport const ModalFooter = ({ children }: { children: ComponentChildren }) => {\n    return (\n        <div role=\"contentinfo\" className={styles.modalFooter}>\n            {children}\n        </div>\n    );\n};\n\n/**\n * ModalCloseButton component properties\n */\ninterface ModalCloseButtonProp {\n    onClose: (closeBox?: boolean) => void;\n}\n\n/**\n * Renders a close button and registers a global Escape key\n * hook to trigger it.\n *\n * @param onClose Close callback\n * @returns ModalClose component\n */\nexport const ModalCloseButton = ({ onClose }: ModalCloseButtonProp) => {\n    const doClose = useCallback(() => onClose(true), [onClose]);\n    useHotKey('Escape', doClose);\n\n    return (\n        <ControlButton onClick={doClose} title=\"Close\" icon=\"xmark\" />\n    );\n};\n\ntype OnCloseCallback = (closeBox?: boolean) => void;\n\n/**\n * ModalHeader component properties\n */\n\nexport interface ModalHeaderProps {\n    onClose?: OnCloseCallback;\n    title: string;\n    icon?: string;\n}\n\n/**\n * Header used internally for Modal component\n *\n * @param onClose Close callback\n * @param title Modal title\n * @returns ModalHeader component\n */\nexport const ModalHeader = ({ onClose, title, icon }: ModalHeaderProps) => {\n    return (\n        <div role=\"banner\" className={styles.modalHeader}>\n            <span className={styles.modalTitle}>\n                {icon && <i className={`fa-solid fa-${icon}`} role=\"img\" />}\n                {' '}\n                {title}\n            </span>\n            {onClose && <ModalCloseButton onClose={onClose} />}\n        </div>\n    );\n};\n\n/**\n * Modal component properties\n */\nexport interface ModalProps {\n    onClose?: (closeBox?: boolean) => void;\n    isOpen: boolean;\n    title: string;\n    children: ComponentChildren;\n    icon?: string;\n}\n\n/**\n * Very simple modal component, provides a transparent overlay, title bar\n * with optional close box if onClose is provided. ModalContent and\n * ModalFooter components are provided for convenience but not required.\n *\n * @param isOpen true to show modal\n * @param title Modal title\n * @param onClose Close callback\n * @returns Modal component\n */\nexport const Modal = ({\n    isOpen,\n    children,\n    title,\n    ...props\n}: ModalProps) => {\n    return (\n        isOpen ? createPortal((\n            <ModalOverlay>\n                <div className={cs(styles.modal, componentStyles.components)} role=\"dialog\">\n                    {title && <ModalHeader title={title} {...props} />}\n                    {children}\n                </div>\n            </ModalOverlay>\n        ), document.body) : null\n    );\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./OptionsModal.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./OptionsModal.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h, Fragment, JSX } from 'preact';\nimport { useCallback, useContext } from 'preact/hooks';\nimport { Modal, ModalContent, ModalFooter } from './Modal';\nimport { OptionsContext } from './OptionsContext';\nimport {\n    BOOLEAN_OPTION,\n    SELECT_OPTION,\n    BooleanOption,\n    Option,\n    OptionSection,\n    SelectOption,\n} from '../options';\n\nimport styles from './css/OptionsModal.module.scss';\n\n/**\n * Boolean property interface\n */\ninterface BooleanProps {\n    option: BooleanOption;\n    value: boolean;\n    setValue: (name: string, value: boolean) => void;\n}\n\n/**\n *\n * @param option Boolean option\n * @param value Current value\n * @param setValue Value setter\n * @returns Boolean component\n */\nconst Boolean = ({ option, value, setValue }: BooleanProps) => {\n    const { label, name } = option;\n    const onChange = useCallback(\n        (event: JSX.TargetedMouseEvent<HTMLInputElement>) =>\n            setValue(name, event.currentTarget.checked)\n        , [name, setValue]\n    );\n\n    return (\n        <li>\n            <input\n                type=\"checkbox\"\n                checked={value}\n                onChange={onChange}\n            />\n            <label>{label}</label>\n        </li>\n    );\n};\n\n/**\n * Select property interface\n */\ninterface SelectProps {\n    option: SelectOption;\n    value: string;\n    setValue: (name: string, value: string) => void;\n}\n\n/**\n * Select component that provides a dropdown to choose between\n * options.\n *\n * @param option Select option\n * @param value Current value\n * @param setValue Value setter\n * @returns Select component\n */\nconst Select = ({ option, value, setValue }: SelectProps) => {\n    const { label, name } = option;\n    const onChange = useCallback(\n        (event: JSX.TargetedMouseEvent<HTMLSelectElement>) => {\n            setValue(name, event.currentTarget.value);\n        },\n        [name, setValue]\n    );\n\n    const makeOption = (option: { name: string; value: string }) => (\n        <option selected={option.value === value} value={option.value}>\n            {option.name}\n        </option>\n    );\n\n    return (\n        <li>\n            <select onChange={onChange}>\n                {option.values.map(makeOption)}\n            </select>\n            <label>{label}</label>\n        </li>\n    );\n};\n\n/**\n * OptionsModal properties\n */\nexport interface OptionsModalProps {\n    isOpen: boolean;\n    onClose: (closeBox?: boolean) => void;\n}\n\n/**\n * Modal to allow editing of various component provided\n * options, like screen and cpu type\n *\n * @param Modal params\n * @returns OptionsModal component\n */\nexport const OptionsModal = ({ isOpen, onClose }: OptionsModalProps) => {\n    const options = useContext(OptionsContext);\n    const sections = options.getSections();\n    const setValue = useCallback((name: string, value: string | boolean) => {\n        options.setOption(name, value);\n    }, [options]);\n\n    const makeOption = (option: Option) => {\n        const { name, type } = option;\n        const value = options.getOption(name);\n        switch (type) {\n            case BOOLEAN_OPTION:\n                return (\n                    <Boolean\n                        option={option as BooleanOption}\n                        value={value as boolean}\n                        setValue={setValue}\n                    />\n                );\n            case SELECT_OPTION:\n                return (\n                    <Select\n                        option={option as SelectOption}\n                        value={value as string}\n                        setValue={setValue}\n                    />\n                );\n            default:\n                break;\n        }\n    };\n\n    const makeSection = (section: OptionSection) => {\n        return (\n            <>\n                <h3>{section.name}</h3>\n                <ul>\n                    {section.options.map(makeOption)}\n                </ul>\n            </>\n        );\n    };\n\n    const doClose = useCallback(() => onClose(), [onClose]);\n\n    return (\n        <Modal title=\"Options\" isOpen={isOpen} onClose={onClose}>\n            <ModalContent>\n                <div className={styles.optionsModal}>\n                    {sections.map(makeSection)}\n                </div>\n                <i>* Reload page to take effect</i>\n            </ModalContent>\n            <ModalFooter>\n                <button onClick={doClose}>Close</button>\n            </ModalFooter>\n        </Modal>\n    );\n};\n","import { ReadonlyUint8Array } from '../../types';\n\nexport const rom = new Uint8Array([\n    0x18,0xb0,0x38,0x48,0x8a,0x48,0x98,0x48,\n    0x08,0x78,0x20,0x58,0xff,0xba,0x68,0x68,\n    0x68,0x68,0xa8,0xca,0x9a,0x68,0x28,0xaa,\n    0x90,0x38,0xbd,0xb8,0x05,0x10,0x19,0x98,\n    0x29,0x7f,0x49,0x30,0xc9,0x0a,0x90,0x3b,\n    0xc9,0x78,0xb0,0x29,0x49,0x3d,0xf0,0x21,\n    0x98,0x29,0x9f,0x9d,0x38,0x06,0x90,0x7e,\n    0xbd,0xb8,0x06,0x30,0x14,0xa5,0x24,0xdd,\n    0x38,0x07,0xb0,0x0d,0xc9,0x11,0xb0,0x09,\n    0x09,0xf0,0x3d,0x38,0x07,0x65,0x24,0x85,\n    0x24,0x4a,0x38,0xb0,0x6d,0x18,0x6a,0x3d,\n    0xb8,0x06,0x90,0x02,0x49,0x81,0x9d,0xb8,\n    0x06,0xd0,0x53,0xa0,0x0a,0x7d,0x38,0x05,\n    0x88,0xd0,0xfa,0x9d,0xb8,0x04,0x9d,0x38,\n    0x05,0x38,0xb0,0x43,0xc5,0x24,0x90,0x3a,\n    0x68,0xa8,0x68,0xaa,0x68,0x4c,0xf0,0xfd,\n    0x90,0xfe,0xb0,0xfe,0x99,0x80,0xc0,0x90,\n    0x37,0x49,0x07,0xa8,0x49,0x0a,0x0a,0xd0,\n    0x06,0xb8,0x85,0x24,0x9d,0x38,0x07,0xbd,\n    0xb8,0x06,0x4a,0x70,0x02,0xb0,0x23,0x0a,\n    0x0a,0xa9,0x27,0xb0,0xcf,0xbd,0x38,0x07,\n    0xfd,0xb8,0x04,0xc9,0xf8,0x90,0x03,0x69,\n    0x27,0xac,0xa9,0x00,0x85,0x24,0x18,0x7e,\n    0xb8,0x05,0x68,0xa8,0x68,0xaa,0x68,0x60,\n    0x90,0x27,0xb0,0x00,0x10,0x11,0xa9,0x89,\n    0x9d,0x38,0x06,0x9d,0xb8,0x06,0xa9,0x28,\n    0x9d,0xb8,0x04,0xa9,0x02,0x85,0x36,0x98,\n    0x5d,0x38,0x06,0x0a,0xf0,0x90,0x5e,0xb8,\n    0x05,0x98,0x48,0x8a,0x0a,0x0a,0x0a,0x0a,\n    0xa8,0xbd,0x38,0x07,0xc5,0x24,0x68,0xb0,\n    0x05,0x48,0x29,0x80,0x09,0x20,0x2c,0x58,\n    0xff,0xf0,0x03,0xfe,0x38,0x07,0x70,0x84\n]) as ReadonlyUint8Array;\n","import { debug } from '../util';\nimport { Card, Restorable, byte } from '../types';\nimport { rom } from '../roms/cards/parallel';\n\nconst LOC = {\n    IOREG: 0x80\n} as const;\n\nexport interface ParallelState {}\nexport interface ParallelOptions {\n    putChar: (val: byte) => void;\n}\n\nexport default class Parallel implements Card, Restorable<ParallelState> {\n    constructor(private cbs: ParallelOptions) {\n        debug('Parallel card');\n    }\n\n    private access(off: byte, val?: byte) {\n        switch (off & 0x8f) {\n            case LOC.IOREG:\n                if (this.cbs.putChar && val) {\n                    this.cbs.putChar(val);\n                }\n                break;\n            default:\n                debug('Parallel card unknown softswitch', off);\n        }\n        return 0;\n    }\n\n    ioSwitch(off: byte, val?: byte) {\n        return this.access(off, val);\n    }\n\n    read(_page: byte, off: byte) {\n        return rom[off];\n    }\n\n    write() {\n        // not writable\n    }\n\n    getState() {\n        return {};\n    }\n\n    setState(_state: ParallelState) {\n        // can't set the state\n    }\n}\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Printer.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Printer.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h, Fragment } from 'preact';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport Apple2IO, { slot } from 'js/apple2io';\nimport Parallel, { ParallelOptions } from 'js/cards/parallel';\nimport { Modal, ModalContent, ModalFooter } from './Modal';\n\nimport styles from './css/Printer.module.scss';\nimport { ControlButton } from './ControlButton';\nimport { byte } from 'js/types';\n\nexport interface PrinterProps {\n    io: Apple2IO | undefined;\n    slot: slot;\n}\n\nexport const Printer = ({ io, slot }: PrinterProps) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [content, setContent] = useState('');\n    const raw = useRef(new Uint8Array(1024));\n    const rawLength = useRef(0);\n    const [href, setHref] = useState('');\n\n    const cbs = useMemo<ParallelOptions>(() => ({\n        putChar: (val: byte) => {\n            const ascii = val & 0x7f;\n            const visible = val >= 0x20;\n            const char = String.fromCharCode(ascii);\n\n            if (char === '\\r') {\n                // Skip for once\n            } else if (char === '\\t') {\n                // possibly not right due to tab stops\n                setContent((content) => content += '        ');\n            } else if (ascii === 0x04) {\n                setContent((content) => content = content.slice(0, -1));\n                return;\n            } else if (visible) {\n                setContent((content) => content += char);\n            }\n\n            raw.current[rawLength.current++] = val;\n            if (rawLength.current > raw.current.length) {\n                const newRaw = new Uint8Array(raw.current.length * 2);\n                newRaw.set(raw.current);\n                raw.current = newRaw;\n            }\n        }\n    }), [rawLength]);\n\n    useEffect(() => {\n        if (io) {\n            const parallel = new Parallel(cbs);\n            io.setSlot(slot, parallel);\n        }\n    }, [cbs, io, slot]);\n\n    useEffect(() => {\n        if (isOpen) {\n            const blob = new Blob(\n                [raw.current.slice(0, rawLength.current)],\n                { type: 'application/octet-stream' }\n            );\n            const href = window.URL.createObjectURL(blob);\n            setHref(href);\n        }\n    }, [isOpen]);\n\n    const onClear = useCallback(() => {\n        setContent('');\n        rawLength.current = 0;\n    }, []);\n    const onClose = useCallback(() => {\n        setIsOpen(false);\n    }, []);\n    const onOpen = useCallback(() => {\n        setIsOpen(true);\n    }, []);\n\n    return (\n        <>\n            <Modal isOpen={isOpen} onClose={onClose} title=\"Printer\">\n                <ModalContent>\n                    <pre className={styles.printer} tabIndex={-1} >\n                        {content}\n                    </pre>\n                </ModalContent>\n                <ModalFooter>\n                    <a\n                        download=\"raw_printer_output.bin\"\n                        href={href}\n                        role=\"button\"\n                    >\n                        Download Raw\n                    </a>\n                    <button onClick={onClear}>Clear</button>\n                    <button onClick={onClose}>OK</button>\n                </ModalFooter>\n            </Modal>\n            <ControlButton\n                icon=\"print\"\n                title=\"Printer\"\n                onClick={onOpen}\n                active={content.length > 0}\n            />\n        </>\n    );\n};\n","import Apple2IO from '../apple2io';\nimport { BOOLEAN_OPTION, OptionHandler } from '../options';\n\nconst JOYSTICK_DISABLE = 'disable_mouse';\nconst JOYSTICK_FLIP_X_AXIS = 'flip_x';\nconst JOYSTICK_FLIP_Y_AXIS = 'flip_y';\nconst JOYSTICK_SWAP_AXIS = 'swap_x_y';\n\nlet mouseMode = false;\n\nexport function enableMouseMode(on: boolean) {\n    mouseMode = on;\n}\n\nexport class JoyStick implements OptionHandler {\n    private disableMouseJoystick = false;\n    private flipX = false;\n    private flipY = false;\n    private swapXY = false;\n    private gamepad = false;\n\n    constructor(private io: Apple2IO) {\n        document.addEventListener('mousemove', this.mousemove);\n        document.querySelectorAll('canvas').forEach((canvas) => {\n            canvas.addEventListener('mousedown', (evt) => {\n                if (!this.gamepad && !mouseMode) {\n                    io.buttonDown(evt.which === 1 ? 0 : 1);\n                }\n                evt.preventDefault();\n            });\n            canvas.addEventListener('mouseup', (evt) => {\n                if (!this.gamepad && !mouseMode) {\n                    io.buttonUp(evt.which === 1 ? 0 : 1);\n                }\n            });\n            canvas.addEventListener('contextmenu', (evt) => {\n                evt.preventDefault();\n            });\n        });\n        window.addEventListener('gamepadconnected', (e: GamepadEvent) => {\n            this.gamepad = !!e.gamepad;\n        });\n    }\n\n    getOptions() {\n        return [\n            {\n                name: 'Joystick',\n                options: [\n                    {\n                        name: JOYSTICK_DISABLE,\n                        label: 'Disable Mouse Joystick',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                    {\n                        name: JOYSTICK_FLIP_X_AXIS,\n                        label: 'Flip X-Axis',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                    {\n                        name: JOYSTICK_FLIP_Y_AXIS,\n                        label: 'Flip Y-Axis',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                    {\n                        name: JOYSTICK_SWAP_AXIS,\n                        label: 'Swap Axis',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                ],\n            },\n        ];\n    }\n\n    setOption(name: string, value: boolean) {\n        switch (name) {\n            case JOYSTICK_DISABLE:\n                this.io.paddle(0, 0.5);\n                this.io.paddle(1, 0.5);\n                this.disableMouseJoystick = value;\n                break;\n            case JOYSTICK_FLIP_X_AXIS:\n            case JOYSTICK_FLIP_Y_AXIS:\n            case JOYSTICK_SWAP_AXIS:\n        }\n    }\n\n    private mousemove = (evt: MouseEvent) => {\n        if (this.gamepad || this.disableMouseJoystick || mouseMode) {\n            return;\n        }\n\n        const s = document.querySelector<HTMLDivElement>('canvas')!;\n        const offset = s.getBoundingClientRect();\n        let x = (evt.pageX - offset.left) / s.clientWidth;\n        let y = (evt.pageY - offset.top) / s.clientHeight;\n        const z = x;\n\n        if (this.swapXY) {\n            x = y;\n            y = z;\n        }\n\n        this.io.paddle(0, this.flipX ? 1 - x : x);\n        this.io.paddle(1, this.flipY ? 1 - y : y);\n    };\n}\n","import { VideoModes } from '../videomodes';\nimport { BOOLEAN_OPTION, OptionHandler } from '../options';\n\nexport const SCREEN_MONO = 'mono_screen';\nexport const SCREEN_FULL_PAGE = 'full_page';\nexport const SCREEN_SCANLINE = 'show_scanlines';\nexport const SCREEN_GL = 'gl_canvas';\n\ndeclare global {\n    interface Document {\n        webkitCancelFullScreen: () => void;\n        webkitIsFullScreen: boolean;\n    }\n    interface Element {\n        webkitRequestFullScreen: (options?: unknown) => void;\n    }\n}\nexport class Screen implements OptionHandler {\n    constructor(private vm: VideoModes) {}\n\n    enterFullScreen = () => {\n        const elem = document.getElementById('screen')!;\n        if (document.fullscreenEnabled) {\n            if (document.fullscreenElement) {\n                void document.exitFullscreen();\n            } else {\n                void elem.requestFullscreen();\n            }\n        } else if (elem.webkitRequestFullScreen) {\n            if (document.webkitIsFullScreen) {\n                document.webkitCancelFullScreen();\n            } else {\n                elem.webkitRequestFullScreen();\n            }\n        }\n    };\n\n    getOptions() {\n        return [\n            {\n                name: 'Screen',\n                options: [\n                    {\n                        name: SCREEN_MONO,\n                        label: 'Mono Screen',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                    {\n                        name: SCREEN_SCANLINE,\n                        label: 'Show Scanlines',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                    {\n                        name: SCREEN_FULL_PAGE,\n                        label: 'Full Page',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                    {\n                        name: SCREEN_GL,\n                        label: 'GL Renderer *',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: true,\n                    },\n                ]\n            }\n        ];\n    }\n\n    setOption(name: string, value: boolean) {\n        switch (name) {\n            case SCREEN_MONO:\n                this.vm.mono(value);\n                break;\n            case SCREEN_FULL_PAGE:\n                this.setFullPage(value);\n                break;\n            case SCREEN_SCANLINE:\n                this.vm.scanlines(value);\n                break;\n        }\n    }\n\n    private setFullPage(on: boolean) {\n        if (on) {\n            document.body.classList.add('full-page');\n        } else {\n            document.body.classList.remove('full-page');\n        }\n    }\n}\n","import { BOOLEAN_OPTION, SELECT_OPTION, OptionHandler } from '../options';\nimport Apple2IO from '../apple2io';\n\nexport const SYSTEM_TYPE_APPLE2E = 'computer_type2e';\nexport const SYSTEM_TYPE_APPLE2 = 'computer_type2';\nexport const SYSTEM_CPU_ACCELERATED = 'accelerator_toggle';\n\nexport class System implements OptionHandler {\n    constructor(private io: Apple2IO, private e: boolean) {}\n\n    getOptions() {\n        return [\n            {\n                name: 'Type',\n                options: this.e ? [\n                    {\n                        name: SYSTEM_TYPE_APPLE2E,\n                        label: ' *',\n                        type: SELECT_OPTION,\n                        defaultVal: 'apple2enh',\n                        values: [\n                            {\n                                value: 'apple2enh',\n                                name: 'Enhanced Apple //e'\n                            },\n                            {\n                                value: 'apple2e',\n                                name: 'Apple //e'\n                            },\n                            {\n                                value: 'apple2rm',\n                                name: 'Enhanced Apple //e (Reactive Micro)'\n                            },\n                            {\n                                value: 'apple2ex',\n                                name: 'Apple //e Extended Debugging'\n                            },\n                        ]\n                    }\n                ] : [\n                    {\n                        name: SYSTEM_TYPE_APPLE2,\n                        label: ' *',\n                        type: SELECT_OPTION,\n                        defaultVal: 'apple2plus',\n                        values: [\n                            {\n                                value: 'apple2plus',\n                                name: 'Apple ][+'\n                            },\n                            {\n                                value: 'apple2',\n                                name: 'Autostart Apple ]['\n                            },\n                            {\n                                value: 'apple213',\n                                name: '13 Sector Apple ]['\n                            },\n                            {\n                                value: 'original',\n                                name: 'Apple ]['\n                            },\n                            {\n                                value: 'apple2j',\n                                name: 'Apple ][j+'\n                            },\n                            {\n                                value: 'apple2lc',\n                                name: 'Apple ][+ (lowercase font)'\n                            },\n                            {\n                                value: 'apple2pig',\n                                name: 'Apple ][+ (pig font)'\n                            },\n                        ]\n                    },\n                ]\n            }, {\n                name: 'CPU',\n                options: [\n                    {\n                        name: SYSTEM_CPU_ACCELERATED,\n                        label: 'Accelerated',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                ]\n            }\n        ];\n    }\n\n    setOption(name: string, value: boolean ) {\n        switch (name) {\n            case SYSTEM_CPU_ACCELERATED:\n                {\n                    const kHz = value ? 4092 : 1023;\n                    this.io.updateKHz(kHz);\n                }\n                break;\n        }\n    }\n}\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./ControlStrip.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./ControlStrip.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h } from 'preact';\nimport { useCallback, useContext, useEffect, useState } from 'preact/hooks';\nimport { CPUMeter } from './CPUMeter';\nimport { Inset } from './Inset';\nimport { useHotKey } from './hooks/useHotKey';\nimport { AudioControl } from './AudioControl';\nimport { OptionsModal } from './OptionsModal';\nimport { OptionsContext } from './OptionsContext';\nimport { Printer } from './Printer';\nimport { ControlButton } from './ControlButton';\nimport { Apple2 as Apple2Impl } from '../apple2';\nimport { JoyStick } from '../ui/joystick';\nimport { Screen, SCREEN_FULL_PAGE } from '../ui/screen';\nimport { System } from '../ui/system';\n\nimport styles from './css/ControlStrip.module.scss';\nimport Apple2IO from 'js/apple2io';\n\nconst README = 'https://github.com/whscullin/apple2js#readme';\n\ninterface ControlStripProps {\n    apple2: Apple2Impl | undefined;\n    e: boolean;\n    toggleDebugger: () => void;\n}\n\n/**\n * Strip containing containing controls for various system\n * characteristics, like CPU speed, audio, and the system\n * options panel.\n *\n * @param apple2 Apple2 object\n * @param e Whether or not this is a //e\n * @returns ControlStrip component\n */\nexport const ControlStrip = ({ apple2, e, toggleDebugger }: ControlStripProps) => {\n    const [showOptions, setShowOptions] = useState(false);\n    const [io, setIO] = useState<Apple2IO>();\n    const options = useContext(OptionsContext);\n\n    useEffect(() => {\n        if (apple2) {\n            const io = apple2.getIO();\n            const vm = apple2.getVideoModes();\n            setIO(io);\n\n            const system = new System(io, e);\n            options.addOptions(system);\n\n            const joystick = new JoyStick(io);\n            options.addOptions(joystick);\n\n            const screen = new Screen(vm);\n            options.addOptions(screen);\n        }\n    }, [apple2, e, options]);\n\n    const doReset = useCallback(() =>\n        apple2?.reset(), [apple2]);\n\n    const doReadme = useCallback(() =>\n        window.open(README, '_blank'), []);\n\n    const doShowOptions = useCallback(() =>\n        setShowOptions(true), []);\n\n    const doCloseOptions = useCallback(() =>\n        setShowOptions(false), []);\n\n    const doToggleFullPage = useCallback(() =>\n        options.setOption(\n            SCREEN_FULL_PAGE,\n            !options.getOption(SCREEN_FULL_PAGE)\n        ), [options]);\n\n    useHotKey('F2', doToggleFullPage);\n    useHotKey('F4', doShowOptions);\n    useHotKey('F12', doReset);\n\n    return (\n        <div className={styles.resetRow}>\n            <OptionsModal isOpen={showOptions} onClose={doCloseOptions} />\n            <Inset>\n                <CPUMeter apple2={apple2} />\n                <ControlButton onClick={toggleDebugger} title=\"Toggle Debugger\" icon=\"bug\" />\n                <AudioControl apple2={apple2} />\n                <Printer io={io} slot={1} />\n                <div style={{ flexGrow: 1 }} />\n                <ControlButton onClick={doReadme} title=\"About\" icon=\"info\" />\n                <ControlButton onClick={doShowOptions} title=\"Options (F4)\" icon=\"cog\" />\n            </Inset>\n            {e && (\n                <div className={styles.reset} onClick={doReset}>\n                    Reset\n                </div>\n            )}\n        </div>\n    );\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Tabs.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Tabs.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { ComponentChild, ComponentChildren, h } from 'preact';\nimport { useCallback, useState } from 'preact/hooks';\nimport cs from 'classnames';\n\nimport styles from './css/Tabs.module.scss';\n\nexport interface TabProps {\n    children: ComponentChildren;\n}\n\nexport const Tab = ({ children }: TabProps) => {\n    return (\n        <div>\n            {children}\n        </div>\n    );\n};\n\ninterface TabWrapperProps {\n    children: ComponentChild;\n    onClick: () => void;\n    selected: boolean;\n}\n\nconst TabWrapper = ({ children, onClick, selected }: TabWrapperProps) => {\n    return (\n        <div onClick={onClick} className={cs(styles.tab, { [styles.selected]: selected })}>\n            {children}\n        </div>\n    );\n};\n\nexport interface TabsProps {\n    children: ComponentChildren;\n    setSelected: (selected: number) => void;\n}\n\nexport const Tabs = ({ children, setSelected }: TabsProps) => {\n    const [innerSelected, setInnerSelected] = useState(0);\n\n    const innerSetSelected = useCallback((idx: number) => {\n        setSelected(idx);\n        setInnerSelected(idx);\n    }, [setSelected]);\n\n    if (!Array.isArray(children)) {\n        return null;\n    }\n\n    return (\n        <div className={styles.tabs}>\n            {children.map((child, idx) =>\n                <TabWrapper\n                    key={idx}\n                    onClick={() => innerSetSelected(idx)}\n                    selected={idx === innerSelected}\n                >\n                    {child}\n                </TabWrapper>\n            )}\n        </div>\n    );\n};\n","import { byte } from 'js/types';\n\n/** Map from token to keyword */\nexport const TOKEN_TO_STRING: Record<byte, string> = {\n    0x80: 'END',\n    0x81: 'FOR',\n    0x82: 'NEXT',\n    0x83: 'DATA',\n    0x84: 'INPUT',\n    0x85: 'DEL',\n    0x86: 'DIM',\n    0x87: 'READ',\n    0x88: 'GR',\n    0x89: 'TEXT',\n    0x8a: 'PR#',\n    0x8b: 'IN#',\n    0x8c: 'CALL',\n    0x8d: 'PLOT',\n    0x8e: 'HLIN',\n    0x8f: 'VLIN',\n    0x90: 'HGR2',\n    0x91: 'HGR',\n    0x92: 'HCOLOR=',\n    0x93: 'HPLOT',\n    0x94: 'DRAW',\n    0x95: 'XDRAW',\n    0x96: 'HTAB',\n    0x97: 'HOME',\n    0x98: 'ROT=',\n    0x99: 'SCALE=',\n    0x9a: 'SHLOAD',\n    0x9b: 'TRACE',\n    0x9c: 'NOTRACE',\n    0x9d: 'NORMAL',\n    0x9e: 'INVERSE',\n    0x9f: 'FLASH',\n    0xa0: 'COLOR=',\n    0xa1: 'POP=',\n    0xa2: 'VTAB',\n    0xa3: 'HIMEM:',\n    0xa4: 'LOMEM:',\n    0xa5: 'ONERR',\n    0xa6: 'RESUME',\n    0xa7: 'RECALL',\n    0xa8: 'STORE',\n    0xa9: 'SPEED=',\n    0xaa: 'LET',\n    0xab: 'GOTO',\n    0xac: 'RUN',\n    0xad: 'IF',\n    0xae: 'RESTORE',\n    0xaf: '&',\n    0xb0: 'GOSUB',\n    0xb1: 'RETURN',\n    0xb2: 'REM',\n    0xb3: 'STOP',\n    0xb4: 'ON',\n    0xb5: 'WAIT',\n    0xb6: 'LOAD',\n    0xb7: 'SAVE',\n    0xb8: 'DEF',\n    0xb9: 'POKE',\n    0xba: 'PRINT',\n    0xbb: 'CONT',\n    0xbc: 'LIST',\n    0xbd: 'CLEAR',\n    0xbe: 'GET',\n    0xbf: 'NEW',\n    0xc0: 'TAB(',\n    0xc1: 'TO',\n    0xc2: 'FN',\n    0xc3: 'SPC(',\n    0xc4: 'THEN',\n    0xc5: 'AT',\n    0xc6: 'NOT',\n    0xc7: 'STEP',\n    0xc8: '+',\n    0xc9: '-',\n    0xca: '*',\n    0xcb: '/',\n    0xcc: '^',\n    0xcd: 'AND',\n    0xce: 'OR',\n    0xcf: '>',\n    0xd0: '=',\n    0xd1: '<',\n    0xd2: 'SGN',\n    0xd3: 'INT',\n    0xd4: 'ABS',\n    0xd5: 'USR',\n    0xd6: 'FRE',\n    0xd7: 'SCRN(',\n    0xd8: 'PDL',\n    0xd9: 'POS',\n    0xda: 'SQR',\n    0xdb: 'RND',\n    0xdc: 'LOG',\n    0xdd: 'EXP',\n    0xde: 'COS',\n    0xdf: 'SIN',\n    0xe0: 'TAN',\n    0xe1: 'ATN',\n    0xe2: 'PEEK',\n    0xe3: 'LEN',\n    0xe4: 'STR$',\n    0xe5: 'VAL',\n    0xe6: 'ASC',\n    0xe7: 'CHR$',\n    0xe8: 'LEFT$',\n    0xe9: 'RIGHT$',\n    0xea: 'MID$'\n};\n\n/** Map from keyword to token. */\nexport const STRING_TO_TOKEN: Record<string, byte> = {\n    'END': 0x80,\n    'FOR': 0x81,\n    'NEXT': 0x82,\n    'DATA': 0x83,\n    'INPUT': 0x84,\n    'DEL': 0x85,\n    'DIM': 0x86,\n    'READ': 0x87,\n    'GR': 0x88,\n    'TEXT': 0x89,\n    'PR#': 0x8a,\n    'IN#': 0x8b,\n    'CALL': 0x8c,\n    'PLOT': 0x8d,\n    'HLIN': 0x8e,\n    'VLIN': 0x8f,\n    'HGR2': 0x90,\n    'HGR': 0x91,\n    'HCOLOR=': 0x92,\n    'HPLOT': 0x93,\n    'DRAW': 0x94,\n    'XDRAW': 0x95,\n    'HTAB': 0x96,\n    'HOME': 0x97,\n    'ROT=': 0x98,\n    'SCALE=': 0x99,\n    'SHLOAD': 0x9a,\n    'TRACE': 0x9b,\n    'NOTRACE': 0x9c,\n    'NORMAL': 0x9d,\n    'INVERSE': 0x9e,\n    'FLASH': 0x9f,\n    'COLOR=': 0xa0,\n    'POP=': 0xa1,\n    'VTAB': 0xa2,\n    'HIMEM:': 0xa3,\n    'LOMEM:': 0xa4,\n    'ONERR': 0xa5,\n    'RESUME': 0xa6,\n    'RECALL': 0xa7,\n    'STORE': 0xa8,\n    'SPEED=': 0xa9,\n    'LET': 0xaa,\n    'GOTO': 0xab,\n    'RUN': 0xac,\n    'IF': 0xad,\n    'RESTORE': 0xae,\n    '&': 0xaf,\n    'GOSUB': 0xb0,\n    'RETURN': 0xb1,\n    'REM': 0xb2,\n    'STOP': 0xb3,\n    'ON': 0xb4,\n    'WAIT': 0xb5,\n    'LOAD': 0xb6,\n    'SAVE': 0xb7,\n    'DEF': 0xb8,\n    'POKE': 0xb9,\n    'PRINT': 0xba,\n    'CONT': 0xbb,\n    'LIST': 0xbc,\n    'CLEAR': 0xbd,\n    'GET': 0xbe,\n    'NEW': 0xbf,\n    'TAB(': 0xc0,\n    'TO': 0xc1,\n    'FN': 0xc2,\n    'SPC(': 0xc3,\n    'THEN': 0xc4,\n    'AT': 0xc5,\n    'NOT': 0xc6,\n    'STEP': 0xc7,\n    '+': 0xc8,\n    '-': 0xc9,\n    '*': 0xca,\n    '/': 0xcb,\n    '^': 0xcc,\n    'AND': 0xcd,\n    'OR': 0xce,\n    '>': 0xcf,\n    '=': 0xd0,\n    '<': 0xd1,\n    'SGN': 0xd2,\n    'INT': 0xd3,\n    'ABS': 0xd4,\n    'USR': 0xd5,\n    'FRE': 0xd6,\n    'SCRN(': 0xd7,\n    'PDL': 0xd8,\n    'POS': 0xd9,\n    'SQR': 0xda,\n    'RND': 0xdb,\n    'LOG': 0xdc,\n    'EXP': 0xdd,\n    'COS': 0xde,\n    'SIN': 0xdf,\n    'TAN': 0xe0,\n    'ATN': 0xe1,\n    'PEEK': 0xe2,\n    'LEN': 0xe3,\n    'STR$': 0xe4,\n    'VAL': 0xe5,\n    'ASC': 0xe6,\n    'CHR$': 0xe7,\n    'LEFT$': 0xe8,\n    'RIGHT$': 0xe9,\n    'MID$': 0xea\n};\n","import { byte, word, ReadonlyUint8Array, Memory } from '../types';\nimport { toHex } from 'js/util';\nimport { TOKEN_TO_STRING, STRING_TO_TOKEN } from './tokens';\nimport { TXTTAB, PRGEND } from './zeropage';\n\nconst LETTERS =\n    '                                ' +\n    ' !\"#$%&\\'()*+,-./0123456789:;<=>?' +\n    '@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_' +\n    '`abcdefghijklmnopqrstuvwxyz{|}~ ';\n\n/**\n * Resolves a token value to a token string or character.\n *\n * @param token\n * @returns string representing token\n */\nconst resolveToken = (token: byte) => {\n    let tokenString;\n    if (token >= 0x80 && token <= 0xea) {\n        tokenString = TOKEN_TO_STRING[token];\n    } else if (LETTERS[token] !== undefined) {\n        tokenString = LETTERS[token];\n    } else {\n        tokenString = `[${toHex(token)}]`;\n    }\n    return tokenString;\n};\n\ninterface ListOptions {\n    apple2: 'e' | 'plus';\n    columns: number; // usually 40 or 80\n}\n\nconst DEFAULT_LIST_OPTIONS: ListOptions = {\n    apple2: 'e',\n    columns: 40,\n};\n\ninterface DecompileOptions {\n    style: 'compact' | 'pretty';\n}\n\nconst DEFAULT_DECOMPILE_OPTIONS: DecompileOptions = {\n    style: 'pretty',\n};\n\nconst MAX_LINES = 32768;\n\nexport default class ApplesoftDecompiler {\n\n    /**\n     * Returns a decompiler for the program in the given memory.\n     *\n     * The memory is assumed to have set `TXTTAB` and `PRGEND` correctly.\n     */\n    static decompilerFromMemory(ram: Memory): ApplesoftDecompiler {\n        const program: byte[] = [];\n\n        const start = ram.read(0x00, TXTTAB) + (ram.read(0x00, TXTTAB + 1) << 8);\n        const end = ram.read(0x00, PRGEND) + (ram.read(0x00, PRGEND + 1) << 8);\n        if (start >= 0xc000 || end >= 0xc000) {\n            throw new Error(`Program memory ${toHex(start, 4)}-${toHex(end, 4)} out of range`);\n        }\n        for (let addr = start; addr <= end; addr++) {\n            program.push(ram.read(addr >> 8, addr & 0xff));\n        }\n\n        return new ApplesoftDecompiler(new Uint8Array(program), start);\n    }\n\n    /**\n     * Constructs a decompiler for the given program data. The data is\n     * assumed to be a dump of memory beginning at `base`. If the data\n     * does not cover the whole program, attempting to decompile will\n     * fail.\n     *\n     * @param program The program bytes.\n     * @param base Address of start of program, or 0 to compute start\n     */\n    constructor(\n        private readonly program: ReadonlyUint8Array,\n        private readonly base: word = 0x801\n    ) {\n        if (this.base === 0) {\n            // Signals that we're loading a file from disk, and\n            // addresses are arbitrarily absolute, so we compute\n            // base by taking the next line address and adjusting it to\n            // the actual beginning of the next line.\n            const nextLine = this.wordAt(0);\n            // Start at beginning of first line\n            let nextLineIndex = 4;\n            // Find 0 at end of line\n            while (program[nextLineIndex]) {\n                nextLineIndex++;\n            }\n            // Move to beginning of next line\n            nextLineIndex++;\n            // Adjust base\n            this.base = nextLine - nextLineIndex;\n        }\n    }\n\n    /** Returns the 2-byte word at the given offset. */\n    private wordAt(offset: word): word {\n        return this.program[offset] + (this.program[offset + 1] << 8);\n    }\n\n    /**\n     * Iterates through the lines of the given program in the order of\n     * the linked list of lines, starting from the first line. This\n     * does _not_ mean that all lines in memory will\n     *\n     * @param from First line for which to call the callback.\n     * @param to Last line for which to call the callback.\n     * @param callback A function to call for each line. The first parameter\n     *     is the offset of the line number of the line; the tokens follow.\n     */\n    private forEachLine(\n        from: number, to: number,\n        callback: (offset: word) => void): void {\n        let count = 0;\n        let offset = 0;\n        let nextLineAddr = this.wordAt(offset);\n        let nextLineNo = this.wordAt(offset + 2);\n        while (nextLineAddr !== 0 && nextLineNo < from) {\n            if (++count > MAX_LINES) {\n                throw new Error('Loop detected in listing');\n            }\n            offset = nextLineAddr;\n            nextLineAddr = this.wordAt(offset);\n            nextLineNo = this.wordAt(offset + 2);\n        }\n        while (nextLineAddr !== 0 && nextLineNo <= to) {\n            if (++count > MAX_LINES) {\n                throw new Error('Loop detected in listing');\n            }\n            callback(offset + 2);\n            offset = nextLineAddr - this.base;\n            nextLineAddr = this.wordAt(offset);\n            nextLineNo = this.wordAt(offset + 2);\n        }\n    }\n\n    /** Lists a single line like an Apple II. */\n    listLine(offset: word, options: ListOptions): string {\n        const lines: string[] = [];\n        let line = '';\n\n        const lineNo = this.wordAt(offset);\n        // The Apple //e prints a space before each line number to make\n        // it easier to edit the lines.  The change is at the subroutine\n        // called at D6F9: on the //e it is SPCLIN (F7AA), on the ][+ it\n        // is LINPRT (ED24).\n        if (options.apple2 === 'e') {\n            line += ' '; // D6F9: JSR SPCLIN\n        }\n        line += `${lineNo} `; // D6FC, always 1 space after line number\n        offset += 2;\n\n        // In the original ROM, the line length is checked immediately\n        // after the line number is printed. For simplicity, this method\n        // always assumes that there is space for one tokenwhich would\n        // have been the case on a realy Apple.\n        while (this.program[offset] !== 0) {\n            if (offset >= this.program.length) {\n                lines.unshift('Unterminated line: ');\n                break;\n            }\n            const token = this.program[offset];\n            if (token >= 0x80 && token <= 0xea) {\n                line += ' '; // D750, always put a space in front of token\n                line += resolveToken(token);\n                line += ' '; // D762, always put a trailing space\n            } else {\n                line += resolveToken(token);\n            }\n            offset++;\n\n            // The Apple //e and ][+ differ in how they choose to break\n            // long lines. In the ][+, D705 prints a newline if the\n            // current column (MON_CH, $24) is greater than or equal to\n            // 33. In the //e, control is passed to GETCH (F7B4), which\n            // uses column 33 in 40-column mode and column 73 in 80-column\n            // mode.\n            //\n            // The ][+ behaves more like a //e when there is an 80-column\n            // card active (programs wrap at column 73).  From what I can\n            // tell (using Virtual ]['s inspector), the 80-column card\n            // keeps MON_CH at zero until the actual column is >= 71, when\n            // it sets it to the actual cursor position - 40.  In the\n            // Videx Videoterm ROM, this fixup happens in BASOUT (CBCD) at\n            // CBE6 by getting the 80-column horizontal cursor position and\n            // subtracting 0x47 (71). If the result is less than zero, then\n            // 0x00 is stored in MON_CH, otherwise 31 is added back and the\n            // result is stored in MON_CH. (The manual is archived at\n            // http://www.apple-iigs.info/doc/fichiers/videoterm.pdf, among\n            // other places.)\n            //\n            // For out purposes, we're just going to use the number of\n            // columns - 7.\n            if (line.length >= options.columns - 7) {\n                line += '\\n';\n                lines.push(line);\n                line = '     ';\n            }\n        }\n        lines.push(line + '\\n');\n        return lines.join('');\n    }\n\n    /**\n     * Lists the program in the same format that an Apple II prints to the\n     * screen.\n     *\n     * This method also accepts a starting and ending line number. Like on\n     * an Apple II, this will print all of the lines between `from` and `to`\n     * (inclusive) regardless of the actual line numbers between them.\n     *\n     * To list a single line, pass the same number for both `from` and `to`.\n     *\n     * @param options The options for formatting the output.\n     * @param from The first line to print (default 0).\n     * @param to The last line to print (default end of program).\n     */\n    list(options: Partial<ListOptions> = {},\n        from: number = 0, to: number = 65536): string {\n        const allOptions = { ...DEFAULT_LIST_OPTIONS, ...options };\n\n        let result = '';\n        this.forEachLine(from, to, offset => {\n            result += this.listLine(offset, allOptions);\n        });\n        return result;\n    }\n\n    /**\n     * Returns a single line for the given compiled line in as little\n     * space as possible.\n     */\n    compactLine(offset: word): string {\n        let result = '';\n        let spaceIf: (nextToken: string) => boolean = () => false;\n\n        const lineNo = this.wordAt(offset);\n        result += lineNo;\n        spaceIf = (nextToken: string) => /^\\d/.test(nextToken);\n        offset += 2;\n\n        while (this.program[offset] !== 0) {\n            if (offset >= this.program.length) {\n                return 'Unterminated line: ' + result;\n            }\n            const token = this.program[offset];\n            let tokenString = resolveToken(token);\n            if (tokenString === 'PRINT') {\n                tokenString = '?';\n            }\n            if (spaceIf(tokenString)) {\n                result += ' ';\n            }\n\n            result += tokenString;\n\n            spaceIf = () => false;\n            if (token === STRING_TO_TOKEN['AT']) {\n                spaceIf = (nextToken) => nextToken.toUpperCase().startsWith('N');\n            }\n\n            offset++;\n        }\n        return result;\n    }\n\n    /**\n     * Returns a single line for the compiled line, but with even spacing:\n     *   * space after line number (not before)\n     *   * space before and after colons (`:`)\n     *   * space around equality and assignment operators (`=`, `<=`, etc.)\n     *   * space after tokens, unless it looks like a function call\n     *   * space after commas, but not before\n     */\n    prettyLine(offset: word): string {\n        let result = '';\n        let inString = false;\n        let spaceIf: (char: byte) => boolean = () => false;\n\n        const lineNo = this.wordAt(offset);\n        result += `${lineNo} `;\n        offset += 2;\n\n        while (this.program[offset] !== 0) {\n            if (offset >= this.program.length) {\n                return 'Unterminated line: ' + result;\n            }\n            const token = this.program[offset];\n            const tokenString = resolveToken(token);\n            if (tokenString === '\"') {\n                inString = !inString;\n            }\n\n            if (spaceIf(token) || (!inString && tokenString === ':')) {\n                result += ' ';\n            }\n\n            result += tokenString;\n\n            if (!inString && tokenString === ':') {\n                spaceIf = () => true;\n            } else if (!inString && tokenString === ',') {\n                spaceIf = () => true;\n            } else if (token >= 0xcf && token <= 0xd1) {\n                // For '<', '=', '>', don't add a space between them.\n                spaceIf = (token: byte) => token < 0xcf || token > 0xd1;\n            } else if (token > 0x80 && token < 0xea) {\n                // By default, if a token is followed by an open paren, don't\n                // add a space.\n                spaceIf = (token: byte) => token !== 0x28;\n            } else {\n                // By default, if a literal is followed by a token, add a space.\n                spaceIf = (token: byte) => token >= 0x80 && token <= 0xea;\n            }\n\n            offset++;\n        }\n        return result;\n    }\n\n    /**\n     * Decompiles the program based on the given options.\n     */\n    decompile(options: Partial<DecompileOptions> = {},\n        from: number = 0, to: number = 65536): string {\n        const allOptions = { ...DEFAULT_DECOMPILE_OPTIONS, ...options };\n\n        const results: string[] = [];\n        this.forEachLine(from, to, offset => {\n            results.push(allOptions.style === 'compact' ? this.compactLine(offset) : this.prettyLine(offset));\n        });\n        return results.join('\\n');\n    }\n}\n","/*\n * Zero page locations used by Applesoft. The names come from\n * the commented decompilation produced by the Merlin Pro\n * assembler, revision 4/27/84. There is evidence from\n * https://www.pagetable.com/?p=774 that the original Microsoft\n * BASIC source code used these names as well.\n */\n\n/** Start of program (word) */\nexport const TXTTAB = 0x67;\n/** Start of variables (word) */\nexport const VARTAB = 0x69;\n/** Start of arrays (word) */\nexport const ARYTAB = 0x6B;\n/** End of strings (word). (Strings are allocated down from HIMEM.) */\nexport const STREND = 0x6D;\n/** Current line */\nexport const CURLINE = 0x75;\n/** Floating Point accumulator (float) */\nexport const FAC = 0x9D;\n/** Floating Point arguments (float) */\nexport const ARG = 0xA5;\n/**\n * End of program (word). This is actually 1 or 2 bytes past the three\n * zero bytes that end the program.\n */\nexport const PRGEND = 0xAF;\n","import { byte, word, Memory } from 'js/types';\nimport { toHex } from 'js/util';\nimport {\n    CURLINE,\n    ARG,\n    FAC,\n    ARYTAB,\n    STREND,\n    TXTTAB,\n    VARTAB\n} from './zeropage';\n\nexport type ApplesoftValue = word | number | string | ApplesoftArray;\nexport type ApplesoftArray = Array<ApplesoftValue>;\n\nexport enum VariableType {\n    Float = 0,\n    String = 1,\n    Function = 2,\n    Integer = 3\n}\n\nexport interface ApplesoftVariable {\n    name: string;\n    sizes?: number[];\n    type: VariableType;\n    value: ApplesoftValue | undefined;\n}\n\n\nexport class ApplesoftHeap {\n    constructor(private mem: Memory) {}\n\n    private readByte(addr: word): byte {\n        const page = addr >> 8;\n        const off = addr & 0xff;\n\n        if (page >= 0xc0) {\n            throw new Error(`Address ${toHex(page)} out of range`);\n        }\n\n        return this.mem.read(page, off);\n    }\n\n    private readWord(addr: word): word {\n        const lsb = this.readByte(addr);\n        const msb = this.readByte(addr + 1);\n\n        return (msb << 8) | lsb;\n    }\n\n    private readInt(addr: word): word {\n        const msb = this.readByte(addr);\n        const lsb = this.readByte(addr + 1);\n\n        return (msb << 8) | lsb;\n    }\n\n    private readFloat(addr: word, { unpacked } = { unpacked: false }): number {\n        let exponent = this.readByte(addr);\n        if (exponent === 0) {\n            return 0;\n        }\n        exponent = (exponent & 0x80 ? 1 : -1) * ((exponent & 0x7F) - 1);\n\n        let msb = this.readByte(addr + 1);\n        const sb3 = this.readByte(addr + 2);\n        const sb2 = this.readByte(addr + 3);\n        const lsb = this.readByte(addr + 4);\n        let sign;\n        if (unpacked) {\n            const sb = this.readByte(addr + 5);\n            sign = sb & 0x80 ? -1 : 1;\n        } else {\n            sign = msb & 0x80 ? -1 : 1;\n        }\n        msb &= 0x7F;\n        const mantissa = (msb << 24) | (sb3 << 16) | (sb2 << 8) | lsb;\n\n        return sign * (1 + mantissa / 0x80000000) * Math.pow(2, exponent);\n    }\n\n    private readString(len: byte, addr: word): string {\n        let str = '';\n        for (let idx = 0; idx < len; idx++) {\n            str += String.fromCharCode(this.readByte(addr + idx) & 0x7F);\n        }\n        return str;\n    }\n\n    private readVar(addr: word) {\n        const firstByte = this.readByte(addr);\n        const lastByte = this.readByte(addr + 1);\n        const firstLetter = firstByte & 0x7F;\n        const lastLetter = lastByte & 0x7F;\n\n        const name =\n            String.fromCharCode(firstLetter) +\n            (lastLetter ? String.fromCharCode(lastLetter) : '');\n        const type = (lastByte & 0x80) >> 7 | (firstByte & 0x80) >> 6;\n\n        return { name, type };\n    }\n\n    private readArray(addr: word, type: byte, sizes: number[]): ApplesoftArray {\n        let strLen, strAddr;\n        let value;\n        const ary = [];\n        const len = sizes[0];\n\n        for (let idx = 0; idx < len; idx++) {\n            if (sizes.length > 1) {\n                value = this.readArray(addr, type, sizes.slice(1));\n            } else {\n                switch (type) {\n                    case 0: // Real\n                        value = this.readFloat(addr);\n                        addr += 5;\n                        break;\n                    case 1: // String\n                        strLen = this.readByte(addr);\n                        strAddr = this.readWord(addr + 1);\n                        value = this.readString(strLen, strAddr);\n                        addr += 3;\n                        break;\n                    case 3: // Integer\n                    default:\n                        value = this.readInt(addr);\n                        addr += 2;\n                        break;\n                }\n            }\n            ary[idx] = value;\n        }\n        return ary;\n    }\n\n    dumpInternals() {\n        return {\n            txttab: this.readWord(TXTTAB),\n            fac: this.readFloat(FAC, { unpacked: true }),\n            arg: this.readFloat(ARG, { unpacked: true }),\n            curline: this.readWord(CURLINE),\n        };\n    }\n\n    dumpVariables() {\n        const simpleVariableTable = this.readWord(VARTAB);\n        const arrayVariableTable = this.readWord(ARYTAB);\n        const variableStorageEnd = this.readWord(STREND);\n        // var stringStorageStart = readWord(0x6F);\n\n        let addr;\n        const vars: ApplesoftVariable[] = [];\n        let value;\n        let strLen, strAddr;\n\n        for (addr = simpleVariableTable; addr < arrayVariableTable; addr += 7) {\n            const { name, type } = this.readVar(addr);\n\n            switch (type) {\n                case VariableType.Float:\n                    value = this.readFloat(addr + 2);\n                    break;\n                case VariableType.String:\n                    strLen = this.readByte(addr + 2);\n                    strAddr = this.readWord(addr + 3);\n                    value = this.readString(strLen, strAddr);\n                    break;\n                case VariableType.Function:\n                    value = toHex(this.readWord(addr + 2));\n                    value += ',' + toHex(this.readWord(addr + 4));\n                    break;\n                case VariableType.Integer:\n                    value = this.readInt(addr + 2);\n                    break;\n            }\n            vars.push({ name, type, value });\n        }\n\n        while (addr < variableStorageEnd) {\n            const { name, type } = this.readVar(addr);\n            const off = this.readWord(addr + 2);\n            const dim = this.readByte(addr + 4);\n            const sizes = [];\n            for (let idx = 0; idx < dim; idx++) {\n                sizes[idx] = this.readInt(addr + 5 + idx * 2);\n            }\n            value = this.readArray(addr + 5 + dim * 2, type, sizes);\n            vars.push({ name, sizes, type, value });\n\n            if (off < 1) {\n                break;\n            }\n            addr += off;\n        }\n\n        return vars;\n    }\n}\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./Applesoft.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./Applesoft.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./Debugger.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./Debugger.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h } from 'preact';\nimport { useCallback, useEffect, useRef, useState } from 'preact/hooks';\n\nimport { toHex } from 'js/util';\nimport ApplesoftDecompiler from 'js/applesoft/decompiler';\nimport { ApplesoftHeap, ApplesoftVariable } from 'js/applesoft/heap';\nimport { Apple2 as Apple2Impl } from 'js/apple2';\n\nimport styles from './css/Applesoft.module.scss';\nimport debuggerStyles from './css/Debugger.module.scss';\n\nexport interface ApplesoftProps {\n    apple2: Apple2Impl | undefined;\n}\n\ninterface ApplesoftData {\n    variables: ApplesoftVariable[];\n    internals: {\n        txttab?: number;\n        fac?: number;\n        arg?: number;\n        curline?: number;\n    };\n    listing: string;\n}\n\nconst TYPE_SYMBOL = ['', '$', '()', '%'] as const;\nconst TYPE_NAME = ['Float', 'String', 'Function', 'Integer'] as const;\n\nconst formatArray = (value: unknown): string => {\n    if (Array.isArray(value)) {\n        if (Array.isArray(value[0])) {\n            return `[${value.map((x) => formatArray(x)).join(',\\n ')}]`;\n        } else {\n            return `[${value.map((x) => formatArray(x)).join(', ')}]`;\n        }\n    } else {\n        return `${JSON.stringify(value)}`;\n    }\n};\n\nconst Variable = ({ variable }: { variable: ApplesoftVariable }) => {\n    const { name, type, sizes, value } = variable;\n    const isArray = !!sizes;\n    const arrayStr = isArray ? `(${sizes.map((size) => size - 1).join(',')})` : '';\n    return (\n        <tr>\n            <td>{name}{TYPE_SYMBOL[type]}{arrayStr}</td>\n            <td>{TYPE_NAME[type]}{isArray ? ' Array' : ''}</td>\n            <td><pre tabIndex={-1}>{isArray ? formatArray(value) : value}</pre></td>\n        </tr>\n    );\n};\n\nexport const Applesoft = ({ apple2 }: ApplesoftProps) => {\n    const animationRef = useRef<number>(0);\n    const [data, setData] = useState<ApplesoftData>({\n        listing: '',\n        variables: [],\n        internals: {}\n    });\n    const [heap, setHeap] = useState<ApplesoftHeap>();\n    const cpu = apple2?.getCPU();\n\n    useEffect(() => {\n        if (cpu) {\n            // setDecompiler();\n            setHeap(new ApplesoftHeap(cpu));\n        }\n    }, [cpu]);\n\n    const animate = useCallback(() => {\n        if (cpu && heap) {\n            try {\n                const decompiler = ApplesoftDecompiler.decompilerFromMemory(cpu);\n                setData({\n                    variables: heap.dumpVariables(),\n                    internals: heap.dumpInternals(),\n                    listing: decompiler.decompile()\n                });\n            } catch (error) {\n                if (error instanceof Error) {\n                    setData({\n                        variables: [],\n                        internals: {},\n                        listing: error.message\n                    });\n                } else {\n                    throw error;\n                }\n            }\n        }\n        animationRef.current = requestAnimationFrame(animate);\n    }, [cpu, heap]);\n\n    useEffect(() => {\n        animationRef.current = requestAnimationFrame(animate);\n        return () => cancelAnimationFrame(animationRef.current);\n    }, [animate]);\n\n    const { listing, internals, variables } = data;\n\n    return (\n        <div className={styles.column}>\n            <span className={debuggerStyles.subHeading}>Listing</span>\n            <pre className={styles.listing} tabIndex={-1}>{listing}</pre>\n            <span className={debuggerStyles.subHeading}>Variables</span>\n            <div className={styles.variables}>\n                <table>\n                    <tr>\n                        <th>Name</th>\n                        <th>Type</th>\n                        <th>Value</th>\n                    </tr>\n                    {variables.map((variable, idx) => <Variable key={idx} variable={variable} />)}\n                </table>\n            </div>\n            <span className={debuggerStyles.subHeading}>Internals</span>\n            <div className={styles.internals}>\n                <table>\n                    <tr>\n                        <th>TXTTAB</th>\n                        <td>{toHex(internals.txttab ?? 0)}</td>\n                        <th>FAC</th>\n                        <td>{internals.fac}</td>\n                    </tr>\n                    <tr>\n                        <th>ARG</th>\n                        <td>{internals.arg}</td>\n                        <th>CURLINE</th>\n                        <td>{internals.curline}</td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n    );\n};\n","/**\n * Converts a function type returning a `Promise` to a function type returning `void`.\n */\nexport type NoAwait<F extends (...args: unknown[]) => Promise<unknown>> =\n    (...args: Parameters<F>) => void;\n\n/**\n * Signals that the argument returns a `Promise` that is intentionally not being awaited.\n */\nexport function noAwait<F extends (...args: unknown[]) => Promise<unknown>>(f: F): NoAwait<F> {\n    return f as NoAwait<F>;\n}\n\n/**\n * Calls the given `Promise`-returning function, `f`, and does not await\n * the result. The function `f` is passed an {@link Interrupted} function\n * that returns `true` if it should stop doing work.  `spawn` returns an\n * {@link Interrupt} function that, when called, causes the `Interrupted`\n * function to return `true`. This can be used in `useEffect` calls as the\n * cleanup function.\n */\nexport function spawn(f: (abortSignal: AbortSignal) => Promise<unknown>): AbortController {\n    const abortController = new AbortController();\n    noAwait(f)(abortController.signal);\n    return abortController;\n}\n\n/**\n * Utility class that allows a promise to be passed to a\n * service to be resolved.\n */\n\nexport class Ready {\n    onError: (value?: unknown) => void;\n    onReady: (value?: unknown) => void;\n\n    ready: Promise<unknown>;\n\n    constructor(private errorHandler = console.error) {\n        this.ready = new Promise((resolve, reject) => {\n            this.onReady = resolve;\n            this.onError = reject;\n        }).catch(this.errorHandler);\n    }\n}\n","import { h, Fragment } from 'preact';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { noAwait } from './util/promises';\n\nexport interface FilePickerAcceptType {\n    description?: string | undefined;\n    accept: Record<string, string | string[]>;\n}\n\nconst ACCEPT_EVERYTHING_TYPE: FilePickerAcceptType = {\n    description: 'Any file',\n    accept: { '*/*': [] },\n};\n\nexport interface FileChooserProps {\n    disabled?: boolean;\n    onChange: (handles: Array<FileSystemFileHandle>) => void;\n    accept?: FilePickerAcceptType[];\n    control?: typeof controlDefault;\n}\n\nconst hasPicker = !!window.showOpenFilePicker;\nconst controlDefault = hasPicker ? 'picker' : 'input';\n\ninterface InputFileChooserProps {\n    disabled?: boolean;\n    onChange?: (files: FileList) => void;\n    accept?: FilePickerAcceptType[];\n}\n\ninterface ExtraProps {\n    accept?: string;\n}\n\nconst InputFileChooser = ({\n    disabled = false,\n    onChange = () => { /* do nothing */ },\n    accept = [],\n}: InputFileChooserProps) => {\n    const inputRef = useRef<HTMLInputElement>(null);\n    const filesRef = useRef<FileList>();\n\n    const onChangeInternal = useCallback(() => {\n        if (inputRef.current?.files) {\n            const newFiles = inputRef.current?.files;\n            if (filesRef.current !== newFiles) {\n                filesRef.current = newFiles;\n                onChange(newFiles);\n            }\n        }\n    }, [onChange]);\n\n    const extraProps = useMemo<ExtraProps>(() => {\n        // Accept all of the given MIME types and extensions. An argument\n        // could be made to throw out all of the MIME types and just keep\n        // the extensions, but this seemed to follow the intent in the\n        // spec:\n        //\n        // https://html.spec.whatwg.org/multipage/input.html#file-upload-state-(type=file)\n        //\n        // which allows pretty generous interpretations.\n        //\n        // Update(whscullin) - Adding the MIME type seems to block loading anything\n        // from iCloud when using Safari, so reverting to simply using extensions for\n        // now.\n        const newAccept = [];\n        for (const type of accept) {\n            for (const [/* typeString */, suffixes] of Object.entries(type.accept)) {\n                // newAccept.push(typeString);\n                if (Array.isArray(suffixes)) {\n                    newAccept.push(...suffixes);\n                } else {\n                    newAccept.push(suffixes);\n                }\n            }\n        }\n\n        const extraProps: { accept?: string } = {};\n        if (newAccept.length > 0) {\n            extraProps['accept'] = newAccept.join(',');\n        }\n\n        return extraProps;\n    }, [accept]);\n\n    return (\n        <input type=\"file\" role='button' aria-label='Open file'\n            ref={inputRef}\n            onChange={onChangeInternal}\n            disabled={disabled}\n            {...extraProps} />\n    );\n};\n\ninterface FilePickerChooserProps {\n    disabled?: boolean;\n    onChange?: (files: FileSystemFileHandle[]) => void;\n    accept?: FilePickerAcceptType[];\n}\n\nconst FilePickerChooser = ({\n    disabled = false,\n    onChange = () => { /* do nothing */ },\n    accept = [ACCEPT_EVERYTHING_TYPE]\n}: FilePickerChooserProps) => {\n    const [busy, setBusy] = useState<boolean>(false);\n    const [selectedFilename, setSelectedFilename] = useState<string>();\n    const [fileHandles, setFileHandles] = useState<FileSystemFileHandle[]>();\n\n    const onClickInternal = useCallback(async () => {\n        if (busy) {\n            return;\n        }\n        setBusy(true);\n        try {\n            const pickedFiles = await window.showOpenFilePicker({\n                multiple: false,\n                excludeAcceptAllOption: true,\n                types: accept,\n            });\n            if (fileHandles !== pickedFiles) {\n                setFileHandles(pickedFiles);\n                onChange(pickedFiles);\n            }\n        } catch (e: unknown) {\n            console.error(e);\n        } finally {\n            setBusy(false);\n        }\n    }, [accept, busy, fileHandles, onChange]);\n\n    useEffect(() => {\n        setSelectedFilename(\n            fileHandles?.length\n                ? fileHandles[0].name\n                : 'No file selected');\n    }, [fileHandles]);\n\n    return (\n        <>\n            <button onClick={noAwait(onClickInternal)} disabled={disabled || busy}>\n                Choose File\n            </button>\n            &nbsp;\n            <span role=\"label\">{selectedFilename}</span>\n        </>\n    );\n};\n\n/**\n * File chooser component displayed as a button followed by the name of the\n * chosen file (if any). When clicked, the button opens a native file chooser.\n * If the browser supports the `window.showOpenFilePicker` function, this\n * component uses it to open the file chooser. Otherwise, the component uses\n * a regular file input element.\n *\n * Using `window.showOpenFilePicker` has the advantage of allowing read/write\n * access to the file, whereas the regular input element only gives read\n * access.\n */\nexport const FileChooser = ({\n    onChange,\n    control = controlDefault,\n    ...rest\n}: FileChooserProps) => {\n\n    const onChangeForInput = useCallback((files: FileList) => {\n        const handles: FileSystemFileHandle[] = [];\n        for (let i = 0; i < files.length; i++) {\n            const file = files.item(i);\n            if (file === null) {\n                continue;\n            }\n            handles.push({\n                kind: 'file',\n                name: file.name,\n                getFile: () => Promise.resolve(file),\n                createWritable: (_options) => Promise.reject('File not writable.'),\n                queryPermission: (descriptor) => Promise.resolve(descriptor?.mode === 'read' ? 'granted' : 'denied'),\n                requestPermission: (descriptor) => Promise.resolve(descriptor?.mode === 'read' ? 'granted' : 'denied'),\n                isSameEntry: (_unused) => Promise.resolve(false),\n                isDirectory: false,\n                isFile: true,\n            });\n        }\n        onChange(handles);\n    }, [onChange]);\n\n    const onChangeForPicker = useCallback((fileHandles: FileSystemFileHandle[]) => {\n        onChange(fileHandles);\n    }, [onChange]);\n\n    return control === 'picker'\n        ? (\n            <FilePickerChooser onChange={onChangeForPicker} {...rest} />\n        )\n        : (\n            <InputFileChooser onChange={onChangeForInput} {...rest} />\n        );\n};\n","import type { byte, memory, MemberOf, word } from '../types';\nimport type { GamepadConfiguration } from '../ui/types';\nimport { InfoChunk } from './woz';\n\nexport const SUPPORTED_SECTORS = [13, 16] as const;\nexport type SupportedSectors = MemberOf<typeof SUPPORTED_SECTORS>;\n\nexport const DRIVE_NUMBERS = [1, 2] as const;\nexport type DriveNumber = MemberOf<typeof DRIVE_NUMBERS>;\n\n/**\n * Arguments for the disk format processors.\n */\nexport interface DiskOptions {\n    name: string;\n    side?: string | undefined;\n    volume: byte;\n    readOnly: boolean;\n    data?: memory[][];\n    rawData?: ArrayBuffer;\n    blockVolume?: boolean;\n}\n\n/**\n * JSON file entry format\n */\nexport interface DiskDescriptor {\n    name: string;\n    disk?: number;\n    filename: string;\n    e?: boolean;\n    category: string;\n}\n\n/**\n * JSON binary image (not used?)\n */\nexport interface JSONBinaryImage {\n    type: 'binary';\n    start: word;\n    length: word;\n    data: byte[];\n    gamepad?: GamepadConfiguration;\n}\n\n/**\n * Information about a disk image not directly related to the\n * disk contents. For example, the name or even a scan of the\n * disk label are \"metadata\", but the volume number is not.\n */\nexport interface DiskMetadata {\n    /** Displayed disk name */\n    name: string;\n    /** (Optional) Disk side (Front/Back, A/B) */\n    side?: string | undefined;\n}\n\n/**\n * Return value from disk format processors. Describes raw disk\n * data which the DiskII card can process.\n */\nexport interface Disk {\n    metadata: DiskMetadata;\n    readOnly: boolean;\n}\n\nexport const NO_DISK = 'empty';\nexport const ENCODING_NIBBLE = 'nibble';\nexport const ENCODING_BITSTREAM = 'bitstream';\nexport const ENCODING_BLOCK = 'block';\n\nexport interface FloppyDisk extends Disk {\n    encoding: typeof ENCODING_NIBBLE | typeof ENCODING_BITSTREAM | typeof NO_DISK;\n}\n\nexport interface NoFloppyDisk extends FloppyDisk {\n    encoding: typeof NO_DISK;\n}\n\nexport interface NibbleDisk extends FloppyDisk {\n    encoding: typeof ENCODING_NIBBLE;\n    format: Exclude<NibbleFormat, 'woz'>;\n    volume: byte;\n    tracks: memory[];\n}\n\nexport interface WozDisk extends FloppyDisk {\n    encoding: typeof ENCODING_BITSTREAM;\n    format: 'woz';\n    trackMap: number[];\n    rawTracks: Uint8Array[];\n    info: InfoChunk | undefined;\n}\n\nexport interface BlockDisk extends Disk {\n    encoding: typeof ENCODING_BLOCK;\n    format: BlockFormat;\n    blocks: Uint8Array[];\n}\n\n/**\n * File types supported by floppy devices in nibble mode.\n */\nexport const NIBBLE_FORMATS = [\n    '2mg',\n    'd13',\n    'do',\n    'dsk',\n    'po',\n    'nib',\n] as const;\n\n/**\n * File types supported by floppy devices in bitstream mode.\n */\nexport const BITSTREAM_FORMATS = [\n    'woz',\n] as const;\n\n/**\n * All file types supported by floppy devices.\n */\nexport const FLOPPY_FORMATS = [\n    ...NIBBLE_FORMATS,\n    ...BITSTREAM_FORMATS,\n] as const;\n\n/**\n * File types supported by block devices.\n */\nexport const BLOCK_FORMATS = [\n    '2mg',\n    'hdv',\n    'po',\n] as const;\n\n/**\n * All supported disk formats.\n */\nexport const DISK_FORMATS = [\n    ...FLOPPY_FORMATS,\n    ...BLOCK_FORMATS,\n] as const;\n\nexport type FloppyFormat = MemberOf<typeof FLOPPY_FORMATS>;\nexport type NibbleFormat = MemberOf<typeof NIBBLE_FORMATS>;\nexport type BitstreamFormat = 'woz';\nexport type BlockFormat = MemberOf<typeof BLOCK_FORMATS>;\nexport type DiskFormat = MemberOf<typeof DISK_FORMATS>;\n\n/** Type guard for nibble disk formats. */\nexport function isNibbleDiskFormat(f: DiskFormat): f is NibbleFormat {\n    return NIBBLE_FORMATS.includes(f as NibbleFormat);\n}\n\n/** Type guard for block disk formats. */\nexport function isBlockDiskFormat(f: DiskFormat): f is BlockFormat {\n    return BLOCK_FORMATS.includes(f as BlockFormat);\n}\n\nexport function isNoFloppyDisk(disk: Disk): disk is NoFloppyDisk {\n    return (disk as NoFloppyDisk)?.encoding === NO_DISK;\n}\n\n/** Type guard for NibbleDisks */\nexport function isNibbleDisk(disk: Disk): disk is NibbleDisk {\n    return (disk as NibbleDisk)?.encoding === ENCODING_NIBBLE;\n}\n\n/** Type guard for NibbleDisks */\nexport function isWozDisk(disk: Disk): disk is WozDisk {\n    return (disk as WozDisk)?.encoding === ENCODING_BITSTREAM;\n}\n\n/**\n * Base format for JSON defined disks\n */\n\nexport class JSONDiskBase {\n    type: DiskFormat;\n    name: string;\n    disk?: string;\n    category?: string;\n    volume?: byte;\n    readOnly?: boolean;\n    gamepad?: GamepadConfiguration;\n}\n\n/**\n * JSON Disk format with base64 encoded tracks with sectors\n */\n\nexport interface Base64JSONDisk extends JSONDiskBase {\n    type: Exclude<DiskFormat, 'nib'>;\n    encoding: 'base64';\n    data: string[][];\n}\n\n/**\n * JSON Disk format with base64 encoded nibblized tracks\n */\n\nexport interface Base64JSONNibbleDisk extends JSONDiskBase {\n    type: 'nib';\n    encoding: 'base64';\n    data: string[];\n}\n\n/**\n * JSON Disk format with byte array tracks\n */\n\nexport interface BinaryJSONDisk extends JSONDiskBase {\n    type: DiskFormat;\n    encoding: 'binary';\n    data: memory[][];\n}\n\n/**\n * General JSON Disk format\n */\n\nexport type JSONDisk = Base64JSONDisk | Base64JSONNibbleDisk | BinaryJSONDisk;\n\n/**\n * Process Disk message payloads for worker\n */\n\nexport const PROCESS_BINARY = 'PROCESS_BINARY';\nexport const PROCESS_JSON_DISK = 'PROCESS_JSON_DISK';\nexport const PROCESS_JSON = 'PROCESS_JSON';\n\n/** Binary disk file message */\nexport interface ProcessBinaryMessage {\n    type: typeof PROCESS_BINARY;\n    payload: {\n        driveNo: DriveNumber;\n        fmt: FloppyFormat;\n        options: DiskOptions;\n    };\n}\n\n/** Processed JSON file message (used for localStorage) */\nexport interface ProcessJsonDiskMessage {\n    type: typeof PROCESS_JSON_DISK;\n    payload: {\n        driveNo: DriveNumber;\n        jsonDisk: JSONDisk;\n    };\n}\n\n/** Raw JSON file message */\nexport interface ProcessJsonMessage {\n    type: typeof PROCESS_JSON;\n    payload: {\n        driveNo: DriveNumber;\n        json: string;\n    };\n}\n\nexport type FormatWorkerMessage =\n    ProcessBinaryMessage |\n    ProcessJsonDiskMessage |\n    ProcessJsonMessage;\n\n/**\n * Format work result message type\n */\n\nexport const DISK_PROCESSED = 'DISK_PROCESSED';\n\nexport interface DiskProcessedResponse {\n    type: typeof DISK_PROCESSED;\n    payload: {\n        driveNo: DriveNumber;\n        disk: FloppyDisk | null;\n    };\n}\n\nexport type FormatWorkerResponse =\n    DiskProcessedResponse;\n\nexport interface MassStorageData {\n    metadata: DiskMetadata;\n    ext: DiskFormat;\n    readOnly: boolean;\n    volume?: byte;\n    data: ArrayBuffer;\n}\n\n/**\n * Block device common interface\n */\nexport interface MassStorage<T> {\n    setBinary(drive: number, name: string, ext: T, data: ArrayBuffer): boolean;\n    getBinary(drive: number, ext?: T): MassStorageData | null;\n}\n","/**\n * Extracts the members of a constant array as a type. Used as:\n *\n * @example\n * const SOME_VALUES = ['a', 'b', 1, 2] as const;\n * type SomeValues = MemberOf<typeof SOME_VALUES>; // 'a' | 'b' | 1 | 2\n */\nexport type MemberOf<T extends ReadonlyArray<unknown>> =\n    T extends ReadonlyArray<infer E> ? E : never;\n\n/**\n * Recursively extracts all members of a constant array as a type. Used as:\n *\n * @example\n * const SOME_ARRAYS = [['a'],['b', 2], 3] as const;\n * type SomeArrayValues = DeepMemberOf<typeof SOME_ARRAYS>; // 'a' | 'b' | 2 | 3\n */\nexport type DeepMemberOf<T extends ReadonlyArray<unknown>> =\n    T extends ReadonlyArray<infer E>\n    ? (E extends ReadonlyArray<unknown> ? DeepMemberOf<E> : E)\n    : never;\n\n/**\n * Extracts the declared keys of a type by removing `string` and `number`.\n *\n * Cribbed from the interwebs:\n * https://github.com/microsoft/TypeScript/issues/25987#issuecomment-408339599\n */\nexport type KnownKeys<T> = {\n    [K in keyof T]: string extends K ? never : number extends K ? never : K\n} extends { [_ in keyof T]: infer U } ? U : never;\n\n/**\n * Extracts the declared values of a constant object.\n */\nexport type KnownValues<T> = T extends {\n    [_ in keyof T]: infer U } ? U : never;\n\n/**\n * Replacement for `includes` on constant types that is also a type assertion.\n *\n * @example\n * const SOME_VALUES = [1, 2, 'a'] as const;\n * let n: number = 1;\n * let r = includes(SOME_VALUES, n); // r === true, n is 1 | 2 | 'a'\n * n = 5;\n * r = includes(SOME_VALUES, n); // r === false, n is number\n */\nexport function includes<S extends T, T>(a: ReadonlyArray<S>, v: T): v is S {\n    return (a as ReadonlyArray<T>).includes(v);\n}\n\n/** A bit. */\nexport type bit = 0 | 1;\n\n/** A nibble. */\nexport type nibble =\n    0x0 | 0x1 | 0x2 | 0x3 | 0x4 | 0x5 | 0x6 | 0x7 |\n    0x8 | 0x9 | 0xa | 0xb | 0xc | 0xd | 0xe | 0xf;\n\n/** A byte (0..255). This is not enforced by the compiler. */\nexport type byte = number;\n\n/** A word (0..65535). This is not enforced by the compiler. */\nexport type word = number;\n\n/** A raw region of memory. */\nexport type memory = Uint8Array;\n\n/** A raw region of memory. */\nexport type rom = ReadonlyUint8Array;\n\nexport interface Memory {\n    /** Read a byte. */\n    read(page: byte, offset: byte): byte;\n    /** Write a byte. */\n    write(page: byte, offset: byte, value: byte): void;\n}\n\n/** A mapped region of memory. */\nexport interface MemoryPages extends Memory {\n    /** Start page. */\n    start(): byte;\n    /** End page, inclusive. */\n    end(): byte;\n}\n\n/* An interface card */\nexport interface Card<StateT = unknown> extends Memory, Restorable<StateT> {\n    /* Reset the card */\n    reset?(): void;\n\n    /* Draw card to canvas */\n    blit?(): ImageData | undefined;\n\n    /* Process period events */\n    tick?(): void;\n\n    /* Read or Write an I/O switch */\n    ioSwitch(off: byte, val?: byte): byte | undefined;\n}\n\nexport type TapeData = Array<[duration: number, high: boolean]>;\n\nexport interface Restorable<T = unknown> {\n    getState(): T;\n    setState(state: T): void;\n}\n\n// Read-only typed arrays for constants\nexport type TypedArrayMutableProperties = 'copyWithin' | 'fill' | 'reverse' | 'set' | 'sort';\nexport interface ReadonlyUint8Array extends Omit<Uint8Array, TypedArrayMutableProperties> {\n    readonly [n: number]: number;\n}\n\n// Readonly RGB color value\nexport type Color = readonly [r: byte, g: byte, b: byte];\n","import Disk2 from 'js/cards/disk2';\nimport SmartPort from 'js/cards/smartport';\nimport Debugger from 'js/debugger';\nimport {\n    BlockFormat,\n    BLOCK_FORMATS,\n    DISK_FORMATS,\n    DriveNumber,\n    FloppyFormat,\n    FLOPPY_FORMATS,\n    JSONDisk,\n    MassStorage,\n} from 'js/formats/types';\nimport { includes, word } from 'js/types';\nimport { initGamepad } from 'js/ui/gamepad';\n\ntype ProgressCallback = (current: number, total: number) => void;\n\n/**\n * Routine to split a legacy hash into parts for disk loading\n *\n * @returns an padded array for 1 based indexing\n */\nexport const getHashParts = (hash: string) => {\n    const parts = hash.match(/^#([^|]*)\\|?(.*)$/) || ['', '', ''];\n    return ['', parts[1], parts[2]];\n};\n\n/**\n * Update the location hash to reflect the current disk state, if possible\n *\n * @param parts a padded array with values starting at index 1\n */\nexport const setHashParts = (parts: string[]) => {\n    window.location.hash = `#${parts[1]}` + (parts[2] ? `|${parts[2]}` : '');\n};\n\nexport const getNameAndExtension = (url: string) => {\n    const urlParts = url.split('/');\n    const file = urlParts.pop() || url;\n    const fileParts = file.split('.');\n    const ext = fileParts.pop()?.toLowerCase() || '[none]';\n    const name = decodeURIComponent(fileParts.join('.'));\n\n    return { name, ext };\n};\n\nexport const loadLocalFile = (\n    storage: MassStorage<FloppyFormat|BlockFormat>,\n    formats: typeof FLOPPY_FORMATS | typeof BLOCK_FORMATS | typeof DISK_FORMATS,\n    driveNo: DriveNumber,\n    file: File,\n) => {\n    return new Promise((resolve, reject) => {\n        const fileReader = new FileReader();\n        fileReader.onload = function () {\n            const result = this.result as ArrayBuffer;\n            const { name, ext } = getNameAndExtension(file.name);\n            if (includes(formats, ext)) {\n                initGamepad();\n                if (storage.setBinary(driveNo, name, ext, result)) {\n                    resolve(true);\n                } else {\n                    reject(`Unable to load ${name}`);\n                }\n            } else {\n                reject(`Extension \"${ext}\" not recognized.`);\n            }\n        };\n        fileReader.readAsArrayBuffer(file);\n    });\n};\n\n/**\n * Local file loading routine. Allows a File object from a file\n * selection form element to be loaded.\n *\n * @param smartPort SmartPort object\n * @param driveNo Drive number\n * @param file Browser File object to load\n * @returns true if successful\n */\nexport const loadLocalBlockFile = (smartPort: SmartPort, driveNo: DriveNumber, file: File) => {\n    return loadLocalFile(smartPort, BLOCK_FORMATS, driveNo, file);\n};\n\n/**\n * Local file loading routine. Allows a File object from a file\n * selection form element to be loaded.\n *\n * @param disk2 Disk2 object\n * @param driveNo Drive number\n * @param file Browser File object to load\n * @returns true if successful\n */\nexport const loadLocalNibbleFile = (disk2: Disk2, driveNo: DriveNumber, file: File) => {\n    return loadLocalFile(disk2, FLOPPY_FORMATS, driveNo, file);\n};\n\n/**\n * JSON loading routine, loads a JSON file at the given URL. Requires\n * proper cross domain loading headers if the URL is not on the same server\n * as the emulator.\n *\n * @param disk2 Disk2 object\n * @param driveNo Drive number\n * @param url URL, relative or absolute to JSON file\n * @returns true if successful\n */\nexport const loadJSON = async (\n    disk2: Disk2,\n    driveNo: DriveNumber,\n    url: string,\n) => {\n    const response = await fetch(url);\n    if (!response.ok) {\n        throw new Error(`Error loading: ${response.statusText}`);\n    }\n    const data = await response.json() as JSONDisk;\n    if (!includes(FLOPPY_FORMATS, data.type)) {\n        throw new Error(`Type \"${data.type}\" not recognized.`);\n    }\n    disk2.setDisk(driveNo, data);\n    initGamepad(data.gamepad);\n};\n\nexport const loadHttpFile = async (\n    url: string,\n    signal?: AbortSignal,\n    onProgress?: ProgressCallback,\n): Promise<ArrayBuffer> => {\n    const response = await fetch(url, signal ? { signal } : {});\n    if (!response.ok) {\n        throw new Error(`Error loading: ${response.statusText}`);\n    }\n    if (!response.body) {\n        throw new Error('Error loading: no body');\n    }\n    const reader = response.body.getReader();\n    const contentLength = parseInt(response.headers.get('content-length') || '0', 10);\n    let received = 0;\n    const chunks: Uint8Array[] = [];\n\n    let result = await reader.read();\n    onProgress?.(1, contentLength);\n    while (!result.done) {\n        chunks.push(result.value);\n        received += result.value.length;\n        onProgress?.(received, contentLength);\n        result = await reader.read();\n    }\n\n    const data = new Uint8Array(received);\n    let offset = 0;\n    for (const chunk of chunks) {\n        data.set(chunk, offset);\n        offset += chunk.length;\n    }\n\n    return data.buffer;\n};\n\n/**\n * HTTP loading routine, loads a file at the given URL. Requires\n * proper cross domain loading headers if the URL is not on the same server\n * as the emulator.\n *\n * @param smartPort SmartPort object\n * @param driveNo Drive number\n * @param url URL, relative or absolute to JSON file\n * @returns true if successful\n */\nexport const loadHttpBlockFile = async (\n    smartPort: SmartPort,\n    driveNo: DriveNumber,\n    url: string,\n    signal?: AbortSignal,\n    onProgress?: ProgressCallback\n): Promise<boolean> => {\n    const { name, ext } = getNameAndExtension(url);\n    if (!includes(BLOCK_FORMATS, ext)) {\n        throw new Error(`Extension \"${ext}\" not recognized.`);\n    }\n    const data = await loadHttpFile(url, signal, onProgress);\n    smartPort.setBinary(driveNo, name, ext, data);\n    initGamepad();\n\n    return true;\n};\n\n/**\n * HTTP loading routine, loads a file at the given URL. Requires\n * proper cross domain loading headers if the URL is not on the same server\n * as the emulator.\n *\n * @param disk2 Disk2 object\n * @param driveNo Drive number\n * @param url URL, relative or absolute to JSON file\n * @returns true if successful\n */\nexport const loadHttpNibbleFile = async (\n    disk2: Disk2,\n    driveNo: DriveNumber,\n    url: string,\n    signal?: AbortSignal,\n    onProgress?: ProgressCallback\n) => {\n    if (url.endsWith('.json')) {\n        return loadJSON(disk2, driveNo, url);\n    }\n    const { name, ext } = getNameAndExtension(url);\n    if (!includes(FLOPPY_FORMATS, ext)) {\n        throw new Error(`Extension \"${ext}\" not recognized.`);\n    }\n    const data = await loadHttpFile(url, signal, onProgress);\n    disk2.setBinary(driveNo, name, ext, data);\n    initGamepad();\n    return loadHttpFile(url, signal, onProgress);\n};\n\nexport const loadHttpUnknownFile = async (\n    smartStorageBroker: SmartStorageBroker,\n    driveNo: DriveNumber,\n    url: string,\n    signal?: AbortSignal,\n    onProgress?: ProgressCallback,\n) => {\n    const data = await loadHttpFile(url, signal, onProgress);\n    const { name, ext } = getNameAndExtension(url);\n    smartStorageBroker.setBinary(driveNo, name, ext, data);\n};\n\nexport class SmartStorageBroker implements MassStorage<unknown> {\n    constructor(private disk2: Disk2, private smartPort: SmartPort) {}\n\n    setBinary(driveNo: DriveNumber, name: string, ext: string, data: ArrayBuffer): boolean {\n        if (includes(DISK_FORMATS, ext)) {\n            if (data.byteLength >= 800 * 1024) {\n                if (includes(BLOCK_FORMATS, ext)) {\n                    this.smartPort.setBinary(driveNo, name, ext, data);\n                } else {\n                    throw new Error(`Unable to load \"${name}\"`);\n                }\n            } else if (includes(FLOPPY_FORMATS, ext)) {\n                this.disk2.setBinary(driveNo, name, ext, data);\n            } else {\n                throw new Error(`Unable to load \"${name}\"`);\n            }\n        } else {\n            throw new Error(`Extension \"${ext}\" not recognized.`);\n        }\n        return true;\n    }\n\n    getBinary(_drive: number) {\n        return null;\n    }\n}\n\n/**\n * Load binary file into memory.\n *\n * @param file File object to read into memory\n * @param address Address at which to start load\n * @param debug Debugger object\n * @returns resolves to true if successful\n */\nexport const loadLocalBinaryFile = (file: File, address: word, debug: Debugger) => {\n    return new Promise((resolve, _reject) => {\n        const fileReader = new FileReader();\n        fileReader.onload = function () {\n            const result = this.result as ArrayBuffer;\n            const bytes = new Uint8Array(result);\n            debug.setMemory(address, bytes);\n            resolve(true);\n        };\n        fileReader.readAsArrayBuffer(file);\n    });\n};\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./CPU.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./CPU.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h, JSX } from 'preact';\nimport cs from 'classnames';\nimport { useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport { Apple2 as Apple2Impl } from '../../apple2';\nimport { ControlButton } from '../ControlButton';\nimport { FileChooser } from '../FileChooser';\nimport { loadLocalBinaryFile } from '../util/files';\nimport { spawn } from '../util/promises';\nimport { toHex } from 'js/util';\n\nimport styles from './css/CPU.module.scss';\nimport debuggerStyles from './css/Debugger.module.scss';\n\nexport interface CPUProps {\n    apple2: Apple2Impl | undefined;\n}\n\ninterface DebugData {\n    memory: string;\n    registers: string;\n    running: boolean;\n    stack: string;\n    trace: string;\n    zeroPage: string;\n}\n\nconst CIDERPRESS_EXTENSION = /#([0-9a-f]{2})([0-9a-f]{4})$/i;\nconst VALID_PAGE = /^[0-9A-F]{1,2}$/i;\nconst VALID_ADDRESS = /^[0-9A-F]{1,4}$/i;\n\nconst ERROR_ICON = (\n    <div className={styles.errorIcon}>\n        <i\n            className=\"fa-solid fa-triangle-exclamation\"\n            title=\"Invalid hex address\"\n        />\n    </div>\n);\n\nexport const CPU = ({ apple2 }: CPUProps) => {\n    const debug = apple2?.getDebugger();\n    const [data, setData] = useState<DebugData>({\n        running: true,\n        registers: '',\n        stack: '',\n        trace: '',\n        zeroPage: '',\n        memory: '',\n    });\n    const [memoryPage, setMemoryPage] = useState('08');\n    const [loadAddress, setLoadAddress] = useState('0800');\n    const [run, setRun] = useState(true);\n    const animationRef = useRef<number>(0);\n\n    const animate = useCallback(() => {\n        if (debug) {\n            setData({\n                registers: debug.dumpRegisters(),\n                running: debug.isRunning(),\n                stack: debug.getStack(38),\n                trace: debug.getTrace(16),\n                zeroPage: debug.dumpPage(0),\n                memory: debug.dumpPage(parseInt(memoryPage, 16) || 0)\n            });\n        }\n        animationRef.current = requestAnimationFrame(animate);\n    }, [debug, memoryPage]);\n\n    useEffect(() => {\n        animationRef.current = requestAnimationFrame(animate);\n        return () => cancelAnimationFrame(animationRef.current);\n    }, [animate]);\n\n    const doPause = useCallback(() => {\n        apple2?.stop();\n    }, [apple2]);\n\n    const doRun = useCallback(() => {\n        apple2?.run();\n    }, [apple2]);\n\n    const doStep = useCallback(() => {\n        debug?.step();\n    }, [debug]);\n\n    const doLoadAddress = useCallback((event: JSX.TargetedEvent<HTMLInputElement>) => {\n        setLoadAddress(event.currentTarget.value);\n    }, []);\n    const doRunCheck = useCallback((event: JSX.TargetedEvent<HTMLInputElement>) => {\n        setRun(event.currentTarget.checked);\n    }, []);\n\n    const doMemoryPage = useCallback((event: JSX.TargetedEvent<HTMLInputElement>) => {\n        setMemoryPage(event.currentTarget.value);\n    }, []);\n\n    const doChooseFile = useCallback((handles: FileSystemFileHandle[]) => {\n        if (debug && handles.length === 1) {\n            spawn(async () => {\n                const file = await handles[0].getFile();\n                let atAddress = parseInt(loadAddress, 16) || 0x800;\n\n                const matches = file.name.match(CIDERPRESS_EXTENSION);\n                if (matches && matches.length === 3) {\n                    const [, , aux] = matches;\n                    atAddress = parseInt(aux, 16);\n                }\n\n                await loadLocalBinaryFile(file, atAddress, debug);\n                setLoadAddress(toHex(atAddress, 4));\n                if (run) {\n                    debug?.runAt(atAddress);\n                }\n            });\n        }\n    }, [debug, loadAddress, run]);\n\n    const {\n        memory,\n        registers,\n        running,\n        stack,\n        trace,\n        zeroPage\n    } = data;\n\n    const memoryPageValid = VALID_PAGE.test(memoryPage);\n    const loadAddressValid = VALID_ADDRESS.test(loadAddress);\n\n    return (\n        <div className={debuggerStyles.column}>\n            <span className={debuggerStyles.subHeading}>Controls</span>\n            <div className={styles.controls}>\n                {running ? (\n                    <ControlButton\n                        onClick={doPause}\n                        disabled={!apple2}\n                        title=\"Pause\"\n                        icon=\"pause\"\n                    />\n                ) : (\n                    <ControlButton\n                        onClick={doRun}\n                        disabled={!apple2}\n                        title=\"Run\"\n                        icon=\"play\"\n                    />\n                )}\n                <ControlButton\n                    onClick={doStep}\n                    disabled={!apple2 || running}\n                    title=\"Step\"\n                    icon=\"forward-step\"\n                />\n            </div>\n            <div className={debuggerStyles.row}>\n                <div className={debuggerStyles.column}>\n                    <span className={debuggerStyles.subHeading}>Registers</span>\n                    <pre tabIndex={-1}>\n                        {registers}\n                    </pre>\n                    <span className={debuggerStyles.subHeading}>Trace</span>\n                    <pre className={styles.trace} tabIndex={-1}>\n                        {trace}\n                    </pre>\n                    <span className={debuggerStyles.subHeading}>ZP</span>\n                    <pre className={styles.zeroPage} tabIndex={-1}>\n                        {zeroPage}\n                    </pre>\n                </div>\n                <div className={debuggerStyles.column}>\n                    <span className={debuggerStyles.subHeading}>Stack</span>\n                    <pre className={styles.stack} tabIndex={-1}>\n                        {stack}\n                    </pre>\n                </div>\n            </div>\n            <div>\n                <hr />\n                <span className={debuggerStyles.subHeading}>Memory Page: $ </span>\n                <input\n                    value={memoryPage}\n                    onChange={doMemoryPage}\n                    maxLength={2}\n                    className={cs({ [styles.invalid]: !memoryPageValid })}\n                />\n                {memoryPageValid ? null : ERROR_ICON}\n                <pre className={styles.zp} tabIndex={-1}>\n                    {memory}\n                </pre>\n            </div>\n            <div>\n                <hr />\n                <span className={debuggerStyles.subHeading}>Load File: $ </span>\n                <input\n                    type=\"text\"\n                    value={loadAddress}\n                    maxLength={4}\n                    onChange={doLoadAddress}\n                    className={cs({ [styles.invalid]: !loadAddressValid })}\n                />\n                {loadAddressValid ? null : ERROR_ICON}\n                {' '}\n                <input type=\"checkbox\" checked={run} onChange={doRunCheck} />Run\n                <div className={styles.fileChooser}>\n                    <FileChooser onChange={doChooseFile} />\n                </div>\n            </div>\n        </div>\n    );\n};\n","import { memory } from './types';\n\nconst B64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n/** Encode an array of bytes in base64. */\nexport function base64_encode(data: null | undefined): undefined;\nexport function base64_encode(data: memory): string;\nexport function base64_encode(data: memory | null | undefined): string | undefined {\n    // Twacked by Will Scullin to handle arrays of 'bytes'\n\n    // http://kevin.vanzonneveld.net\n    // +   original by: Tyler Akins (http://rumkin.com)\n    // +   improved by: Bayron Guevara\n    // +   improved by: Thunder.m\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // +   bugfixed by: Pellentesque Malesuada\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // -    depends on: utf8_encode\n    // *     example 1: base64_encode('Kevin van Zonneveld');\n    // *     returns 1: 'S2V2aW4gdmFuIFpvbm5ldmVsZA=='\n\n    // mozilla has this native\n    // - but breaks in 2.0.0.12!\n    //if (typeof this.window['atob'] == 'function') {\n    //    return atob(data);\n    //}\n\n\n    let o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0, enc='';\n    const tmp_arr = [];\n\n    if (!data) {\n        return undefined;\n    }\n\n    do { // pack three octets into four hexets\n        o1 = data[i++];\n        o2 = data[i++];\n        o3 = data[i++];\n\n        bits = o1<<16 | o2<<8 | o3;\n\n        h1 = bits>>18 & 0x3f;\n        h2 = bits>>12 & 0x3f;\n        h3 = bits>>6 & 0x3f;\n        h4 = bits & 0x3f;\n\n        // use hexets to index into b64, and append result to encoded string\n        tmp_arr[ac++] = B64.charAt(h1) + B64.charAt(h2) + B64.charAt(h3) + B64.charAt(h4);\n    } while (i < data.length);\n\n    enc = tmp_arr.join('');\n\n    switch (data.length % 3) {\n        case 1:\n            enc = enc.slice(0, -2) + '==';\n            break;\n        case 2:\n            enc = enc.slice(0, -1) + '=';\n            break;\n    }\n\n    return enc;\n}\n\n/** Returns undefined if the input is null or undefined. */\nexport function base64_decode(data: null | undefined): undefined;\n/** Returns an array of bytes from the given base64-encoded string. */\nexport function base64_decode(data: string): memory;\n/** Returns an array of bytes from the given base64-encoded string. */\nexport function base64_decode(data: string | null | undefined): memory | undefined {\n    // Twacked by Will Scullin to handle arrays of 'bytes'\n\n    // http://kevin.vanzonneveld.net\n    // +   original by: Tyler Akins (http://rumkin.com)\n    // +   improved by: Thunder.m\n    // +      input by: Aman Gupta\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // +   bugfixed by: Onno Marsman\n    // +   bugfixed by: Pellentesque Malesuada\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // +      input by: Brett Zamir (http://brett-zamir.me)\n    // +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // -    depends on: utf8_decode\n    // *     example 1: base64_decode('S2V2aW4gdmFuIFpvbm5ldmVsZA==');\n    // *     returns 1: 'Kevin van Zonneveld'\n\n    // mozilla has this native\n    // - but breaks in 2.0.0.12!\n    //if (typeof this.window['btoa'] == 'function') {\n    //    return btoa(data);\n    //}\n\n    let o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0;\n    const tmp_arr = [];\n\n    if (!data) {\n        return undefined;\n    }\n\n    do {  // unpack four hexets into three octets using index points in B64\n        h1 = B64.indexOf(data.charAt(i++));\n        h2 = B64.indexOf(data.charAt(i++));\n        h3 = B64.indexOf(data.charAt(i++));\n        h4 = B64.indexOf(data.charAt(i++));\n\n        bits = h1<<18 | h2<<12 | h3<<6 | h4;\n\n        o1 = bits>>16 & 0xff;\n        o2 = bits>>8 & 0xff;\n        o3 = bits & 0xff;\n\n        tmp_arr[ac++] = o1;\n        if (h3 !== 64) {\n            tmp_arr[ac++] = o2;\n        }\n        if (h4 !== 64) {\n            tmp_arr[ac++] = o3;\n        }\n    } while (i < data.length);\n\n    return new Uint8Array(tmp_arr);\n}\n\nconst DATA_URL_PREFIX = 'data:application/octet-stream;base64,';\n\nexport function base64_json_parse(json: string): unknown {\n    const reviver = (_key: string, value: unknown) => {\n        if (typeof value ==='string' && value.startsWith(DATA_URL_PREFIX)) {\n            return base64_decode(value.slice(DATA_URL_PREFIX.length));\n        }\n        return value;\n    };\n\n    return JSON.parse(json, reviver);\n}\n\nexport function base64_json_stringify(json: unknown) {\n    const replacer = (_key: string, value: unknown) => {\n        if (value instanceof Uint8Array) {\n            return DATA_URL_PREFIX + base64_encode(value);\n        }\n        return value;\n    };\n\n    return JSON.stringify(json, replacer);\n}\n","import { bit, byte, memory } from '../types';\nimport { base64_decode, base64_encode } from '../base64';\nimport { bytify, debug, toHex } from '../util';\nimport { NibbleDisk, ENCODING_NIBBLE, JSONDisk, isNibbleDiskFormat, SupportedSectors } from './types';\n\n/**\n * DOS 3.3 Physical sector order (index is physical sector, value is DOS sector).\n */\nexport const DO = [\n    0x0, 0x7, 0xE, 0x6, 0xD, 0x5, 0xC, 0x4,\n    0xB, 0x3, 0xA, 0x2, 0x9, 0x1, 0x8, 0xF\n] as const;\n\n/**\n * DOS 3.3 Logical sector order (index is DOS sector, value is physical sector).\n */\nexport const _DO = [\n    0x0, 0xD, 0xB, 0x9, 0x7, 0x5, 0x3, 0x1,\n    0xE, 0xC, 0xA, 0x8, 0x6, 0x4, 0x2, 0xF\n] as const;\n\n/**\n * ProDOS Physical sector order (index is physical sector, value is ProDOS sector).\n */\nexport const PO = [\n    0x0, 0x8, 0x1, 0x9, 0x2, 0xa, 0x3, 0xb,\n    0x4, 0xc, 0x5, 0xd, 0x6, 0xe, 0x7, 0xf\n] as const;\n\n/**\n * ProDOS Logical sector order (index is ProDOS sector, value is physical sector).\n */\nexport const _PO = [\n    0x0, 0x2, 0x4, 0x6, 0x8, 0xa, 0xc, 0xe,\n    0x1, 0x3, 0x5, 0x7, 0x9, 0xb, 0xd, 0xf\n] as const;\n\n/**\n * DOS 13-sector disk physical sector order (index is disk sector, value is\n * physical sector).\n */\nexport const D13O = [\n    0x0, 0xa, 0x7, 0x4, 0x1, 0xb, 0x8, 0x5, 0x2, 0xc, 0x9, 0x6, 0x3\n] as const;\n\nexport const _D13O = [\n    0x0, 0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9, 0xa, 0xb, 0xc\n] as const;\n\nconst TRANS53 = [\n    0xab, 0xad, 0xae, 0xaf, 0xb5, 0xb6, 0xb7, 0xba,\n    0xbb, 0xbd, 0xbe, 0xbf, 0xd6, 0xd7, 0xda, 0xdb,\n    0xdd, 0xde, 0xdf, 0xea, 0xeb, 0xed, 0xee, 0xef,\n    0xf5, 0xf6, 0xf7, 0xfa, 0xfb, 0xfd, 0xfe, 0xff\n] as const;\n\nexport const DETRANS53 = [\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // A0\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x02, 0x03, // A8\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x05, 0x06, // B0\n    0x00, 0x00, 0x07, 0x08, 0x00, 0x09, 0x0A, 0x0B, // B8\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // C0\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // C8\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0C, 0x0D, // D0\n    0x00, 0x00, 0x0E, 0x0F, 0x00, 0x10, 0x11, 0x12, // D8\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // E0\n    0x00, 0x00, 0x13, 0x14, 0x00, 0x15, 0x16, 0x17, // E8\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x19, 0x1A, // F0\n    0x00, 0x00, 0x1B, 0x1C, 0x00, 0x1D, 0x1E, 0x1F, // F8\n] as const;\n\nconst TRANS62 = [\n    0x96, 0x97, 0x9a, 0x9b, 0x9d, 0x9e, 0x9f, 0xa6,\n    0xa7, 0xab, 0xac, 0xad, 0xae, 0xaf, 0xb2, 0xb3,\n    0xb4, 0xb5, 0xb6, 0xb7, 0xb9, 0xba, 0xbb, 0xbc,\n    0xbd, 0xbe, 0xbf, 0xcb, 0xcd, 0xce, 0xcf, 0xd3,\n    0xd6, 0xd7, 0xd9, 0xda, 0xdb, 0xdc, 0xdd, 0xde,\n    0xdf, 0xe5, 0xe6, 0xe7, 0xe9, 0xea, 0xeb, 0xec,\n    0xed, 0xee, 0xef, 0xf2, 0xf3, 0xf4, 0xf5, 0xf6,\n    0xf7, 0xf9, 0xfa, 0xfb, 0xfc, 0xfd, 0xfe, 0xff\n] as const;\n\nexport const DETRANS62 = [\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,\n    0x00, 0x00, 0x02, 0x03, 0x00, 0x04, 0x05, 0x06,\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x08,\n    0x00, 0x00, 0x00, 0x09, 0x0A, 0x0B, 0x0C, 0x0D,\n    0x00, 0x00, 0x0E, 0x0F, 0x10, 0x11, 0x12, 0x13,\n    0x00, 0x14, 0x15, 0x16, 0x17, 0x18, 0x19, 0x1A,\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n    0x00, 0x00, 0x00, 0x1B, 0x00, 0x1C, 0x1D, 0x1E,\n    0x00, 0x00, 0x00, 0x1F, 0x00, 0x00, 0x20, 0x21,\n    0x00, 0x22, 0x23, 0x24, 0x25, 0x26, 0x27, 0x28,\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x29, 0x2A, 0x2B,\n    0x00, 0x2C, 0x2D, 0x2E, 0x2F, 0x30, 0x31, 0x32,\n    0x00, 0x00, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38,\n    0x00, 0x39, 0x3A, 0x3B, 0x3C, 0x3D, 0x3E, 0x3F\n] as const;\n\n/**\n * Converts a byte into its 4x4 encoded representation\n *\n * @param val byte to encode.\n * @returns A two byte array of representing the 4x4 encoding.\n */\nexport function fourXfour(val: byte): [xx: byte, yy: byte] {\n    let xx = val & 0xaa;\n    let yy = val & 0x55;\n\n    xx >>= 1;\n    xx |= 0xaa;\n    yy |= 0xaa;\n\n    return [xx, yy];\n}\n\n/**\n * Converts 2 4x4 encoded bytes into a byte value\n *\n * @param xx First encoded byte.\n * @param yy Second encoded byte.\n * @returns The decoded value.\n */\nexport function defourXfour(xx: byte, yy: byte): byte {\n    return ((xx << 1) | 0x01) & yy;\n}\n\n/**\n * Converts a raw sector into a nibblized representation to be combined into a\n * nibblized 16 sector track.\n *\n * @param volume volume number\n * @param track track number\n * @param sector sector number\n * @param data sector data\n * @returns a nibblized representation of the sector data\n */\nexport function explodeSector16(volume: byte, track: byte, sector: byte, data: memory): byte[] {\n    let buf = [];\n    let gap;\n\n    /*\n     * Gap 1/3 (40/0x28 bytes)\n     */\n\n    if (sector === 0) // Gap 1\n        gap = 0x80;\n    else { // Gap 3\n        gap = track === 0 ? 0x28 : 0x26;\n    }\n\n    for (let idx = 0; idx < gap; idx++) {\n        buf.push(0xff);\n    }\n\n    /*\n     * Address Field\n     */\n\n    const checksum = volume ^ track ^ sector;\n    buf = buf.concat([0xd5, 0xaa, 0x96]); // Address Prolog D5 AA 96\n    buf = buf.concat(fourXfour(volume));\n    buf = buf.concat(fourXfour(track));\n    buf = buf.concat(fourXfour(sector));\n    buf = buf.concat(fourXfour(checksum));\n    buf = buf.concat([0xde, 0xaa, 0xeb]); // Epilog DE AA EB\n\n    /*\n     * Gap 2 (5 bytes)\n     */\n\n    for (let idx = 0; idx < 0x05; idx++) {\n        buf.push(0xff);\n    }\n\n    /*\n     * Data Field\n     */\n\n    buf = buf.concat([0xd5, 0xaa, 0xad]); // Data Prolog D5 AA AD\n\n    const nibbles: byte[] = [];\n    const ptr2 = 0;\n    const ptr6 = 0x56;\n\n    for (let idx = 0; idx < 0x156; idx++) {\n        nibbles[idx] = 0;\n    }\n\n    let idx2 = 0x55;\n    for (let idx6 = 0x101; idx6 >= 0; idx6--) {\n        let val6 = data[idx6 % 0x100];\n        let val2: byte = nibbles[ptr2 + idx2];\n\n        val2 = (val2 << 1) | (val6 & 1);\n        val6 >>= 1;\n        val2 = (val2 << 1) | (val6 & 1);\n        val6 >>= 1;\n\n        nibbles[ptr6 + idx6] = val6;\n        nibbles[ptr2 + idx2] = val2;\n\n        if (--idx2 < 0)\n            idx2 = 0x55;\n    }\n\n    let last = 0;\n    for (let idx = 0; idx < 0x156; idx++) {\n        const val = nibbles[idx];\n        buf.push(TRANS62[last ^ val]);\n        last = val;\n    }\n    buf.push(TRANS62[last]);\n\n    buf = buf.concat([0xde, 0xaa, 0xeb]); // Epilog DE AA EB\n\n    /*\n     * Gap 3\n     */\n\n    buf.push(0xff);\n\n    return buf;\n}\n\n/**\n * Converts a raw sector into a nibblized representation to be combined into\n * a nibblized 13 sector track.\n *\n * @param volume volume number\n * @param track track number\n * @param sector sector number\n * @param data sector data\n * @returns a nibblized representation of the sector data\n */\nexport function explodeSector13(volume: byte, track: byte, sector: byte, data: memory): byte[] {\n    let buf = [];\n    let gap;\n\n    /*\n     * Gap 1/3 (40/0x28 bytes)\n     */\n\n    if (sector === 0) // Gap 1\n        gap = 0x80;\n    else { // Gap 3\n        gap = track === 0 ? 0x28 : 0x26;\n    }\n\n    for (let idx = 0; idx < gap; idx++) {\n        buf.push(0xff);\n    }\n\n    /*\n     * Address Field\n     */\n\n    const checksum = volume ^ track ^ sector;\n    buf = buf.concat([0xd5, 0xaa, 0xb5]); // Address Prolog D5 AA B5\n    buf = buf.concat(fourXfour(volume));\n    buf = buf.concat(fourXfour(track));\n    buf = buf.concat(fourXfour(sector));\n    buf = buf.concat(fourXfour(checksum));\n    buf = buf.concat([0xde, 0xaa, 0xeb]); // Epilog DE AA EB\n\n    /*\n     * Gap 2 (5 bytes)\n     */\n\n    for (let idx = 0; idx < 0x05; idx++) {\n        buf.push(0xff);\n    }\n\n    /*\n     * Data Field\n     */\n\n    buf = buf.concat([0xd5, 0xaa, 0xad]); // Data Prolog D5 AA AD\n\n    const nibbles = [];\n\n    let jdx = 0;\n    for (let idx = 0x32; idx >= 0; idx--) {\n        const a5 = data[jdx] >> 3;\n        const a3 = data[jdx] & 0x07;\n        jdx++;\n        const b5 = data[jdx] >> 3;\n        const b3 = data[jdx] & 0x07;\n        jdx++;\n        const c5 = data[jdx] >> 3;\n        const c3 = data[jdx] & 0x07;\n        jdx++;\n        const d5 = data[jdx] >> 3;\n        const d3 = data[jdx] & 0x07;\n        jdx++;\n        const e5 = data[jdx] >> 3;\n        const e3 = data[jdx] & 0x07;\n        jdx++;\n        nibbles[idx + 0x00] = a5;\n        nibbles[idx + 0x33] = b5;\n        nibbles[idx + 0x66] = c5;\n        nibbles[idx + 0x99] = d5;\n        nibbles[idx + 0xcc] = e5;\n        nibbles[idx + 0x100] = a3 << 2 | (d3 & 0x4) >> 1 | (e3 & 0x4) >> 2;\n        nibbles[idx + 0x133] = b3 << 2 | (d3 & 0x2) | (e3 & 0x2) >> 1;\n        nibbles[idx + 0x166] = c3 << 2 | (d3 & 0x1) << 1 | (e3 & 0x1);\n    }\n    nibbles[0xff] = data[jdx] >> 3;\n    nibbles[0x199] = data[jdx] & 0x07;\n\n    let last = 0;\n    for (let idx = 0x199; idx >= 0x100; idx--) {\n        const val = nibbles[idx];\n        buf.push(TRANS53[last ^ val]);\n        last = val;\n    }\n    for (let idx = 0x0; idx < 0x100; idx++) {\n        const val = nibbles[idx];\n        buf.push(TRANS53[last ^ val]);\n        last = val;\n    }\n    buf.push(TRANS53[last]);\n\n    buf = buf.concat([0xde, 0xaa, 0xeb]); // Epilog DE AA EB\n\n    /*\n     * Gap 3\n     */\n\n    buf.push(0xff);\n\n    return buf;\n}\n\nexport interface TrackNibble {\n    track: byte;\n    sector: byte;\n    nibble: byte;\n    sectors: SupportedSectors;\n}\n\nenum LookingFor {\n    START_OF_FIELD_MARKER_FIRST_NIBBLE,\n    START_OF_FIELD_MARKER_SECOND_NIBBLE,\n    FIELD_TYPE_MARKER,\n    ADDRESS_FIELD,\n    ADDRESS_FIELD_13,\n    DATA_FIELD_6AND2,\n    DATA_FIELD_5AND3,\n}\n\nexport class FindSectorError extends Error {\n    constructor(track: byte, sector: byte, e: unknown | Error | string) {\n        super(`Error finding track ${track} (${toHex(track)}), sector ${sector} (${toHex(sector)}): `\n            + (e instanceof Error\n                ? `${e.message}`\n                : `${String(e)}`));\n    }\n}\n\n/**\n * Finds a sector of data from a nibblized disk. The sector given should be the\n * \"physical\" sector number, meaning the one that appears in the address field.\n * The first sector with the right sector number and data whose checksum matches\n * is returned. This means that for a dual-boot disk (DOS 3.2 and DOS 3.3),\n * whichever sector is found first wins.\n *\n * @param disk Nibble disk\n * @param track track number to read\n * @param sector sector number to read\n * @returns the track, sector, nibble offset, and detected sectors\n */\nexport function findSector(disk: NibbleDisk, track: byte, sector: byte): TrackNibble {\n    const cur = disk.tracks[track];\n    let sectors: SupportedSectors = 16;\n    let state = LookingFor.START_OF_FIELD_MARKER_FIRST_NIBBLE;\n    let idx = 0;\n    let retry = 0;\n\n    function _readNext() {\n        const result = cur[idx++];\n        if (idx >= cur.length) {\n            idx = 0;\n            retry++;\n        }\n        return result;\n    }\n    function _skipBytes(count: number) {\n        idx += count;\n        if (idx >= cur.length) {\n            idx %= cur.length;\n            retry++;\n        }\n    }\n    let t = 0, s = 0, v = 0, checkSum;\n    while (retry < 4) {\n        let val: byte;\n        switch (state) {\n            case LookingFor.START_OF_FIELD_MARKER_FIRST_NIBBLE:\n                val = _readNext();\n                state = (val === 0xd5)\n                    ? LookingFor.START_OF_FIELD_MARKER_SECOND_NIBBLE\n                    : LookingFor.START_OF_FIELD_MARKER_FIRST_NIBBLE;\n                break;\n            case LookingFor.START_OF_FIELD_MARKER_SECOND_NIBBLE:\n                val = _readNext();\n                state = (val === 0xaa)\n                    ? LookingFor.FIELD_TYPE_MARKER\n                    : LookingFor.START_OF_FIELD_MARKER_FIRST_NIBBLE;\n                break;\n            case LookingFor.FIELD_TYPE_MARKER:\n                val = _readNext();\n                switch (val) {\n                    case 0x96:\n                        state = LookingFor.ADDRESS_FIELD;\n                        sectors = 16;\n                        break;\n                    case 0xB5:\n                        state = LookingFor.ADDRESS_FIELD;\n                        sectors = 13;\n                        break;\n                    case 0xAD:\n                        state = sectors === 16 ? LookingFor.DATA_FIELD_6AND2 : LookingFor.DATA_FIELD_5AND3;\n                        break;\n                    default:\n                        state = LookingFor.START_OF_FIELD_MARKER_FIRST_NIBBLE;\n                }\n                break;\n            case LookingFor.ADDRESS_FIELD:\n                v = defourXfour(_readNext(), _readNext()); // Volume\n                t = defourXfour(_readNext(), _readNext()); // Track\n                s = defourXfour(_readNext(), _readNext()); // Sector\n                checkSum = defourXfour(_readNext(), _readNext());\n                if (checkSum !== (v ^ t ^ s)) {\n                    debug('Invalid header checksum:', toHex(v), toHex(t), toHex(s), toHex(checkSum));\n                }\n                _skipBytes(3); // Skip footer\n                state = 0;\n                break;\n            case LookingFor.DATA_FIELD_6AND2:\n                if (s === sector && t === track) {\n                    // Save start of data\n                    const nibble = idx;\n\n                    // Do checksum on data\n                    let last = 0;\n                    for (let jdx = 0; jdx < 0x156; jdx++) {\n                        last = DETRANS62[_readNext() - 0x80] ^ last;\n                    }\n                    const checkSum = DETRANS62[_readNext() - 0x80] ^ last;\n                    // Validate checksum before returning\n                    if (!checkSum) {\n                        return { track, sector, nibble, sectors };\n                    } else {\n                        debug('Invalid data checksum:', toHex(last), toHex(track), toHex(sector), toHex(checkSum));\n                    }\n                    _skipBytes(3); // Skip footer\n                }\n                else\n                    _skipBytes(0x159); // Skip data, checksum and footer\n                state = LookingFor.START_OF_FIELD_MARKER_FIRST_NIBBLE;\n                break;\n            case LookingFor.DATA_FIELD_5AND3:\n                if (s === sector && t === track) {\n                    // Save start of data\n                    const nibble = idx;\n\n                    // Do checksum on data\n                    let last = 0;\n                    for (let jdx = 0; jdx < 0x19A; jdx++) {\n                        last = DETRANS53[_readNext() - 0xA0] ^ last;\n                    }\n                    const checkSum = DETRANS53[_readNext() - 0xA0] ^ last;\n                    // Validate checksum before returning\n                    if (!checkSum) {\n                        return { track, sector, nibble, sectors };\n                    } else {\n                        debug('Invalid data checksum:', toHex(last), toHex(track), toHex(sector), toHex(checkSum));\n                    }\n                    _skipBytes(3); // Skip footer\n                }\n                else {\n                    _skipBytes(0x19A); // Skip data, checksum and footer\n                }\n                state = LookingFor.START_OF_FIELD_MARKER_FIRST_NIBBLE;\n                break;\n            default:\n                state = LookingFor.START_OF_FIELD_MARKER_FIRST_NIBBLE;\n                break;\n        }\n    }\n    throw new FindSectorError(track, sector, `too many retries (${retry})`);\n}\n\nexport class InvalidChecksum extends Error {\n    constructor(expected: byte, received: byte) {\n        super(`Expected: ${toHex(expected)}, received: ${toHex(received)}`);\n    }\n}\n\nexport class ReadSectorError extends Error {\n    constructor(track: byte, sector: byte, e: unknown | Error) {\n        super(`Error reading track ${track} (${toHex(track)}), sector ${sector} (${toHex(sector)}): `\n            + (e instanceof Error\n                ? `${e.message}`\n                : `${String(e)}`));\n    }\n}\n\n/**\n * Reads a sector of data from a nibblized disk. The sector given should be the\n * \"physical\" sector number, meaning the one that appears in the address field. \n * Like `findSector`, the first sector with the right sector number and data\n * whose checksum matches is returned. This means that for a dual-boot disk\n * (DOS 3.2 and DOS 3.3), whichever sector is found first wins.\n *\n * This does not work for WOZ disks.\n * \n * If the given track and sector combination is not found, a `ReadSectorError`\n * will be thrown.\n *\n * @param disk Nibble disk\n * @param track track number to read\n * @param sector sector number to read\n * @returns An array of sector data bytes.\n */\nexport function readSector(disk: NibbleDisk, track: byte, sector: byte): Uint8Array {\n    const trackNibble = findSector(disk, track, sector);\n    const { nibble, sectors } = trackNibble;\n    const cur = disk.tracks[track];\n\n    let idx = nibble;\n    const _readNext = () => {\n        const result = cur[idx++];\n        if (idx >= cur.length) {\n            idx = 0;\n        }\n        return result;\n    };\n\n    try {\n        return sectors === 13 ? readSector13(_readNext) : readSector16(_readNext);\n    } catch (e: unknown) {\n        throw new ReadSectorError(track, sector, e);\n    }\n}\n\nfunction readSector16(_readNext: () => byte): Uint8Array {\n    const data = new Uint8Array(256);\n    const data2 = [];\n    let last: byte = 0;\n    let val;\n\n    for (let jdx = 0x55; jdx >= 0; jdx--) {\n        val = DETRANS62[_readNext() - 0x80] ^ last;\n        data2[jdx] = val;\n        last = val;\n    }\n    for (let jdx = 0; jdx < 0x100; jdx++) {\n        val = DETRANS62[_readNext() - 0x80] ^ last;\n        data[jdx] = val;\n        last = val;\n    }\n    const checkSum = DETRANS62[_readNext() - 0x80] ^ last;\n    if (checkSum) {\n        throw new InvalidChecksum(last, checkSum ^ last);\n    }\n    for (let kdx = 0, jdx = 0x55; kdx < 0x100; kdx++) {\n        data[kdx] <<= 1;\n        if ((data2[jdx] & 0x01) !== 0) {\n            data[kdx] |= 0x01;\n        }\n        data2[jdx] >>= 1;\n\n        data[kdx] <<= 1;\n        if ((data2[jdx] & 0x01) !== 0) {\n            data[kdx] |= 0x01;\n        }\n        data2[jdx] >>= 1;\n\n        if (--jdx < 0) jdx = 0x55;\n    }\n    return data;\n}\n\nfunction readSector13(_readNext: () => byte) {\n    const data = new Uint8Array(256);\n    let val: byte;\n    let last: byte = 0;\n\n    // special low 3-bits of 0xFF\n    val = DETRANS53[_readNext() - 0xA0] ^ last;\n    last = val;\n    data[0xff] = val & 0b111;\n\n    // expect 0x99 nibbles of packed lower 3-bits in reverse order\n    for (let i = 0x98; i >= 0x00; i--) {\n        val = DETRANS53[_readNext() - 0xA0] ^ last;\n        last = val;\n        const off = Math.floor(i / 0x33) + 5 * (0x32 - (i % 0x33));\n        const dOff = 3 + 5 * (0x32 - (i % 0x33));\n        const eOff = 4 + 5 * (0x32 - (i % 0x33));\n        const bit = 2 - Math.floor(i / 0x33);\n        data[off] = (val & 0b11100) >> 2;\n        data[dOff] ^= ((val & 0b00010) >> 1) << bit;\n        data[eOff] ^= (val & 0b1) << bit;\n    }\n\n    // expect 0xFE nibbles of upper 5-bits\n    for (let i = 0; i < 0xFF; i++) {\n        val = DETRANS53[_readNext() - 0xA0] ^ last;\n        last = val;\n        const off = Math.floor(i / 0x33) + 5 * (0x32 - (i % 0x33));\n        data[off] ^= val << 3;\n    }\n\n    // and the last special nibble for 0xFF\n    val = DETRANS53[_readNext() - 0xA0] ^ last;\n    last = val;\n    data[0xFF] ^= val << 3;\n\n    const checkSum = DETRANS53[_readNext() - 0xA0] ^ last;\n    if (checkSum) {\n        throw new InvalidChecksum(last, checkSum ^ last);\n    }\n    return data;\n}\n\n/**\n * Reads a sector of data from a nibblized disk\n *\n * TODO(flan): Does not work on WOZ disks\n *\n * @param disk Nibble disk\n * @param track track number to read\n * @param sector sector number to read\n * @returns An array of sector data bytes.\n */\nexport function writeSector(disk: NibbleDisk, track: byte, sector: byte, _data: Uint8Array): boolean {\n    const trackNibble = findSector(disk, track, sector);\n    if (!trackNibble) {\n        return false;\n    }\n\n    // Todo\n\n    return true;\n}\n\n/**\n * Convert a nibblized disk into a JSON string for storage.\n *\n * @param disk Nibblized disk\n * @param pretty Whether to format the output string\n * @returns A JSON string representing the disk\n */\nexport function jsonEncode(disk: NibbleDisk, pretty: boolean): string {\n    // For 'nib', tracks are encoded as strings. For all other formats,\n    // tracks are arrays of sectors which are encoded as strings.\n    const data: string[] | string[][] = [];\n    let format = 'dsk';\n    for (let t = 0; t < disk.tracks.length; t++) {\n        data[t] = [];\n        if (disk.format === 'nib') {\n            format = 'nib';\n            data[t] = base64_encode(disk.tracks[t]);\n        } else {\n            for (let s = 0; s < 0x10; s++) {\n                const _sector = disk.format === 'po' ? _PO[s] : _DO[s];\n                (data[t] as string[])[s] = base64_encode(readSector(disk, t, _sector));\n            }\n        }\n    }\n    return JSON.stringify({\n        'type': format,\n        'encoding': 'base64',\n        'volume': disk.volume,\n        'data': data,\n        'readOnly': disk.readOnly,\n    }, undefined, pretty ? '    ' : undefined);\n}\n\n/**\n * Convert a JSON string into a nibblized disk.\n *\n * @param data JSON string representing a disk image, created by [jsonEncode].\n * @returns A nibblized disk\n */\n\nexport function jsonDecode(data: string): NibbleDisk {\n    const tracks: memory[] = [];\n    const json = JSON.parse(data) as JSONDisk;\n    const v = json.volume || 254;\n    const readOnly = json.readOnly || false;\n    for (let t = 0; t < json.data.length; t++) {\n        let track: byte[] = [];\n        for (let s = 0; s < json.data[t].length; s++) {\n            const _s = json.type === 'po' ? PO[s] : DO[s];\n            const sector: string = json.data[t][_s] as string;\n            const d = base64_decode(sector);\n            track = track.concat(explodeSector16(v, t, s, d));\n        }\n        tracks[t] = bytify(track);\n    }\n    if (!isNibbleDiskFormat(json.type)) {\n        throw new Error(`JSON disks of type ${json.type} are not supported`);\n    }\n    const disk: NibbleDisk = {\n        volume: v,\n        format: json.type,\n        encoding: ENCODING_NIBBLE,\n        metadata: { name: json.name },\n        tracks,\n        readOnly,\n    };\n\n    return disk;\n}\n\n/**\n * Debugging method that displays the logical sector ordering of a nibblized disk\n *\n * @param disk\n */\n\nexport function analyseDisk(disk: NibbleDisk) {\n    for (let track = 0; track < disk.tracks.length; track++) {\n        let outStr = `${toHex(track)}: `;\n        let val, state = 0;\n        let idx = 0;\n        const cur = disk.tracks[track];\n\n        const _readNext = () => {\n            const result = cur[idx++];\n            return result;\n        };\n\n        const _skipBytes = (count: number) => {\n            idx += count;\n        };\n\n        let t = 0, s = 0, v = 0, checkSum;\n        while (idx < cur.length) {\n            switch (state) {\n                case 0:\n                    val = _readNext();\n                    state = (val === 0xd5) ? 1 : 0;\n                    break;\n                case 1:\n                    val = _readNext();\n                    state = (val === 0xaa) ? 2 : 0;\n                    break;\n                case 2:\n                    val = _readNext();\n                    state = (val === 0x96) ? 3 : (val === 0xad ? 4 : 0);\n                    break;\n                case 3: // Address\n                    v = defourXfour(_readNext(), _readNext()); // Volume\n                    t = defourXfour(_readNext(), _readNext());\n                    s = defourXfour(_readNext(), _readNext());\n                    checkSum = defourXfour(_readNext(), _readNext());\n                    if (checkSum !== (v ^ t ^ s)) {\n                        debug('Invalid header checksum:', toHex(v), toHex(t), toHex(s), toHex(checkSum));\n                    } else {\n                        outStr += toHex(s, 1);\n                    }\n                    _skipBytes(3); // Skip footer\n                    state = 0;\n                    break;\n                case 4: // Valid header\n                    _skipBytes(0x159); // Skip data, checksum and footer\n                    state = 0;\n                    break;\n                default:\n                    break;\n            }\n        }\n        debug(outStr);\n    }\n}\n\n/**\n * Debugging utility to convert a bitstream into a nibble. Does not wrap.\n *\n * @param bits Bitstream containing nibbles\n * @param offset Offset into bitstream to start nibblizing\n * @returns nibble, the next nibble in the bitstream,\n *      and offset, the end of that nibble in the bitstream\n */\n\nexport function grabNibble(bits: bit[], offset: number) {\n    let nibble = 0;\n    let waitForOne = true;\n\n    while (offset < bits.length) {\n        const bit = bits[offset];\n        if (bit) {\n            nibble = (nibble << 1) | 0x01;\n            waitForOne = false;\n        } else {\n            if (!waitForOne) {\n                nibble = nibble << 1;\n            }\n        }\n        if (nibble & 0x80) {\n            // nibble complete return it\n            break;\n        }\n        offset += 1;\n    }\n\n    return {\n        nibble: nibble,\n        offset: offset\n    };\n}\n","import { explodeSector16, DO } from './format_utils';\nimport { bytify } from '../util';\nimport { byte } from '../types';\nimport { NibbleDisk, DiskOptions, ENCODING_NIBBLE } from './types';\n\n/**\n * Returns a `Disk` object from DOS-ordered image data.\n * @param options the disk image and options\n * @returns A nibblized disk\n */\nexport default function createDiskFromDOS(options: DiskOptions): NibbleDisk {\n    const { data, name, side, rawData, volume, readOnly } = options;\n    const disk: NibbleDisk = {\n        format: 'dsk',\n        encoding: ENCODING_NIBBLE,\n        metadata: { name, side },\n        volume,\n        readOnly,\n        tracks: [],\n    };\n\n    for (let t = 0; t < 35; t++) {\n        let track: byte[] = [];\n        for (let physical_sector = 0; physical_sector < 16; physical_sector++) {\n            const dos_sector = DO[physical_sector];\n            let sector: Uint8Array;\n            if (rawData) {\n                const off = (16 * t + dos_sector) * 256;\n                sector = new Uint8Array(rawData.slice(off, off + 256));\n            } else if (data) {\n                sector = new Uint8Array(data[t][dos_sector]);\n            } else {\n                throw new Error('Requires data or rawData');\n            }\n            track = track.concat(\n                explodeSector16(volume, t, physical_sector, sector)\n            );\n        }\n        disk.tracks[t] = bytify(track);\n    }\n    return disk;\n}\n","import { NibbleDisk, DiskOptions, ENCODING_NIBBLE } from './types';\nimport { memory } from '../types';\n\n/**\n * Returns a `Disk` object from raw nibble image data.\n * @param options the disk image and options\n * @returns A nibblized disk\n */\nexport default function createDiskFromNibble(options: DiskOptions): NibbleDisk {\n    const { data, name, side, rawData, volume, readOnly } = options;\n    const disk: NibbleDisk = {\n        format: 'nib',\n        encoding: ENCODING_NIBBLE,\n        metadata: { name, side },\n        volume: volume || 254,\n        readOnly: readOnly || false,\n        tracks: []\n    };\n\n    for (let t = 0; t < 35; t++) {\n        let track: memory;\n        if (rawData) {\n            const off = t * 0x1a00;\n            track = new Uint8Array(rawData.slice(off, off + 0x1a00));\n        } else if (data) {\n            track = data[t][0];\n        } else {\n            throw new Error('Requires data or rawData');\n        }\n        disk.tracks[t] = track;\n    }\n\n    return disk;\n}\n","import { explodeSector16, PO } from './format_utils';\nimport { bytify } from '../util';\nimport type { byte } from '../types';\nimport { NibbleDisk, DiskOptions, ENCODING_NIBBLE } from './types';\n\n/**\n * Returns a `Disk` object from ProDOS-ordered image data.\n * @param options the disk image and options\n * @returns A nibblized disk\n */\nexport default function createDiskFromProDOS(options: DiskOptions) {\n    const { data, name, side, rawData, volume, readOnly } = options;\n    const disk: NibbleDisk = {\n        format: 'po',\n        encoding: ENCODING_NIBBLE,\n        metadata: { name, side },\n        volume: volume || 254,\n        tracks: [],\n        readOnly: readOnly || false,\n    };\n\n    for (let physical_track = 0; physical_track < 35; physical_track++) {\n        let track: byte[] = [];\n        for (let physical_sector = 0; physical_sector < 16; physical_sector++) {\n            const prodos_sector = PO[physical_sector];\n            let sector;\n            if (rawData) {\n                const off = (16 * physical_track + prodos_sector) * 256;\n                sector = new Uint8Array(rawData.slice(off, off + 256));\n            } else if (data) {\n                sector = data[physical_track][prodos_sector];\n            } else {\n                throw new Error('Requires data or rawData');\n            }\n            track = track.concat(\n                explodeSector16(volume, physical_track, physical_sector, sector)\n            );\n        }\n        disk.tracks[physical_track] = bytify(track);\n    }\n\n    return disk;\n}\n","import DOS from './do';\nimport Nibble from './nib';\nimport ProDOS from './po';\nimport { BlockDisk, DiskOptions } from './types';\n\nimport { byte, ReadonlyUint8Array } from 'js/types';\n\n/**\n * Offsets in bytes to the various header fields. All number fields are\n * in little-endian order (least significant byte first). These values\n * come from the spec at:\n *\n * https://apple2.org.za/gswv/a2zine/Docs/DiskImage_2MG_Info.txt\n */\nconst OFFSETS = {\n    /** File signature ('2IMG', 4 bytes) */\n    SIGNATURE: 0x00,\n    /** Creator ID (4 bytes) */\n    CREATOR: 0x04,\n    /** Header length (2 bytes) */\n    HEADER_LENGTH: 0x08,\n    /** Version number (2 bytes). (Version of what? Format? Image?). */\n    VERSION: 0x0A,\n    /** Image format ID (4 bytes) */\n    FORMAT: 0x0C,\n    /** Flags and DOS 3.3 volume number */\n    FLAGS: 0x10,\n    /**\n     * Number of ProDOS blocks (4 bytes). ProDOS blocks are 512 bytes each.\n     * This field must be zero if the image format is not 0x01 (ProDOS).\n     * (ASIMOV2 always fills in this field.)\n     */\n    BLOCKS: 0x14,\n    /**\n     * Disk data start in bytes from the beginning of the image file\n     * (4 bytes).\n     */\n    DATA_OFFSET: 0x18,\n    /**\n     * Length of disk data in bytes (4 bytes). (143,360 bytes for 5.25\"\n     * floppies; 512  blocks for ProDOS volumes.)\n     */\n    DATA_LENGTH: 0x1C,\n    /**\n     * Comment start in bytes from the beginning of the image file (4 bytes).\n     * Must be zero if there is no comment. The comment must come after the\n     * disk data and before the creator data. The comment should be \"raw text\"\n     * with no terminating null. By \"raw text\", we assume UTF-8.\n     */\n    COMMENT: 0x20,\n    /**\n     * Comment length in bytes (4 bytes). Must be zero if there is no comment.\n     */\n    COMMENT_LENGTH: 0x24,\n    /**\n     * Optional creator data start in bytes from the beginning of the image\n     * file (4 bytes). Must be zero if there is no creator data.\n     */\n    CREATOR_DATA: 0x28,\n    /**\n     * Creator data length in bytes (4 bytes). Must be zero if there is no\n     * creator data.\n     */\n    CREATOR_DATA_LENGTH: 0x2C,\n    /** Padding (16 bytes). Must be zero. */\n    PADDING: 0x30,\n} as const;\n\nconst FLAGS = {\n    READ_ONLY:    0x80000000,\n    VOLUME_VALID: 0x00000100,\n    VOLUME_MASK:  0x000000FF\n} as const;\n\nexport enum FORMAT {\n    DOS = 0,\n    ProDOS = 1,\n    NIB = 2,\n}\n\nexport interface HeaderData {\n    bytes: number;\n    creator: string;\n    format: FORMAT;\n    offset: number;\n    readOnly: boolean;\n    volume: byte;\n    comment?: string;\n    creatorData?: ReadonlyUint8Array;\n}\n\nexport function read2MGHeader(rawData: ArrayBuffer): HeaderData {\n    const prefix = new DataView(rawData);\n    const decoder = new TextDecoder('ascii');\n    const signature = decoder.decode(rawData.slice(OFFSETS.SIGNATURE, OFFSETS.SIGNATURE + 4));\n    if (signature !== '2IMG') {\n        throw new Error(`Unrecognized 2mg signature: ${signature}`);\n    }\n    const creator = decoder.decode(rawData.slice(OFFSETS.CREATOR, OFFSETS.CREATOR + 4));\n    const headerLength = prefix.getInt16(OFFSETS.HEADER_LENGTH, true);\n    if (headerLength !== 64) {\n        throw new Error(`2mg header length is incorrect ${headerLength} !== 64`);\n    }\n    const format = prefix.getInt32(OFFSETS.FORMAT, true);\n    const flags = prefix.getInt32(OFFSETS.FLAGS, true);\n    const blocks = prefix.getInt32(OFFSETS.BLOCKS, true);\n    const offset = prefix.getInt32(OFFSETS.DATA_OFFSET, true);\n    const bytes = prefix.getInt32(OFFSETS.DATA_LENGTH, true);\n    const commentOffset = prefix.getInt32(OFFSETS.COMMENT, true);\n    const commentLength = prefix.getInt32(OFFSETS.COMMENT_LENGTH, true);\n    const creatorDataOffset = prefix.getInt32(OFFSETS.CREATOR_DATA, true);\n    const creatorDataLength = prefix.getInt32(OFFSETS.CREATOR_DATA_LENGTH, true);\n\n    // Though the spec says that it should be zero if the format is not\n    // ProDOS, we don't check that since we know that it is violated.\n    // However we do check that it's correct if the image _is_ ProDOS.\n    if (format === FORMAT.ProDOS && blocks * 512 !== bytes) {\n        throw new Error(`2mg blocks does not match disk data length: ${blocks} * 512 !== ${bytes}`);\n    }\n    if (offset < headerLength) {\n        throw new Error(`2mg data offset is less than header length: ${offset} < ${headerLength}`);\n    }\n    if (offset + bytes > prefix.byteLength) {\n        throw new Error(`2mg data extends beyond disk image: ${offset} + ${bytes} > ${prefix.byteLength}`);\n    }\n    const dataEnd = offset + bytes;\n    if (commentOffset && commentOffset < dataEnd) {\n        throw new Error(`2mg comment is before the end of the disk data: ${commentOffset} < ${offset} + ${bytes}`);\n    }\n    const commentEnd = commentOffset ? commentOffset + commentLength : dataEnd;\n    if (commentEnd > prefix.byteLength) {\n        throw new Error(`2mg comment extends beyond disk image: ${commentEnd} > ${prefix.byteLength}`);\n    }\n    if (creatorDataOffset && creatorDataOffset < commentEnd) {\n        throw new Error(`2mg creator data is before the end of the comment: ${creatorDataOffset} < ${commentEnd}`);\n    }\n    const creatorDataEnd = creatorDataOffset ? creatorDataOffset + creatorDataLength : commentEnd;\n    if (creatorDataEnd > prefix.byteLength) {\n        throw new Error(`2mg creator data extends beyond disk image: ${creatorDataEnd} > ${prefix.byteLength}`);\n    }\n\n    const extras: { comment?: string; creatorData?: ReadonlyUint8Array } = {};\n    if (commentOffset) {\n        extras.comment = new TextDecoder('utf-8').decode(\n            new Uint8Array(rawData, commentOffset, commentLength));\n    }\n    if (creatorDataOffset) {\n        extras.creatorData = new Uint8Array(rawData, creatorDataOffset, creatorDataLength);\n    }\n\n    const readOnly = (flags & FLAGS.READ_ONLY) !== 0;\n    let volume = format === FORMAT.DOS ? 254 : 0;\n    if (flags & FLAGS.VOLUME_VALID) {\n        volume = flags & FLAGS.VOLUME_MASK;\n    }\n\n    return {\n        bytes,\n        creator,\n        format,\n        offset,\n        readOnly,\n        volume,\n        ...extras\n    };\n}\n\n/**\n * Creates the prefix and suffix parts of a 2mg file. Will use\n * default header values if headerData is null.\n *\n * Currently only supports blocks disks but should be adaptable\n * for nibble formats.\n *\n * @param headerData 2mg header data\n * @param blocks The number of blocks in a block volume\n * @returns 2mg prefix and suffix for creating a 2mg disk image\n */\n\nexport const create2MGFragments = (headerData: HeaderData | null, { blocks } : { blocks: number }) => {\n    if (!headerData) {\n        headerData = {\n            bytes: blocks * 512,\n            creator: 'A2JS',\n            format: FORMAT.ProDOS,\n            offset: 64,\n            readOnly: false,\n            volume: 0,\n        };\n    }\n    if (headerData.format !== FORMAT.ProDOS) {\n        throw new Error('Nibble formats not supported yet');\n    }\n    if (headerData.bytes !== blocks * 512) {\n        throw new Error('Byte count does not match block count');\n    }\n    const prefix = new Uint8Array(64);\n    const prefixView = new DataView(prefix.buffer);\n\n    const volumeFlags = headerData.volume ? headerData.volume | FLAGS.VOLUME_VALID : 0;\n    const readOnlyFlag = headerData.readOnly ? FLAGS.READ_ONLY : 0;\n    const flags = volumeFlags | readOnlyFlag;\n    const prefixLength = prefix.length;\n    const dataLength = blocks * 512;\n\n    let commentOffset = 0;\n    let commentLength = 0;\n    let commentData = new Uint8Array(0);\n    if (headerData.comment) {\n        commentData = new TextEncoder().encode(headerData.comment);\n        commentOffset = prefixLength + dataLength;\n        commentLength = commentData.length;\n    }\n    let creatorDataOffset = 0;\n    let creatorDataLength = 0;\n    let creatorData = new Uint8Array(0);\n    if (headerData.creatorData) {\n        creatorData = new Uint8Array(headerData.creatorData);\n        creatorDataOffset = prefixLength + dataLength + commentLength;\n        creatorDataLength = headerData.creatorData.length;\n    }\n\n    const encoder = new TextEncoder();\n\n    prefix.set(encoder.encode('2IMG'), OFFSETS.SIGNATURE);\n    prefix.set(encoder.encode(headerData.creator.slice(0, 4)), OFFSETS.CREATOR);\n    prefixView.setInt32(OFFSETS.HEADER_LENGTH, 64, true);\n    prefixView.setInt16(OFFSETS.VERSION, 1, true);\n    prefixView.setInt32(OFFSETS.FORMAT, headerData.format, true);\n    prefixView.setInt32(OFFSETS.FLAGS, flags, true);\n    prefixView.setInt32(OFFSETS.BLOCKS, blocks, true);\n    prefixView.setInt32(OFFSETS.DATA_OFFSET, prefixLength, true);\n    prefixView.setInt32(OFFSETS.DATA_LENGTH, dataLength, true);\n    prefixView.setInt32(OFFSETS.COMMENT, commentOffset, true);\n    prefixView.setInt32(OFFSETS.COMMENT_LENGTH, commentLength, true);\n    prefixView.setInt32(OFFSETS.CREATOR_DATA, creatorDataOffset, true);\n    prefixView.setInt32(OFFSETS.CREATOR_DATA_LENGTH, creatorDataLength, true);\n\n    const suffix = new Uint8Array(commentLength + creatorDataLength);\n    suffix.set(commentData);\n    suffix.set(creatorData, commentLength);\n\n    return { prefix, suffix };\n};\n\n/**\n * Creates a 2MG image from stored 2MG header data and a block disk. Will use\n * default header values if headerData is null.\n *\n * @param headerData 2MG style header data\n * @param blocks Prodos volume blocks\n * @returns 2MS\n */\n\nexport const create2MGFromBlockDisk = (headerData: HeaderData | null, { blocks }: BlockDisk): ArrayBuffer => {\n    const { prefix, suffix } = create2MGFragments(headerData, { blocks: blocks.length });\n\n    const imageLength = prefix.length + blocks.length * 512 + suffix.length;\n    const byteArray = new Uint8Array(imageLength);\n    byteArray.set(prefix);\n    for (let idx = 0; idx < blocks.length; idx++) {\n        byteArray.set(blocks[idx], prefix.length + idx * 512);\n    }\n    byteArray.set(suffix, prefix.length + blocks.length * 512);\n\n    return byteArray.buffer;\n};\n\n/**\n * Returns a `Disk` object from a 2mg image.\n * @param options the disk image and options\n */\nexport default function createDiskFrom2MG(options: DiskOptions) {\n    let { rawData } = options;\n    let disk;\n\n    if (!rawData) {\n        throw new Error('Requires rawData');\n    }\n\n    const { bytes, format, offset, readOnly, volume } = read2MGHeader(rawData);\n    rawData = rawData.slice(offset, offset + bytes);\n    options = { ...options, rawData, readOnly, volume };\n\n    // Check image format.\n    // Sure, it's really 64 bits. But only 2 are actually used.\n    switch (format) {\n        case FORMAT.ProDOS: // PO\n            disk = ProDOS(options);\n            break;\n        case FORMAT.NIB: // NIB\n            disk = Nibble(options);\n            break;\n        case FORMAT.DOS: // dsk\n        default:  // Something hinky, assume 'dsk'\n            disk = DOS(options);\n            break;\n    }\n\n    return disk;\n}\n","import { debug, toHex } from '../util';\nimport { bit, byte, word } from '../types';\nimport { grabNibble } from './format_utils';\nimport { DiskOptions, ENCODING_BITSTREAM, WozDisk } from './types';\n\nconst WOZ_HEADER_START = 0;\nconst WOZ_HEADER_SIZE = 12;\n\nconst WOZ1_SIGNATURE = 0x315A4F57;\nconst WOZ2_SIGNATURE = 0x325A4F57;\nconst WOZ_INTEGRITY_CHECK = 0x0a0d0aff;\n\n/**\n * Converts a range of bytes from a DataView into an ASCII string\n *\n * @param data DataView containing string\n * @param start start index of string\n * @param end end index of string\n * @returns ASCII string\n */\nfunction stringFromBytes(data: DataView, start: number, end: number): string {\n    const byteArray = new Uint8Array(\n        data.buffer.slice(data.byteOffset + start, data.byteOffset + end)\n    );\n    return String.fromCharCode(...byteArray);\n}\n\nexport class InfoChunk {\n    version: byte;\n\n    // Version 1\n    diskType: byte;\n    writeProtected: byte;\n    synchronized: byte;\n    cleaned: byte;\n    creator: string;\n\n    // Version 2\n    sides: byte = 0;\n    bootSector: byte = 0;\n    bitTiming: byte = 0;\n    compatibleHardware: word = 0;\n    requiredRAM: word = 0;\n    largestTrack: word = 0;\n\n    constructor(data: DataView) {\n        this.version = data.getUint8(0);\n        this.diskType = data.getUint8(1);\n        this.writeProtected = data.getUint8(2);\n        this.synchronized = data.getUint8(3);\n        this.cleaned = data.getUint8(4);\n        this.creator = stringFromBytes(data, 5, 37);\n\n        if (this.version > 1) {\n            this.sides = data.getUint8(37);\n            this.bootSector = data.getUint8(38);\n            this.bitTiming = data.getUint8(39);\n            this.compatibleHardware = data.getUint16(40, true);\n            this.requiredRAM = data.getUint16(42, true);\n            this.largestTrack = data.getUint16(44, true);\n        }\n    }\n}\n\nexport class TMapChunk {\n    trackMap: byte[];\n\n    constructor(data: DataView) {\n        this.trackMap = [];\n\n        for (let idx = 0; idx < 160; idx++) {\n            this.trackMap.push(data.getUint8(idx));\n        }\n    }\n}\n\nconst WOZ_TRACK_SIZE = 6656;\nconst WOZ_TRACK_INFO_BITS = 6648;\n\nexport class TrksChunk {\n    rawTracks: Uint8Array[];\n    tracks: Uint8Array[];\n}\n\nexport class TrksChunk1 extends TrksChunk {\n    constructor(data: DataView) {\n        super();\n\n        this.rawTracks = [];\n        this.tracks = [];\n\n        for (let trackNo = 0, idx = 0; idx < data.byteLength; idx += WOZ_TRACK_SIZE, trackNo++) {\n            let track = [];\n            const rawTrack: bit[] = [];\n            const slice = data.buffer.slice(data.byteOffset + idx, data.byteOffset + idx + WOZ_TRACK_SIZE);\n            const trackData = new Uint8Array(slice);\n            const trackInfo = new DataView(slice);\n            const trackBitCount = trackInfo.getUint16(WOZ_TRACK_INFO_BITS, true);\n            for (let jdx = 0; jdx < trackBitCount; jdx++) {\n                const byteIndex = jdx >> 3;\n                const bitIndex = 7 - (jdx & 0x07);\n                rawTrack[jdx] = (trackData[byteIndex] >> bitIndex) & 0x01 ? 1 : 0;\n            }\n\n            track = [];\n            let offset = 0;\n            while (offset < rawTrack.length) {\n                const result = grabNibble(rawTrack, offset);\n                if (!result.nibble) { break; }\n                track.push(result.nibble);\n                offset = result.offset + 1;\n            }\n\n            this.tracks[trackNo] = new Uint8Array(track);\n            this.rawTracks[trackNo] = new Uint8Array(rawTrack);\n        }\n    }\n}\n\nexport interface Trk {\n    startBlock: word;\n    blockCount: word;\n    bitCount: number;\n}\n\nexport class TrksChunk2 extends TrksChunk {\n    trks: Trk[];\n\n    constructor (data: DataView) {\n        super();\n\n        let trackNo;\n        this.trks = [];\n        for (trackNo = 0; trackNo < 160; trackNo++) {\n            const startBlock = data.getUint16(trackNo * 8, true);\n            const blockCount = data.getUint16(trackNo * 8 + 2, true);\n            const bitCount = data.getUint32(trackNo * 8 + 4, true);\n            if (bitCount === 0) { break; }\n            this.trks.push({\n                startBlock: startBlock,\n                blockCount: blockCount,\n                bitCount: bitCount\n            });\n        }\n        this.tracks = [];\n        this.rawTracks = [];\n\n        const bits = data.buffer;\n        for (trackNo = 0; trackNo < this.trks.length; trackNo++) {\n            const trk = this.trks[trackNo];\n\n            let track = [];\n            const rawTrack: bit[] = [];\n            const start = trk.startBlock * 512;\n            const end = start + trk.blockCount * 512;\n            const slice = bits.slice(start, end);\n            const trackData = new Uint8Array(slice);\n            if (trackNo === 0) {\n                // debug(`First bytes: ${toHex(trackData[0])} ${toHex(trackData[1])} ${toHex(trackData[2])} ${toHex(trackData[3])}`);\n            }\n            for (let jdx = 0; jdx < trk.bitCount; jdx++) {\n                const byteIndex = jdx >> 3;\n                const bitIndex = 7 - (jdx & 0x07);\n                rawTrack[jdx] = (trackData[byteIndex] >> bitIndex) & 0x01 ? 1 : 0;\n            }\n\n            track = [];\n            let offset = 0;\n            while (offset < rawTrack.length) {\n                const result = grabNibble(rawTrack, offset);\n                if (!result.nibble) { break; }\n                track.push(result.nibble);\n                offset = result.offset + 1;\n            }\n\n            this.tracks[trackNo] = new Uint8Array(track);\n            this.rawTracks[trackNo] = new Uint8Array(rawTrack);\n        }\n    }\n}\n\nexport class MetaChunk  {\n    values: Record<string, string>;\n\n    constructor (data: DataView) {\n        const infoStr = stringFromBytes(data, 0, data.byteLength);\n        const parts = infoStr.split('\\n');\n        this.values = parts.reduce(function(acc: Record<string, string>, part) {\n            const subParts = part.split('\\t');\n            acc[subParts[0]] = subParts[1];\n            return acc;\n        }, {});\n    }\n}\n\ninterface Chunks {\n    [key: string]: unknown;\n    info?: InfoChunk;\n    tmap?: TMapChunk;\n    trks?: TrksChunk;\n    meta?: MetaChunk;\n}\n\n/**\n * Returns a `Disk` object from Woz image data.\n * @param options the disk image and options\n * @returns A bitstream disk\n */\nexport default function createDiskFromWoz(options: DiskOptions): WozDisk {\n    const { rawData } = options;\n    if (!rawData) {\n        throw new Error('Requires rawData');\n    }\n    const dv = new DataView(rawData, 0);\n    let dvOffset = 0;\n    let wozVersion;\n    const chunks: Chunks = {};\n\n    function readHeader() {\n        const wozSignature = dv.getUint32(WOZ_HEADER_START + 0, true);\n\n        switch (wozSignature) {\n            case WOZ1_SIGNATURE:\n                wozVersion = 1;\n                break;\n            case WOZ2_SIGNATURE:\n                wozVersion = 2;\n                break;\n            default:\n                return false;\n        }\n\n        if (dv.getUint32(WOZ_HEADER_START + 4, true) !== WOZ_INTEGRITY_CHECK) {\n            return false;\n        }\n\n        return true;\n    }\n\n    function readChunk() {\n        if (dvOffset >= dv.byteLength) {\n            return null;\n        }\n\n        const type = dv.getUint32(dvOffset, true);\n        const size = dv.getUint32(dvOffset + 4, true);\n        const data = new DataView(dv.buffer, dvOffset + 8, size);\n        dvOffset += size + 8;\n\n        return {\n            type: type,\n            size: size,\n            data: data\n        };\n    }\n\n    if (readHeader()) {\n        dvOffset = WOZ_HEADER_SIZE;\n        let chunk = readChunk();\n        while (chunk) {\n            switch (chunk.type) {\n                case 0x4F464E49: // INFO\n                    chunks.info = new InfoChunk(chunk.data);\n                    break;\n                case 0x50414D54: // TMAP\n                    chunks.tmap = new TMapChunk(chunk.data);\n                    break;\n                case 0x534B5254: // TRKS\n                    if (wozVersion === 1) {\n                        chunks.trks = new TrksChunk1(chunk.data);\n                    } else {\n                        chunks.trks = new TrksChunk2(chunk.data);\n                    }\n                    break;\n                case 0x4154454D: // META\n                    chunks.meta = new MetaChunk(chunk.data);\n                    break;\n                case 0x54495257: // WRIT\n                // Ignore\n                    break;\n                default:\n                    debug('Unsupported chunk', toHex(chunk.type, 8));\n            }\n            chunk = readChunk();\n        }\n    } else {\n        debug('Invalid woz header');\n    }\n\n    // debug(chunks);\n\n    const { meta, tmap, trks, info } = chunks;\n\n    const disk: WozDisk = {\n        encoding: ENCODING_BITSTREAM,\n        format: 'woz',\n        trackMap: tmap?.trackMap || [],\n        rawTracks: trks?.rawTracks || [],\n        readOnly: true, //chunks.info.writeProtected === 1;\n        metadata: {\n            name: meta?.values['title'] || options.name,\n            side: meta?.values['side_name'] || meta?.values['side']\n        },\n        info\n    };\n\n    return disk;\n}\n","import { includes, memory } from '../types';\nimport { base64_decode } from '../base64';\nimport { BitstreamFormat, DiskOptions, FloppyDisk, FloppyFormat, JSONDisk, NibbleDisk, NibbleFormat, NIBBLE_FORMATS, WozDisk } from './types';\nimport createDiskFrom2MG from './2mg';\nimport createDiskFromD13 from './d13';\nimport createDiskFromDOS from './do';\nimport createDiskFromProDOS from './po';\nimport createDiskFromWoz from './woz';\nimport createDiskFromNibble from './nib';\n\n/** Creates a `NibbleDisk` from the given format and options. */\nexport function createDisk(fmt: NibbleFormat, options: DiskOptions): NibbleDisk | null;\n/** Creates a `WozDisk` from the given format and options. */\nexport function createDisk(fmt: BitstreamFormat, options: DiskOptions): WozDisk | null;\n/** Creates a `FloppyDisk` (either a `NibbleDisk` or a `WozDisk`) from the given format and options. */\nexport function createDisk(fmt: FloppyFormat, options: DiskOptions): FloppyDisk | null;\nexport function createDisk(fmt: FloppyFormat, options: DiskOptions): FloppyDisk | null {\n    let disk: FloppyDisk | null = null;\n\n    switch (fmt) {\n        case '2mg':\n            disk = createDiskFrom2MG(options);\n            break;\n        case 'd13':\n            disk = createDiskFromD13(options);\n            break;\n        case 'do':\n        case 'dsk':\n            disk = createDiskFromDOS(options);\n            break;\n        case 'nib':\n            disk = createDiskFromNibble(options);\n            break;\n        case 'po':\n            disk = createDiskFromProDOS(options);\n            break;\n        case 'woz':\n            disk = createDiskFromWoz(options);\n            break;\n    }\n\n    return disk;\n}\n\n/** Creates a NibbleDisk from JSON */\nexport function createDiskFromJsonDisk(disk: JSONDisk): NibbleDisk | null {\n    const fmt = disk.type;\n    const readOnly = disk.readOnly;\n    const name = disk.name;\n    const side = disk.disk;\n\n    if (includes(NIBBLE_FORMATS, fmt)) {\n        let trackData: memory[][];\n        if (disk.encoding === 'base64') {\n            trackData = [];\n            for (let t = 0; t < disk.data.length; t++) {\n                trackData[t] = [];\n                if (disk.type === 'nib') {\n                    trackData[t][0] = base64_decode(disk.data[t]);\n                } else {\n                    for (let s = 0; s < disk.data[t].length; s++) {\n                        trackData[t][s] = base64_decode(disk.data[t][s]);\n                    }\n                }\n            }\n        } else {\n            trackData = disk.data;\n        }\n\n        const volume = disk.volume || 0xfe;\n\n        const options = {\n            volume,\n            readOnly,\n            name,\n            side,\n            data: trackData\n        } as DiskOptions;\n\n        return createDisk(fmt, options);\n    } else {\n        return null;\n    }\n}\n\n","import { explodeSector13, D13O } from './format_utils';\nimport { NibbleDisk, DiskOptions, ENCODING_NIBBLE } from './types';\n\n/**\n * Returns a `Disk` object from DOS 3.2-ordered image data.\n * @param options the disk image and options\n * @returns A nibblized disk\n */\nexport default function createDiskFromDOS13(options: DiskOptions) {\n    const { data, name, side, rawData, volume, readOnly } = options;\n    const disk: NibbleDisk = {\n        format: 'd13',\n        encoding: ENCODING_NIBBLE,\n        metadata: { name, side },\n        volume,\n        readOnly,\n        tracks: []\n    };\n\n    if (!data && !rawData) {\n        throw new Error('data or rawData required');\n    }\n\n    /*\n     * DOS 13-sector disks have the physical sectors skewed on the track. The skew\n     * between physical sectors is 10 (A), resulting in the following physical order:\n     *\n     *   0 A 7 4 1 B 8 5 2 C 9 6 3\n     *\n     * Note that because physical sector == logical sector, this works slightly\n     * differently from the DOS and ProDOS nibblizers.\n     */\n\n    for (let t = 0; t < 35; t++) {\n        let track: number[] = [];\n        for (let disk_sector = 0; disk_sector < 13; disk_sector++) {\n            const physical_sector = D13O[disk_sector];\n            let sector: Uint8Array;\n            if (rawData) {\n                const off = (13 * t + physical_sector) * 256;\n                sector = new Uint8Array(rawData.slice(off, off + 256));\n            } else if (data) {\n                sector = data[t][physical_sector];\n            } else {\n                throw new Error('Requires data or rawData');\n            }\n            track = track.concat(\n                explodeSector13(volume, t, physical_sector, sector)\n            );\n        }\n        disk.tracks.push(new Uint8Array(track));\n    }\n\n    return disk;\n}\n","import { ReadonlyUint8Array } from '../../types';\n\nexport const BOOTSTRAP_ROM_16 = new Uint8Array([\n    0xa2,0x20,0xa0,0x00,0xa2,0x03,0x86,0x3c,\n    0x8a,0x0a,0x24,0x3c,0xf0,0x10,0x05,0x3c,\n    0x49,0xff,0x29,0x7e,0xb0,0x08,0x4a,0xd0,\n    0xfb,0x98,0x9d,0x56,0x03,0xc8,0xe8,0x10,\n    0xe5,0x20,0x58,0xff,0xba,0xbd,0x00,0x01,\n    0x0a,0x0a,0x0a,0x0a,0x85,0x2b,0xaa,0xbd,\n    0x8e,0xc0,0xbd,0x8c,0xc0,0xbd,0x8a,0xc0,\n    0xbd,0x89,0xc0,0xa0,0x50,0xbd,0x80,0xc0,\n    0x98,0x29,0x03,0x0a,0x05,0x2b,0xaa,0xbd,\n    0x81,0xc0,0xa9,0x56,0x20,0xa8,0xfc,0x88,\n    0x10,0xeb,0x85,0x26,0x85,0x3d,0x85,0x41,\n    0xa9,0x08,0x85,0x27,0x18,0x08,0xbd,0x8c,\n    0xc0,0x10,0xfb,0x49,0xd5,0xd0,0xf7,0xbd,\n    0x8c,0xc0,0x10,0xfb,0xc9,0xaa,0xd0,0xf3,\n    0xea,0xbd,0x8c,0xc0,0x10,0xfb,0xc9,0x96,\n    0xf0,0x09,0x28,0x90,0xdf,0x49,0xad,0xf0,\n    0x25,0xd0,0xd9,0xa0,0x03,0x85,0x40,0xbd,\n    0x8c,0xc0,0x10,0xfb,0x2a,0x85,0x3c,0xbd,\n    0x8c,0xc0,0x10,0xfb,0x25,0x3c,0x88,0xd0,\n    0xec,0x28,0xc5,0x3d,0xd0,0xbe,0xa5,0x40,\n    0xc5,0x41,0xd0,0xb8,0xb0,0xb7,0xa0,0x56,\n    0x84,0x3c,0xbc,0x8c,0xc0,0x10,0xfb,0x59,\n    0xd6,0x02,0xa4,0x3c,0x88,0x99,0x00,0x03,\n    0xd0,0xee,0x84,0x3c,0xbc,0x8c,0xc0,0x10,\n    0xfb,0x59,0xd6,0x02,0xa4,0x3c,0x91,0x26,\n    0xc8,0xd0,0xef,0xbc,0x8c,0xc0,0x10,0xfb,\n    0x59,0xd6,0x02,0xd0,0x87,0xa0,0x00,0xa2,\n    0x56,0xca,0x30,0xfb,0xb1,0x26,0x5e,0x00,\n    0x03,0x2a,0x5e,0x00,0x03,0x2a,0x91,0x26,\n    0xc8,0xd0,0xee,0xe6,0x27,0xe6,0x3d,0xa5,\n    0x3d,0xcd,0x00,0x08,0xa6,0x2b,0x90,0xdb,\n    0x4c,0x01,0x08,0x00,0x00,0x00,0x00,0x00\n]) as ReadonlyUint8Array;\n\nexport const BOOTSTRAP_ROM_13 = new Uint8Array([\n    0xa2,0x20,0xa0,0x00,0xa9,0x03,0x85,0x3c,\n    0x18,0x88,0x98,0x24,0x3c,0xf0,0xf5,0x26,\n    0x3c,0x90,0xf8,0xc0,0xd5,0xf0,0xed,0xca,\n    0x8a,0x99,0x00,0x08,0xd0,0xe6,0x20,0x58,\n    0xff,0xba,0xbd,0x00,0x01,0x48,0x0a,0x0a,\n    0x0a,0x0a,0x85,0x2b,0xaa,0xa9,0xd0,0x48,\n    0xbd,0x8e,0xc0,0xbd,0x8c,0xc0,0xbd,0x8a,\n    0xc0,0xbd,0x89,0xc0,0xa0,0x50,0xbd,0x80,\n    0xc0,0x98,0x29,0x03,0x0a,0x05,0x2b,0xaa,\n    0xbd,0x81,0xc0,0xa9,0x56,0x20,0xa8,0xfc,\n    0x88,0x10,0xeb,0xa9,0x03,0x85,0x27,0xa9,\n    0x00,0x85,0x26,0x85,0x3d,0x18,0x08,0xbd,\n    0x8c,0xc0,0x10,0xfb,0x49,0xd5,0xd0,0xf7,\n    0xbd,0x8c,0xc0,0x10,0xfb,0xc9,0xaa,0xd0,\n    0xf3,0xea,0xbd,0x8c,0xc0,0x10,0xfb,0xc9,\n    0xb5,0xf0,0x09,0x28,0x90,0xdf,0x49,0xad,\n    0xf0,0x1f,0xd0,0xd9,0xa0,0x03,0x84,0x2a,\n    0xbd,0x8c,0xc0,0x10,0xfb,0x2a,0x85,0x3c,\n    0xbd,0x8c,0xc0,0x10,0xfb,0x25,0x3c,0x88,\n    0xd0,0xee,0x28,0xc5,0x3d,0xd0,0xbe,0xb0,\n    0xbd,0xa0,0x9a,0x84,0x3c,0xbc,0x8c,0xc0,\n    0x10,0xfb,0x59,0x00,0x08,0xa4,0x3c,0x88,\n    0x99,0x00,0x08,0xd0,0xee,0x84,0x3c,0xbc,\n    0x8c,0xc0,0x10,0xfb,0x59,0x00,0x08,0xa4,\n    0x3c,0x91,0x26,0xc8,0xd0,0xef,0xbc,0x8c,\n    0xc0,0x10,0xfb,0x59,0x00,0x08,0xd0,0x8d,\n    0x60,0xa8,0xa2,0x00,0xb9,0x00,0x08,0x4a,\n    0x3e,0xcc,0x03,0x4a,0x3e,0x99,0x03,0x85,\n    0x3c,0xb1,0x26,0x0a,0x0a,0x0a,0x05,0x3c,\n    0x91,0x26,0xc8,0xe8,0xe0,0x33,0xd0,0xe4,\n    0xc6,0x2a,0xd0,0xde,0xcc,0x00,0x03,0xd0,\n    0x03,0x4c,0x01,0x03,0x4c,0x2d,0xff,0xff\n]) as ReadonlyUint8Array;\n","import { DiskDriver, Drive, DriverState } from './types';\n\n/** Returned state for an empty drive. */\nexport interface EmptyDriverState extends DriverState { }\n\n/**\n * Driver for empty drives. This implementation does nothing except keep\n * the head clamped between tracks 0 and 34.\n */\nexport class EmptyDriver implements DiskDriver {\n    constructor(private readonly drive: Drive) { }\n\n    tick(): void {\n        // do nothing\n    }\n\n    onQ6Low(): void {\n        // do nothing\n    }\n\n    onQ6High(_readMode: boolean): void {\n        // do nothing\n    }\n\n    onDriveOn(): void {\n        // do nothing\n    }\n\n    onDriveOff(): void {\n        // do nothing\n    }\n\n    clampTrack(): void {\n        // For empty drives, the emulator clamps the track to 0 to 34,\n        // but real Disk II drives can seek past track 34 by at least a\n        // half track, usually a full track. Some 3rd party drives can\n        // seek to track 39.\n        if (this.drive.track < 0) {\n            this.drive.track = 0;\n        }\n        if (this.drive.track > 34) {\n            this.drive.track = 34;\n        }\n    }\n\n    getState() {\n        return {};\n    }\n\n    setState(_state: EmptyDriverState): void {\n        // do nothing\n    }\n}\n","import { DriveNumber, NibbleDisk, WozDisk } from '../../formats/types';\nimport { ControllerState, DiskDriver, Drive, DriverState } from './types';\n\n\n/**\n * Common logic for both `NibbleDiskDriver` and `WozDiskDriver`.\n */\nexport abstract class BaseDiskDriver implements DiskDriver {\n    constructor(\n        protected readonly driveNo: DriveNumber,\n        protected readonly drive: Drive,\n        protected readonly disk: NibbleDisk | WozDisk,\n        protected readonly controller: ControllerState) { }\n\n    /** Called frequently to ensure the disk is spinning. */\n    abstract tick(): void;\n\n    /** Called when Q6 is set LOW. */\n    abstract onQ6Low(): void;\n\n    /** Called when Q6 is set HIGH. */\n    abstract onQ6High(readMode: boolean): void;\n\n    /**\n     * Called when drive is turned on. This is guaranteed to be called\n     * only when the associated drive is toggled from off to on. This\n     * is also guaranteed to be called when a new disk is inserted when\n     * the drive is already on.\n     */\n    abstract onDriveOn(): void;\n\n    /**\n     * Called when drive is turned off. This is guaranteed to be called\n     * only when the associated drive is toggled from on to off.\n     */\n    abstract onDriveOff(): void;\n\n    debug(..._args: unknown[]) {\n        // debug(...args);\n    }\n\n    /**\n     * Called every time the head moves to clamp the track to a valid\n     * range.\n     */\n    abstract clampTrack(): void;\n\n    /** Returns `true` if the controller is on and this drive is selected. */\n    isOn(): boolean {\n        return this.controller.on && this.controller.driveNo === this.driveNo;\n    }\n\n    /** Returns `true` if the drive's write protect switch is enabled. */\n    isWriteProtected(): boolean {\n        return this.drive.readOnly;\n    }\n\n    /** Returns the current state of the driver as a serializable object. */\n    abstract getState(): DriverState;\n\n    /** Sets the state of the driver from the given `state`. */\n    abstract setState(state: DriverState): void;\n}\n","import { DriveNumber, NibbleDisk } from '../../formats/types';\nimport { BaseDiskDriver } from './BaseDiskDriver';\nimport { ControllerState, Drive, DriverState } from './types';\n\ninterface NibbleDiskDriverState extends DriverState {\n    skip: number;\n    nibbleCount: number;\n}\n\nexport class NibbleDiskDriver extends BaseDiskDriver {\n    /**\n     * When `1`, the next nibble will be available for read; when `0`,\n     * the card is pretending to wait for data to be shifted in by the\n     * sequencer.\n     */\n    private skip: number = 0;\n    /** Number of nibbles reads since the drive was turned on. */\n    private nibbleCount: number = 0;\n\n    constructor(\n        driveNo: DriveNumber,\n        drive: Drive,\n        readonly disk: NibbleDisk,\n        controller: ControllerState,\n        private readonly onDirty: () => void) {\n        super(driveNo, drive, disk, controller);\n    }\n\n    tick(): void {\n        // do nothing\n    }\n\n    onQ6Low(): void {\n        const drive = this.drive;\n        const disk = this.disk;\n        if (this.isOn() && (this.skip || this.controller.q7)) {\n            const track = disk.tracks[drive.track >> 2];\n            if (track && track.length) {\n                if (drive.head >= track.length) {\n                    drive.head = 0;\n                }\n\n                if (this.controller.q7) {\n                    const writeProtected = disk.readOnly;\n                    if (!writeProtected) {\n                        track[drive.head] = this.controller.bus;\n                        drive.dirty = true;\n                        this.onDirty();\n                    }\n                } else {\n                    this.controller.latch = track[drive.head];\n                    this.nibbleCount++;\n                }\n\n                ++drive.head;\n            }\n        } else {\n            this.controller.latch = 0;\n        }\n        this.skip = (++this.skip % 2);\n    }\n\n    onQ6High(readMode: boolean): void {\n        const drive = this.drive;\n        if (readMode && !this.controller.q7) {\n            const writeProtected = drive.readOnly;\n            if (writeProtected) {\n                this.controller.latch = 0xff;\n                this.debug('Setting readOnly');\n            } else {\n                this.controller.latch >>= 1;\n                this.debug('Clearing readOnly');\n            }\n        }\n    }\n\n    onDriveOn(): void {\n        this.nibbleCount = 0;\n    }\n\n    onDriveOff(): void {\n        this.debug('nibbles read', this.nibbleCount);\n    }\n\n    clampTrack(): void {\n        // For NibbleDisks, the emulator clamps the track to the available\n        // range.\n        if (this.drive.track < 0) {\n            this.drive.track = 0;\n        }\n        const lastTrack = 35 * 4 - 1;\n        if (this.drive.track > lastTrack) {\n            this.drive.track = lastTrack;\n        }\n    }\n\n    getState(): NibbleDiskDriverState {\n        const { skip, nibbleCount } = this;\n        return { skip, nibbleCount };\n    }\n\n    setState(state: NibbleDiskDriverState) {\n        this.skip = state.skip;\n        this.nibbleCount = state.nibbleCount;\n    }\n}\n","import Apple2IO from '../../apple2io';\nimport { DriveNumber, WozDisk } from '../../formats/types';\nimport { toHex } from '../../util';\nimport { SEQUENCER_ROM } from '../disk2';\nimport { BaseDiskDriver } from './BaseDiskDriver';\nimport { ControllerState, Drive, DriverState, LssClockCycle, LssState } from './types';\n\ninterface WozDiskDriverState extends DriverState {\n    clock: LssClockCycle;\n    state: LssState;\n    lastCycles: number;\n    zeros: number;\n}\n\nexport class WozDiskDriver extends BaseDiskDriver {\n    /** Logic state sequencer clock cycle. */\n    private clock: LssClockCycle;\n    /** Logic state sequencer state. */\n    private state: LssState;\n    /** Current CPU cycle count. */\n    private lastCycles: number = 0;\n    /**\n     * Number of zeros read in a row. The Disk ][ can only read two zeros in a\n     * row reliably; above that and the drive starts reporting garbage.  See\n     * \"Freaking Out Like a MC3470\" in the WOZ spec.\n     */\n    private zeros = 0;\n\n    constructor(\n        driveNo: DriveNumber,\n        drive: Drive,\n        readonly disk: WozDisk,\n        controller: ControllerState,\n        private readonly onDirty: () => void,\n        private readonly io: Apple2IO) {\n        super(driveNo, drive, disk, controller);\n\n        // From the example in UtA2e, p. 9-29, col. 1, para. 1., this is\n        // essentially the start of the sequencer loop and produces\n        // correctly synced nibbles immediately.  Starting at state 0\n        // would introduce a spurrious 1 in the latch at the beginning,\n        // which requires reading several more sync bytes to sync up.\n        this.state = 2;\n        this.clock = 0;\n    }\n\n    onDriveOn(): void {\n        this.lastCycles = this.io.cycles();\n    }\n\n    onDriveOff(): void {\n        // nothing\n    }\n\n    /**\n     * Spin the disk under the read/write head for WOZ images.\n     *\n     * This implementation emulates every clock cycle of the 2 MHz\n     * sequencer since the last time it was called in order to\n     * determine the current state. Because this is called on\n     * every access to the softswitches, the data in the latch\n     * will be correct on every read.\n     *\n     * The emulation of the disk makes a few simplifying assumptions:\n     *\n     * *   The motor turns on instantly.\n     * *   The head moves tracks instantly.\n     * *   The length (in bits) of each track of the WOZ image\n     *     represents one full rotation of the disk and that each\n     *     bit is evenly spaced.\n     * *   Writing will not change the track length. This means\n     *     that short tracks stay short.\n     * *   The read head picks up the next bit when the sequencer\n     *     clock === 4.\n     * *   Head position X on track T is equivalent to head position\n     *     X on track T. (This is not the recommendation in the WOZ\n     *     spec.)\n     * *   Unspecified tracks contain a single zero bit. (A very\n     *     short track, indeed!)\n     * *   Two zero bits are sufficient to cause the MC3470 to freak\n     *     out. When freaking out, it returns 0 and 1 with equal\n     *     probability.\n     * *   Any softswitch changes happen before `moveHead`. This is\n     *     important because it means that if the clock is ever\n     *     advanced more than one cycle between calls, the\n     *     softswitch changes will appear to happen at the very\n     *     beginning, not just before the last cycle.\n     */\n    private moveHead() {\n        // TODO(flan): Short-circuit if the drive is not on.\n        const cycles = this.io.cycles();\n\n        // Spin the disk the number of elapsed cycles since last call\n        let workCycles = (cycles - this.lastCycles) * 2;\n        this.lastCycles = cycles;\n\n        const drive = this.drive;\n        const disk = this.disk;\n        const controller = this.controller;\n\n        // TODO(flan): Improve unformatted track behavior. The WOZ\n        // documentation suggests using an empty track of 6400 bytes\n        // (51,200 bits).\n        const track = disk.rawTracks[disk.trackMap[drive.track]] || [0];\n\n        while (workCycles-- > 0) {\n            let pulse: number = 0;\n            if (this.clock === 4) {\n                pulse = track[drive.head];\n                if (!pulse) {\n                    // More than 2 zeros can not be read reliably.\n                    // TODO(flan): Revisit with the new MC3470\n                    // suggested 4-bit window behavior.\n                    if (++this.zeros > 2) {\n                        const r = Math.random();\n                        pulse = r >= 0.5 ? 1 : 0;\n                    }\n                } else {\n                    this.zeros = 0;\n                }\n            }\n\n            let idx = 0;\n            idx |= pulse ? 0x00 : 0x01;\n            idx |= controller.latch & 0x80 ? 0x02 : 0x00;\n            idx |= controller.q6 ? 0x04 : 0x00;\n            idx |= controller.q7 ? 0x08 : 0x00;\n            idx |= this.state << 4;\n\n            const command = SEQUENCER_ROM[controller.sectors][idx];\n\n            this.debug(`clock: ${this.clock} state: ${toHex(this.state)} pulse: ${pulse} command: ${toHex(command)} q6: ${controller.q6} latch: ${toHex(controller.latch)}`);\n\n            switch (command & 0xf) {\n                case 0x0: // CLR\n                    controller.latch = 0;\n                    break;\n                case 0x8: // NOP\n                    break;\n                case 0x9: // SL0\n                    controller.latch = (controller.latch << 1) & 0xff;\n                    break;\n                case 0xA: // SR\n                    controller.latch >>= 1;\n                    if (this.isWriteProtected()) {\n                        controller.latch |= 0x80;\n                    }\n                    break;\n                case 0xB: // LD\n                    controller.latch = controller.bus;\n                    this.debug('Loading', toHex(controller.latch), 'from bus');\n                    break;\n                case 0xD: // SL1\n                    controller.latch = ((controller.latch << 1) | 0x01) & 0xff;\n                    break;\n                default:\n                    this.debug(`unknown command: ${toHex(command & 0xf)}`);\n            }\n            this.state = (command >> 4 & 0xF) as LssState;\n\n            if (this.clock === 4) {\n                if (this.isOn()) {\n                    if (controller.q7) {\n                        // TODO(flan): This assumes that writes are happening in\n                        // a \"friendly\" way, namely where the track was originally\n                        // written. To do this correctly, the virtual head should\n                        // actually keep track of the current quarter track plus\n                        // the one on each side. Then, when writing, it should\n                        // check that all three are actually the same rawTrack. If\n                        // they aren't, then the trackMap has to be updated as\n                        // well.\n                        track[drive.head] = this.state & 0x8 ? 0x01 : 0x00;\n                        this.debug('Wrote', this.state & 0x8 ? 0x01 : 0x00);\n                        drive.dirty = true;\n                        this.onDirty();\n                    }\n\n                    if (++drive.head >= track.length) {\n                        drive.head = 0;\n                    }\n                }\n            }\n\n            if (++this.clock > 7) {\n                this.clock = 0;\n            }\n        }\n    }\n\n    tick(): void {\n        this.moveHead();\n    }\n\n    onQ6High(_readMode: boolean): void {\n        // nothing?\n    }\n\n    onQ6Low(): void {\n        // nothing?\n    }\n\n    clampTrack(): void {\n        // For NibbleDisks, the emulator clamps the track to the available\n        // range.\n        if (this.drive.track < 0) {\n            this.drive.track = 0;\n        }\n        const lastTrack = this.disk.trackMap.length - 1;\n        if (this.drive.track > lastTrack) {\n            this.drive.track = lastTrack;\n        }\n    }\n\n    getState(): WozDiskDriverState {\n        const { clock, state, lastCycles, zeros } = this;\n        return { clock, state, lastCycles, zeros };\n    }\n\n    setState(state: WozDiskDriverState) {\n        this.clock = state.clock;\n        this.state = state.state;\n        this.lastCycles = state.lastCycles;\n        this.zeros = state.zeros;\n    }\n}\n","import { base64_encode } from '../base64';\nimport type {\n    byte,\n    Card,\n    ReadonlyUint8Array\n} from '../types';\n\nimport {\n    DISK_PROCESSED, DriveNumber, DRIVE_NUMBERS, FloppyDisk,\n    FloppyFormat, FormatWorkerMessage,\n    FormatWorkerResponse, isNibbleDisk, isNoFloppyDisk, isWozDisk, JSONDisk, MassStorage,\n    MassStorageData, NibbleDisk, NibbleFormat, NO_DISK, PROCESS_BINARY, PROCESS_JSON, PROCESS_JSON_DISK, SupportedSectors, WozDisk\n} from '../formats/types';\n\nimport {\n    createDisk,\n    createDiskFromJsonDisk\n} from '../formats/create_disk';\n\nimport { jsonDecode, jsonEncode, readSector, _D13O, _DO, _PO } from '../formats/format_utils';\n\nimport Apple2IO from '../apple2io';\n\nimport { BOOTSTRAP_ROM_13, BOOTSTRAP_ROM_16 } from '../roms/cards/disk2';\n\nimport { EmptyDriver } from './drivers/EmptyDriver';\nimport { NibbleDiskDriver } from './drivers/NibbleDiskDriver';\nimport { ControllerState, DiskDriver, Drive, DriverState, Phase } from './drivers/types';\nimport { WozDiskDriver } from './drivers/WozDiskDriver';\n\n/** Softswitch locations */\nconst LOC = {\n    // Disk II Controller Commands\n    // See Understanding the Apple IIe, Table 9.1\n    PHASE0OFF: 0x80,     // Q0L: Phase 0 OFF\n    PHASE0ON: 0x81,      // Q0H: Phase 0 ON\n    PHASE1OFF: 0x82,     // Q1L: Phase 1 OFF\n    PHASE1ON: 0x83,      // Q1H: Phase 1 ON\n    PHASE2OFF: 0x84,     // Q2L: Phase 2 OFF\n    PHASE2ON: 0x85,      // Q2H: Phase 2 ON\n    PHASE3OFF: 0x86,     // Q3L: Phase 3 OFF\n    PHASE3ON: 0x87,      // Q3H: Phase 3 ON\n\n    DRIVEOFF: 0x88,      // Q4L: Drives OFF\n    DRIVEON: 0x89,       // Q4H: Selected drive ON\n    DRIVE1: 0x8A,        // Q5L: Select drive 1\n    DRIVE2: 0x8B,        // Q5H: Select drive 2\n    DRIVEREAD: 0x8C,     // Q6L: Shift while writing; read data\n    DRIVEWRITE: 0x8D,    // Q6H: Load while writing; read write protect\n    DRIVEREADMODE: 0x8E, // Q7L: Read\n    DRIVEWRITEMODE: 0x8F // Q7H: Write\n} as const;\n\n/** Logic state sequencer ROM */\n// See Understanding the Apple IIe, Table 9.3 Logic State Sequencer Commands\n//       CODE  OPERATION              BEFORE    AFTER\n// 0     CLR                          XXXXXXXX  00000000\n// 8     NOP                          ABCDEFGH  ABCDEFGH\n// 9     SL0                          ABCDEFGH  BCDEFGH0\n// A     SR   (write protected)       ABCDEFGH  11111111\n//            (not write protected)   ABCDEFGH  0ABCDEFG\n// B     LOAD                         XXXXXXXX  YYYYYYYY\n// D     SL1                          ABCDEFGH  BCDEFGH1\n\nconst SEQUENCER_ROM_13 = [\n    // See Understanding the Apple IIe, Figure 9.10 The DOS 3.2 Logic State Sequencer\n    // Note that the column order here is NOT the same as in Figure 9.10 for Q7 H (Write).\n    //\n    //                Q7 L (Read)                                     Q7 H (Write)\n    //    Q6 L (Shift)            Q6 H (Load)             Q6 L (Shift)             Q6 H (Load)\n    //  QA L        QA H        QA L        QA H        QA L        QA H        QA L        QA H\n    // 1     0     1     0     1     0     1     0     1     0     1     0     1     0     1     0\n    0xD8, 0x18, 0x18, 0x08, 0x0A, 0x0A, 0x0A, 0x0A, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, // 0\n    0xD8, 0x2D, 0x28, 0x28, 0x0A, 0x0A, 0x0A, 0x0A, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, // 1\n    0xD8, 0x38, 0x38, 0x38, 0x0A, 0x0A, 0x0A, 0x0A, 0x39, 0x39, 0x39, 0x39, 0x3B, 0x3B, 0x3B, 0x3B, // 2\n    0xD8, 0x48, 0xD8, 0x48, 0x0A, 0x0A, 0x0A, 0x0A, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, // 3\n    0xD8, 0x58, 0xD8, 0x58, 0x0A, 0x0A, 0x0A, 0x0A, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, // 4\n    0xD8, 0x68, 0xD8, 0x68, 0x0A, 0x0A, 0x0A, 0x0A, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, // 5\n    0xD8, 0x78, 0xD8, 0x78, 0x0A, 0x0A, 0x0A, 0x0A, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, // 6\n    0xD8, 0x88, 0xD8, 0x88, 0x0A, 0x0A, 0x0A, 0x0A, 0x08, 0x08, 0x88, 0x88, 0x08, 0x08, 0x88, 0x88, // 7\n    0xD8, 0x98, 0xD8, 0x98, 0x0A, 0x0A, 0x0A, 0x0A, 0x98, 0x98, 0x98, 0x98, 0x98, 0x98, 0x98, 0x98, // 8\n    0xD8, 0x09, 0xD8, 0xA8, 0x0A, 0x0A, 0x0A, 0x0A, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, // 9\n    0xCD, 0xBD, 0xD8, 0xB8, 0x0A, 0x0A, 0x0A, 0x0A, 0xB9, 0xB9, 0xB9, 0xB9, 0xBB, 0xBB, 0xBB, 0xBB, // A\n    0xD9, 0x39, 0xD8, 0xC8, 0x0A, 0x0A, 0x0A, 0x0A, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, // B\n    0xD9, 0xD9, 0xD8, 0xA0, 0x0A, 0x0A, 0x0A, 0x0A, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, // C\n    0x1D, 0x0D, 0xE8, 0xE8, 0x0A, 0x0A, 0x0A, 0x0A, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, // D\n    0xFD, 0xFD, 0xF8, 0xF8, 0x0A, 0x0A, 0x0A, 0x0A, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, // E\n    0xDD, 0x4D, 0xE0, 0xE0, 0x0A, 0x0A, 0x0A, 0x0A, 0x88, 0x88, 0x08, 0x08, 0x88, 0x88, 0x08, 0x08  // F\n] as const;\n\nconst SEQUENCER_ROM_16 = [\n    // See Understanding the Apple IIe, Figure 9.11 The DOS 3.3 Logic State Sequencer\n    // Note that the column order here is NOT the same as in Figure 9.11 for Q7 H (Write).\n    //\n    //                Q7 L (Read)                                     Q7 H (Write)\n    //    Q6 L (Shift)            Q6 H (Load)             Q6 L (Shift)             Q6 H (Load)\n    //  QA L        QA H        QA L        QA H        QA L        QA H        QA L        QA H\n    // 1     0     1     0     1     0     1     0     1     0     1     0     1     0     1     0\n    0x18, 0x18, 0x18, 0x18, 0x0A, 0x0A, 0x0A, 0x0A, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, // 0\n    0x2D, 0x2D, 0x38, 0x38, 0x0A, 0x0A, 0x0A, 0x0A, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, // 1\n    0xD8, 0x38, 0x08, 0x28, 0x0A, 0x0A, 0x0A, 0x0A, 0x39, 0x39, 0x39, 0x39, 0x3B, 0x3B, 0x3B, 0x3B, // 2\n    0xD8, 0x48, 0x48, 0x48, 0x0A, 0x0A, 0x0A, 0x0A, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, // 3\n    0xD8, 0x58, 0xD8, 0x58, 0x0A, 0x0A, 0x0A, 0x0A, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, // 4\n    0xD8, 0x68, 0xD8, 0x68, 0x0A, 0x0A, 0x0A, 0x0A, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, // 5\n    0xD8, 0x78, 0xD8, 0x78, 0x0A, 0x0A, 0x0A, 0x0A, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, // 6\n    0xD8, 0x88, 0xD8, 0x88, 0x0A, 0x0A, 0x0A, 0x0A, 0x08, 0x08, 0x88, 0x88, 0x08, 0x08, 0x88, 0x88, // 7\n    0xD8, 0x98, 0xD8, 0x98, 0x0A, 0x0A, 0x0A, 0x0A, 0x98, 0x98, 0x98, 0x98, 0x98, 0x98, 0x98, 0x98, // 8\n    0xD8, 0x29, 0xD8, 0xA8, 0x0A, 0x0A, 0x0A, 0x0A, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, // 9\n    0xCD, 0xBD, 0xD8, 0xB8, 0x0A, 0x0A, 0x0A, 0x0A, 0xB9, 0xB9, 0xB9, 0xB9, 0xBB, 0xBB, 0xBB, 0xBB, // A\n    0xD9, 0x59, 0xD8, 0xC8, 0x0A, 0x0A, 0x0A, 0x0A, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, // B\n    0xD9, 0xD9, 0xD8, 0xA0, 0x0A, 0x0A, 0x0A, 0x0A, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, // C\n    0xD8, 0x08, 0xE8, 0xE8, 0x0A, 0x0A, 0x0A, 0x0A, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, // D\n    0xFD, 0xFD, 0xF8, 0xF8, 0x0A, 0x0A, 0x0A, 0x0A, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, // E\n    0xDD, 0x4D, 0xE0, 0xE0, 0x0A, 0x0A, 0x0A, 0x0A, 0x88, 0x88, 0x08, 0x08, 0x88, 0x88, 0x08, 0x08  // F\n] as const;\n\n/** Contents of the P6 sequencer ROM. */\nexport const SEQUENCER_ROM: Record<SupportedSectors, ReadonlyArray<byte>> = {\n    13: SEQUENCER_ROM_13,\n    16: SEQUENCER_ROM_16,\n} as const;\n\n/** Contents of the P5 ROM at 0xCnXX. */\nconst BOOTSTRAP_ROM: Record<SupportedSectors, ReadonlyUint8Array> = {\n    13: BOOTSTRAP_ROM_13,\n    16: BOOTSTRAP_ROM_16,\n} as const;\n\n/**\n * How far the head moves, in quarter tracks, when in phase X and phase Y is\n * activated. For example, if in phase 0 (top row), turning on phase 3 would\n * step backwards a quarter track while turning on phase 2 would step forwards\n * a half track.\n *\n * Note that this emulation is highly simplified as it only takes into account\n * the order that coils are powered on and ignores when they are powered off.\n * The actual hardware allows for multiple coils to be powered at the same time\n * providing different levels of torque on the head arm. Along with that, the\n * RWTS uses a complex delay system to drive the coils faster based on expected\n * head momentum.\n *\n * Examining the https://computerhistory.org/blog/apple-ii-dos-source-code/,\n * one finds the SEEK routine on line 4831 of `appdos31.lst`. It uses `ONTABLE`\n * and `OFFTABLE` (each 12 bytes) to know exactly how many microseconds to\n * power on/off each coil as the head accelerates. At the end, the final coil\n * is left powered on 9.5 milliseconds to ensure the head has settled.\n *\n * https://embeddedmicro.weebly.com/apple-2iie.html shows traces of the boot\n * seek (which is slightly different) and a regular seek.\n */\nconst PHASE_DELTA = [\n    [0, 1, 2, -1],\n    [-1, 0, 1, 2],\n    [-2, -1, 0, 1],\n    [1, -2, -1, 0]\n] as const;\n\n/** Callbacks triggered by events of the drive or controller. */\nexport interface Callbacks {\n    /** Called when a drive turns on or off. */\n    driveLight: (driveNo: DriveNumber, on: boolean) => void;\n    /**\n     * Called when a disk has been written to. For performance and integrity,\n     * this is only called when the drive stops spinning or is removed from\n     * the drive.\n     */\n    dirty: (driveNo: DriveNumber, dirty: boolean) => void;\n    /** Called when a disk is inserted or removed from the drive. */\n    label: (driveNo: DriveNumber, name?: string, side?: string) => void;\n}\n\ninterface DriveState {\n    disk: FloppyDisk;\n    driver: DriverState;\n    readOnly: boolean;\n    track: byte;\n    head: byte;\n    phase: Phase;\n    dirty: boolean;\n}\n\n/** State of the controller for saving/restoring. */\ninterface State {\n    drives: DriveState[];\n    controllerState: ControllerState;\n}\n\nfunction getDiskState(disk: FloppyDisk): FloppyDisk {\n    if (isNoFloppyDisk(disk)) {\n        const { encoding, metadata, readOnly } = disk;\n        return {\n            encoding,\n            metadata: { ...metadata },\n            readOnly,\n        };\n    }\n    if (isNibbleDisk(disk)) {\n        const { format, encoding, metadata, readOnly, volume, tracks } = disk;\n        const result: NibbleDisk = {\n            format,\n            encoding,\n            volume,\n            tracks: [],\n            readOnly,\n            metadata: { ...metadata },\n        };\n        for (let idx = 0; idx < tracks.length; idx++) {\n            result.tracks.push(new Uint8Array(tracks[idx]));\n        }\n        return result;\n    }\n\n    if (isWozDisk(disk)) {\n        const { format, encoding, metadata, readOnly, trackMap, rawTracks } = disk;\n        const result: WozDisk = {\n            format,\n            encoding,\n            readOnly,\n            trackMap: [],\n            rawTracks: [],\n            metadata: { ...metadata },\n            info: disk.info,\n        };\n        result.trackMap = [...trackMap];\n        for (let idx = 0; idx < rawTracks.length; idx++) {\n            result.rawTracks.push(new Uint8Array(rawTracks[idx]));\n        }\n        return result;\n    }\n\n    throw new Error('Unknown drive state');\n}\n\n/**\n * Emulates the 16-sector and 13-sector versions of the Disk ][ drive and controller.\n */\nexport default class DiskII implements Card<State>, MassStorage<NibbleFormat> {\n\n    private drives: Record<DriveNumber, Drive> = {\n        1: {   // Drive 1\n            track: 0,\n            head: 0,\n            phase: 0,\n            readOnly: false,\n            dirty: false,\n        },\n        2: {   // Drive 2\n            track: 0,\n            head: 0,\n            phase: 0,\n            readOnly: false,\n            dirty: false,\n        }\n    };\n\n    private disks: Record<DriveNumber, FloppyDisk> = {\n        1: {\n            encoding: NO_DISK,\n            readOnly: false,\n            metadata: { name: 'Disk 1' },\n        },\n        2: {\n            encoding: NO_DISK,\n            readOnly: false,\n            metadata: { name: 'Disk 2' },\n        }\n    };\n\n    private driver: Record<DriveNumber, DiskDriver> = {\n        1: new EmptyDriver(this.drives[1]),\n        2: new EmptyDriver(this.drives[2]),\n    };\n\n    private state: ControllerState;\n\n    /** Drive off timeout id or null. */\n    private offTimeout: number | null = null;\n    /** Current drive object. Must only be set by `updateActiveDrive()`. */\n    private curDrive: Drive;\n    /** Current driver object. Must only be set by `updateAcivetDrive()`. */\n    private curDriver: DiskDriver;\n\n    private worker: Worker;\n\n    /** Builds a new Disk ][ card. */\n    constructor(private io: Apple2IO, private callbacks: Callbacks, private sectors: SupportedSectors = 16) {\n        this.debug('Disk ][');\n\n        this.state = {\n            sectors,\n            bus: 0,\n            latch: 0,\n            driveNo: 1,\n            on: false,\n            q6: false,\n            q7: false,\n            clock: 0,\n            // From the example in UtA2e, p. 9-29, col. 1, para. 1., this is\n            // essentially the start of the sequencer loop and produces\n            // correctly synced nibbles immediately.  Starting at state 0\n            // would introduce a spurrious 1 in the latch at the beginning,\n            // which requires reading several more sync bytes to sync up.\n            state: 2,\n        };\n\n        this.updateActiveDrive();\n\n        this.initWorker();\n    }\n\n    /** Updates the active drive based on the controller state. */\n    private updateActiveDrive() {\n        this.curDrive = this.drives[this.state.driveNo];\n        this.curDriver = this.driver[this.state.driveNo];\n    }\n\n    private debug(..._args: unknown[]) {\n        // debug(..._args);\n    }\n\n    public head(): number {\n        return this.curDrive.head;\n    }\n\n    /**\n     * Sets whether the head positioning stepper motor coil for the given\n     * phase is on or off. Normally, the motor must be stepped two phases\n     * per track. Half tracks can be written by stepping only once; quarter\n     * tracks by activating two neighboring coils at once.\n     */\n    private setPhase(phase: Phase, on: boolean) {\n        // According to Sather, UtA2e, p. 9-12, Drive On/Off and Drive\n        // Select:\n        //     Turning a drive on ($C089,X) [...]:\n        //       1. [...]\n        //       5. [...] enables head positioning [...]\n        //\n        // Therefore do nothing if no drive is on.\n        if (!this.state.on) {\n            this.debug(`ignoring phase ${phase}${on ? ' on' : ' off'}`);\n            return;\n        }\n\n        this.debug(`phase ${phase}${on ? ' on' : ' off'}`);\n        if (on) {\n            this.curDrive.track += PHASE_DELTA[this.curDrive.phase][phase] * 2;\n            this.curDrive.phase = phase;\n        }\n\n        this.curDriver.clampTrack();\n\n        // debug(\n        //     'Drive', _drive, 'track', toHex(_cur.track >> 2) + '.' + (_cur.track & 0x3),\n        //     '(' + toHex(_cur.track) + ')',\n        //     '[' + phase + ':' + (on ? 'on' : 'off') + ']');\n    }\n\n    private access(off: byte, val?: byte) {\n        const state = this.state;\n        let result = 0;\n        const readMode = val === undefined;\n\n        switch (off & 0x8f) {\n            case LOC.PHASE0OFF: // 0x00\n                this.setPhase(0, false);\n                break;\n            case LOC.PHASE0ON: // 0x01\n                this.setPhase(0, true);\n                break;\n            case LOC.PHASE1OFF: // 0x02\n                this.setPhase(1, false);\n                break;\n            case LOC.PHASE1ON: // 0x03\n                this.setPhase(1, true);\n                break;\n            case LOC.PHASE2OFF: // 0x04\n                this.setPhase(2, false);\n                break;\n            case LOC.PHASE2ON: // 0x05\n                this.setPhase(2, true);\n                break;\n            case LOC.PHASE3OFF: // 0x06\n                this.setPhase(3, false);\n                break;\n            case LOC.PHASE3ON:  // 0x07\n                this.setPhase(3, true);\n                break;\n\n            case LOC.DRIVEOFF: // 0x08\n                if (!this.offTimeout) {\n                    if (state.on) {\n                        // TODO(flan): This is fragile because it relies on\n                        // wall-clock time instead of emulator time.\n                        this.offTimeout = window.setTimeout(() => {\n                            this.debug('Drive Off');\n                            state.on = false;\n                            this.callbacks.driveLight(state.driveNo, false);\n                            this.curDriver.onDriveOff();\n                        }, 1000);\n                    }\n                }\n                break;\n            case LOC.DRIVEON: // 0x09\n                if (this.offTimeout) {\n                    // TODO(flan): Fragilesee above\n                    window.clearTimeout(this.offTimeout);\n                    this.offTimeout = null;\n                }\n                if (!state.on) {\n                    this.debug('Drive On');\n                    state.on = true;\n                    this.callbacks.driveLight(state.driveNo, true);\n                    this.curDriver.onDriveOn();\n                }\n                break;\n\n            case LOC.DRIVE1:  // 0x0a\n                this.debug('Disk 1');\n                state.driveNo = 1;\n                this.updateActiveDrive();\n                if (state.on) {\n                    this.callbacks.driveLight(2, false);\n                    this.callbacks.driveLight(1, true);\n                }\n                break;\n            case LOC.DRIVE2:  // 0x0b\n                this.debug('Disk 2');\n                state.driveNo = 2;\n                this.updateActiveDrive();\n                if (state.on) {\n                    this.callbacks.driveLight(1, false);\n                    this.callbacks.driveLight(2, true);\n                }\n                break;\n\n            case LOC.DRIVEREAD: // 0x0c (Q6L) Shift\n                state.q6 = false;\n                this.curDriver.onQ6Low();\n                break;\n\n            case LOC.DRIVEWRITE: // 0x0d (Q6H) LOAD\n                state.q6 = true;\n                this.curDriver.onQ6High(readMode);\n                break;\n\n            case LOC.DRIVEREADMODE:  // 0x0e (Q7L)\n                this.debug('Read Mode');\n                state.q7 = false;\n                break;\n            case LOC.DRIVEWRITEMODE: // 0x0f (Q7H)\n                this.debug('Write Mode');\n                state.q7 = true;\n                break;\n\n            default:\n                break;\n        }\n\n        this.tick();\n\n        if (readMode) {\n            // According to UtAIIe, p. 9-13 to 9-14, any even address can be\n            // used to read the data register onto the CPU bus, although some\n            // also cause conflicts with the disk controller commands.\n            if ((off & 0x01) === 0) {\n                result = state.latch;\n            } else {\n                result = 0;\n            }\n        } else {\n            // It's not explicitly stated, but writes to any address set the\n            // data register.\n            state.bus = val;\n        }\n\n        return result;\n    }\n\n    private updateDirty(driveNo: DriveNumber, dirty: boolean) {\n        this.drives[driveNo].dirty = dirty;\n        if (this.callbacks.dirty) {\n            this.callbacks.dirty(driveNo, dirty);\n        }\n    }\n\n    ioSwitch(off: byte, val?: byte) {\n        return this.access(off, val);\n    }\n\n    read(_page: byte, off: byte) {\n        return BOOTSTRAP_ROM[this.sectors][off];\n    }\n\n    write() {\n        // not writable\n    }\n\n    reset() {\n        const state = this.state;\n        if (state.on) {\n            this.callbacks.driveLight(state.driveNo, false);\n            state.q7 = false;\n            state.on = false;\n            state.driveNo = 1;\n        }\n        this.updateActiveDrive();\n    }\n\n    tick() {\n        this.curDriver.tick();\n    }\n\n    private getDriveState(driveNo: DriveNumber): DriveState {\n        const curDrive = this.drives[driveNo];\n        const curDisk = this.disks[driveNo];\n        const curDriver = this.driver[driveNo];\n        const { readOnly, track, head, phase, dirty } = curDrive;\n        return {\n            disk: getDiskState(curDisk),\n            driver: curDriver.getState(),\n            readOnly,\n            track,\n            head,\n            phase,\n            dirty,\n        };\n    }\n\n    getState(): State {\n        const result = {\n            drives: [] as DriveState[],\n            controllerState: { ...this.state },\n        };\n        result.drives[1] = this.getDriveState(1);\n        result.drives[2] = this.getDriveState(2);\n\n        return result;\n    }\n\n    private setDriveState(driveNo: DriveNumber, state: DriveState) {\n        const { track, head, phase, readOnly, dirty } = state;\n        this.drives[driveNo] = {\n            track,\n            head,\n            phase,\n            readOnly,\n            dirty,\n        };\n        const disk = getDiskState(state.disk);\n        this.setDiskInternal(driveNo, disk);\n        this.driver[driveNo].setState(state.driver);\n    }\n\n\n    setState(state: State) {\n        this.state = { ...state.controllerState };\n        for (const d of DRIVE_NUMBERS) {\n            this.setDriveState(d, state.drives[d]);\n            const { name, side } = state.drives[d].disk.metadata;\n            const { dirty } = state.drives[d];\n            this.callbacks.label(d, name, side);\n            this.callbacks.driveLight(d, this.state.on);\n            this.callbacks.dirty(d, dirty);\n        }\n        this.updateActiveDrive();\n    }\n\n    getMetadata(driveNo: DriveNumber) {\n        const { track, head, phase, readOnly, dirty } = this.drives[driveNo];\n        return {\n            track,\n            head,\n            phase,\n            readOnly,\n            dirty,\n        };\n    }\n\n    /** Reads the given track and physical sector. */\n    rwts(driveNo: DriveNumber, track: byte, sector: byte) {\n        const curDisk = this.disks[driveNo];\n        if (!isNibbleDisk(curDisk)) {\n            throw new Error('Can\\'t read WOZ disks');\n        }\n        return readSector(curDisk, track, sector);\n    }\n\n    /** Sets the data for `drive` from `disk`, which is expected to be JSON. */\n    // TODO(flan): This implementation is not very safe.\n    setDisk(driveNo: DriveNumber, jsonDisk: JSONDisk) {\n        if (this.worker) {\n            const message: FormatWorkerMessage = {\n                type: PROCESS_JSON_DISK,\n                payload: {\n                    driveNo: driveNo,\n                    jsonDisk\n                },\n            };\n            this.worker.postMessage(message);\n            return true;\n        } else {\n            const disk = createDiskFromJsonDisk(jsonDisk);\n            if (disk) {\n                this.insertDisk(driveNo, disk);\n                return true;\n            }\n        }\n        return false;\n    }\n\n    getJSON(driveNo: DriveNumber, pretty: boolean = false) {\n        const curDisk = this.disks[driveNo];\n        if (!isNibbleDisk(curDisk)) {\n            throw new Error('Can\\'t save WOZ disks to JSON');\n        }\n        return jsonEncode(curDisk, pretty);\n    }\n\n    setJSON(driveNo: DriveNumber, json: string) {\n        if (this.worker) {\n            const message: FormatWorkerMessage = {\n                type: PROCESS_JSON,\n                payload: {\n                    driveNo: driveNo,\n                    json\n                },\n            };\n            this.worker.postMessage(message);\n        } else {\n            const disk = jsonDecode(json);\n            this.insertDisk(driveNo, disk);\n        }\n        return true;\n    }\n\n    setBinary(driveNo: DriveNumber, name: string, fmt: FloppyFormat, rawData: ArrayBuffer) {\n        const readOnly = false;\n        const volume = 254;\n        const options = {\n            name,\n            rawData,\n            readOnly,\n            volume,\n        };\n\n        if (this.worker) {\n            const message: FormatWorkerMessage = {\n                type: PROCESS_BINARY,\n                payload: {\n                    driveNo: driveNo,\n                    fmt,\n                    options,\n                }\n            };\n            this.worker.postMessage(message);\n\n            return true;\n        } else {\n            const disk = createDisk(fmt, options);\n            if (disk) {\n                this.insertDisk(driveNo, disk);\n                return true;\n            }\n        }\n        return false;\n    }\n\n    initWorker() {\n        if (!window.Worker) {\n            return;\n        }\n\n        try {\n            this.worker = new Worker('dist/format_worker.bundle.js');\n\n            this.worker.addEventListener('message', (message: MessageEvent<FormatWorkerResponse>) => {\n                const { data } = message;\n                switch (data.type) {\n                    case DISK_PROCESSED:\n                        {\n                            const { driveNo: drive, disk } = data.payload;\n                            if (disk) {\n                                this.insertDisk(drive, disk);\n                            }\n                        }\n                        break;\n                }\n            });\n        } catch (e: unknown) {\n            console.error(e);\n        }\n    }\n\n    private setDiskInternal(driveNo: DriveNumber, disk: FloppyDisk) {\n        this.disks[driveNo] = disk;\n        if (isNoFloppyDisk(disk)) {\n            this.driver[driveNo] = new EmptyDriver(this.drives[driveNo]);\n        } else if (isNibbleDisk(disk)) {\n            this.driver[driveNo] =\n                new NibbleDiskDriver(\n                    driveNo,\n                    this.drives[driveNo],\n                    disk,\n                    this.state,\n                    () => this.updateDirty(driveNo, true));\n        } else if (isWozDisk(disk)) {\n            this.driver[driveNo] =\n                new WozDiskDriver(\n                    driveNo,\n                    this.drives[driveNo],\n                    disk,\n                    this.state,\n                    () => this.updateDirty(driveNo, true),\n                    this.io);\n        } else {\n            throw new Error(`Unknown disk format ${disk.encoding}`);\n        }\n        this.updateActiveDrive();\n    }\n\n    private insertDisk(driveNo: DriveNumber, disk: FloppyDisk) {\n        this.setDiskInternal(driveNo, disk);\n        this.drives[driveNo].head = 0;\n        const { name, side } = disk.metadata;\n        this.updateDirty(driveNo, this.drives[driveNo].dirty);\n        this.callbacks.label(driveNo, name, side);\n    }\n\n    /**\n     * Returns the binary image of the non-WOZ disk in the given drive.\n     * For WOZ disks, this method returns `null`. If the `ext` parameter\n     * is supplied, the returned data will match that format or an error\n     * will be thrown. If the `ext` parameter is not supplied, the\n     * original image format for the disk in the drive will be used. If\n     * the current data on the disk is no longer readable in that format,\n     * an error will be thrown. Using `ext == 'nib'` will always return\n     * an image.\n     */\n    getBinary(driveNo: DriveNumber, ext?: Exclude<NibbleFormat, 'woz'>): MassStorageData | null {\n        const curDisk = this.disks[driveNo];\n        if (!isNibbleDisk(curDisk)) {\n            return null;\n        }\n        const { format, readOnly, tracks, volume } = curDisk;\n        const { name } = curDisk.metadata;\n        const len = format === 'nib' ?\n            tracks.reduce((acc, track) => acc + track.length, 0) :\n            this.sectors * tracks.length * 256;\n        const data = new Uint8Array(len);\n\n        ext = ext ?? format;\n        let idx = 0;\n        for (let t = 0; t < tracks.length; t++) {\n            if (ext === 'nib') {\n                data.set(tracks[t], idx);\n                idx += tracks[t].length;\n            } else {\n                let maxSector: SupportedSectors;\n                let sectorMap: typeof _PO | typeof _DO | typeof _D13O;\n                if (ext === 'd13') {\n                    maxSector = 13;\n                    sectorMap = _D13O;\n                } else {\n                    maxSector = 16;\n                    sectorMap = format === 'po' ? _PO : _DO;\n                }\n\n                for (let s = 0; s < maxSector; s++) {\n                    const _s = sectorMap[s];\n                    const sector = readSector({ ...curDisk, format: ext }, t, _s);\n                    data.set(sector, idx);\n                    idx += sector.length;\n                }\n            }\n        }\n\n        return {\n            ext,\n            metadata: { name },\n            data: data.buffer,\n            readOnly,\n            volume,\n        };\n    }\n\n    // TODO(flan): Does not work with WOZ or D13 disks\n    getBase64(driveNo: DriveNumber) {\n        const curDisk = this.disks[driveNo];\n        if (!isNibbleDisk(curDisk)) {\n            return null;\n        }\n        const data: string[][] | string[] = [];\n        for (let t = 0; t < curDisk.tracks.length; t++) {\n            if (isNibbleDisk(curDisk)) {\n                data[t] = base64_encode(curDisk.tracks[t]);\n            } else {\n                const track: string[] = [];\n                for (let s = 0; s < 0x10; s++) {\n                    track[s] = base64_encode(readSector(curDisk, t, s));\n                }\n                data[t] = track;\n            }\n        }\n        return data;\n    }\n}\n","import { ReadonlyUint8Array } from '../../types';\n\n/*\n    $Cn01=$20\n    $Cn03=$00\n    $Cn05=$03\n    $Cn07=$00 Smartport / $3C Disk controller\n*/\n\nexport const rom = new Uint8Array([\n    0xa2,0x20,0xa2,0x00,0xa2,0x03,0xa2,0x00, 0x20,0x58,0xff,0xba,0xbd,0x00,0x01,0x8d,\n    0xf8,0x07,0x0a,0x0a,0x0a,0x0a,0xa8,0xb9, 0x80,0xc0,0x4a,0xb0,0x11,0xa5,0x00,0xd0,\n    0x0a,0xa5,0x01,0xcd,0xf8,0x07,0xd0,0x03, 0x4c,0xba,0xfa,0x4c,0x00,0xe0,0xa2,0x01,\n    0x86,0x42,0xca,0x86,0x46,0x86,0x47,0x86, 0x44,0xa2,0x08,0x86,0x45,0xad,0xf8,0x07,\n    0x48,0x48,0xa9,0x47,0x48,0xb8,0x50,0x0b, 0x68,0x0a,0x0a,0x0a,0x0a,0xaa,0x4c,0x01,\n    0x08,0x00,0x00,0x60,0x00,0x00,0x60,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0xd7,0x53,\n]) as ReadonlyUint8Array;\n","import { DiskOptions, BlockDisk, ENCODING_BLOCK, BlockFormat } from './types';\n\n/**\n * Returns a `Disk` object for a block volume with block-ordered data.\n * @param options the disk image and options\n */\nexport default function createBlockDisk(fmt: BlockFormat, options: DiskOptions): BlockDisk {\n    const { rawData, readOnly, name } = options;\n\n    if (!rawData) {\n        throw new Error('Requires rawData');\n    }\n\n    const blocks = [];\n    let offset = 0;\n    while (offset  < rawData.byteLength) {\n        blocks.push(new Uint8Array(rawData.slice(offset, offset + 0x200)));\n        offset += 0x200;\n    }\n\n    const disk: BlockDisk = {\n        encoding: ENCODING_BLOCK,\n        format: fmt,\n        blocks,\n        metadata: { name },\n        readOnly,\n    };\n\n    return disk;\n}\n","import { debug, toHex } from '../util';\nimport { rom as smartPortRom } from '../roms/cards/smartport';\nimport { Card, Restorable, byte, word, rom } from '../types';\nimport { MassStorage, BlockDisk, ENCODING_BLOCK, BlockFormat, MassStorageData, DiskFormat } from '../formats/types';\nimport CPU6502, { CpuState, flags } from '../cpu6502';\nimport { create2MGFromBlockDisk, HeaderData, read2MGHeader } from '../formats/2mg';\nimport createBlockDisk from '../formats/block';\nimport { DriveNumber } from '../formats/types';\n\nconst ID = 'SMARTPORT.J.S';\n\nexport interface SmartPortState {\n    disks: BlockDisk[];\n}\n\nexport interface SmartPortOptions {\n    block: boolean;\n}\n\nexport interface Callbacks {\n    driveLight: (driveNo: DriveNumber, on: boolean) => void;\n    dirty: (driveNo: DriveNumber, dirty: boolean) => void;\n    label: (driveNo: DriveNumber, name?: string, side?: string) => void;\n}\n\nclass Address {\n    lo: byte;\n    hi: byte;\n\n    constructor(private cpu: CPU6502, a: byte | word, b?: byte) {\n        if (b === undefined) {\n            this.lo = a & 0xff;\n            this.hi = a >> 8;\n        } else {\n            this.lo = a;\n            this.hi = b;\n        }\n    }\n\n    loByte() {\n        return this.lo;\n    }\n\n    hiByte() {\n        return this.hi;\n    }\n\n    inc(val: byte) {\n        return new Address(this.cpu, ((this.hi << 8 | this.lo) + val) & 0xffff);\n    }\n\n    readByte() {\n        return this.cpu.read(this.hi, this.lo);\n    }\n\n    readWord() {\n        const readLo = this.readByte();\n        const readHi = this.inc(1).readByte();\n\n        return readHi << 8 | readLo;\n    }\n\n    readAddress() {\n        const readLo = this.readByte();\n        const readHi = this.inc(1).readByte();\n\n        return new Address(this.cpu, readLo, readHi);\n    }\n\n    writeByte(val: byte) {\n        this.cpu.write(this.hi, this.lo, val);\n    }\n\n    writeWord(val: word) {\n        this.writeByte(val & 0xff);\n        this.inc(1).writeByte(val >> 8);\n    }\n\n    writeAddress(val: Address) {\n        this.writeByte(val.loByte());\n        this.inc(1).writeByte(val.hiByte());\n    }\n\n    toString() {\n        return '$' + toHex(this.hi) + toHex(this.lo);\n    }\n}\n\n// ProDOS zero page locations\n\nconst COMMAND = 0x42;\nconst UNIT = 0x43;\nconst ADDRESS_LO = 0x44;\n// const ADDRESS_HI = 0x45;\nconst BLOCK_LO = 0x46;\n// const BLOCK_HI = 0x47;\n\n// const IO_ERROR = 0x27;\nconst NO_DEVICE_CONNECTED = 0x28;\nconst WRITE_PROTECTED = 0x2B;\nconst DEVICE_OFFLINE = 0x2F;\n// const VOLUME_DIRECTORY_NOT_FOUND = 0x45;\n// const NOT_A_PRODOS_DISK = 0x52;\n// const VOLUME_CONTROL_BLOCK_FULL = 0x55;\n// const BAD_BUFFER_ADDRESS = 0x56;\n// const DUPLICATE_VOLUME_ONLINE = 0x57;\n\n// Type: Device\n// $00: Memory Expansion Card (RAM disk)\n// $01: 3.5\" disk\n// $02: ProFile-type hard disk\n// $03: Generic SCSI\n// $04: ROM disk\n// $05: SCSI CD-ROM\n// $06: SCSI tape or other SCSI sequential device\n// $07: SCSI hard disk\nconst DEVICE_TYPE_SCSI_HD = 0x07;\n// $08: Reserved\n// $09: SCSI printer\n// $0A: 5-1/4\" disk\n// $0B: Reserved\n// $0C: Reserved\n// $0D: Printer\n// $0E: Clock\n// $0F: Modem\nexport default class SmartPort implements Card, MassStorage<BlockFormat>, Restorable<SmartPortState> {\n\n    private rom: rom;\n    private disks: BlockDisk[] = [];\n    private busy: boolean[] = [];\n    private busyTimeout: ReturnType<typeof setTimeout>[] = [];\n    private ext: DiskFormat[] = [];\n    private metadata: Array<HeaderData | null> = [];\n\n    constructor(\n        private cpu: CPU6502,\n        private callbacks: Callbacks | null,\n        options: SmartPortOptions\n    ) {\n        if (options?.block) {\n            const dumbPortRom = new Uint8Array(smartPortRom);\n            dumbPortRom[0x07] = 0x3C;\n            this.rom = dumbPortRom;\n            debug('DumbPort card');\n        } else {\n            debug('SmartPort card');\n            this.rom = smartPortRom;\n        }\n    }\n\n    private debug(..._args: unknown[]) {\n        // debug.apply(this, arguments);\n    }\n\n    private driveLight(driveNo: DriveNumber) {\n        if (!this.busy[driveNo]) {\n            this.busy[driveNo] = true;\n            this.callbacks?.driveLight(driveNo, true);\n        }\n        clearTimeout(this.busyTimeout[driveNo]);\n        this.busyTimeout[driveNo] = setTimeout(() => {\n            this.busy[driveNo] = false;\n            this.callbacks?.driveLight(driveNo, false);\n        }, 100);\n    }\n\n    /*\n     * dumpBlock\n     */\n\n    dumpBlock(driveNo: DriveNumber, block: number) {\n        let result = '';\n        let b;\n        let jdx;\n\n        for (let idx = 0; idx < 32; idx++) {\n            result += toHex(idx << 4, 4) + ': ';\n            for (jdx = 0; jdx < 16; jdx++) {\n                b = this.disks[driveNo].blocks[block][idx * 16 + jdx];\n                if (jdx === 8) {\n                    result += ' ';\n                }\n                result += toHex(b) + ' ';\n            }\n            result += '        ';\n            for (jdx = 0; jdx < 16; jdx++) {\n                b = this.disks[driveNo].blocks[block][idx * 16 + jdx] & 0x7f;\n                if (jdx === 8) {\n                    result += ' ';\n                }\n                if (b >= 0x20 && b < 0x7f) {\n                    result += String.fromCharCode(b);\n                } else {\n                    result += '.';\n                }\n            }\n            result += '\\n';\n        }\n        return result;\n    }\n\n    /*\n     * getDeviceInfo\n     */\n\n    getDeviceInfo(state: CpuState, driveNo: DriveNumber) {\n        if (this.disks[driveNo]) {\n            const blocks = this.disks[driveNo].blocks.length;\n            state.x = blocks & 0xff;\n            state.y = blocks >> 8;\n\n            state.a = 0;\n            state.s &= ~flags.C;\n        } else {\n            state.a = NO_DEVICE_CONNECTED;\n            state.s |= flags.C;\n        }\n    }\n\n    /*\n     * readBlock\n     */\n\n    readBlock(state: CpuState, driveNo: DriveNumber, block: number, buffer: Address) {\n        this.debug(`read drive=${driveNo}`);\n        this.debug(`read buffer=${buffer.toString()}`);\n        this.debug(`read block=$${toHex(block)}`);\n\n        if (!this.disks[driveNo]?.blocks.length) {\n            debug('Drive', driveNo, 'is empty');\n            state.a = DEVICE_OFFLINE;\n            state.s |= flags.C;\n            return;\n        }\n\n        // debug('read', '\\n' + dumpBlock(drive, block));\n        this.driveLight(driveNo);\n\n        for (let idx = 0; idx < 512; idx++) {\n            buffer.writeByte(this.disks[driveNo].blocks[block][idx]);\n            buffer = buffer.inc(1);\n        }\n\n        state.a = 0;\n        state.s &= ~flags.C;\n    }\n\n    /*\n     * writeBlock\n     */\n\n    writeBlock(state: CpuState, driveNo: DriveNumber, block: number, buffer: Address) {\n        this.debug(`write drive=${driveNo}`);\n        this.debug(`write buffer=${buffer.toString()}`);\n        this.debug(`write block=$${toHex(block)}`);\n\n        if (!this.disks[driveNo]?.blocks.length) {\n            debug('Drive', driveNo, 'is empty');\n            state.a = DEVICE_OFFLINE;\n            state.s |= flags.C;\n            return;\n        }\n\n        if (this.disks[driveNo].readOnly) {\n            debug('Drive', driveNo, 'is write protected');\n            state.a = WRITE_PROTECTED;\n            state.s |= flags.C;\n            return;\n        }\n\n        // debug('write', '\\n' + dumpBlock(drive, block));\n        this.driveLight(driveNo);\n\n        for (let idx = 0; idx < 512; idx++) {\n            this.disks[driveNo].blocks[block][idx] = buffer.readByte();\n            buffer = buffer.inc(1);\n        }\n        state.a = 0;\n        state.s &= ~flags.C;\n    }\n\n    /*\n     * formatDevice\n     */\n\n    formatDevice(state: CpuState, driveNo: DriveNumber) {\n        if (!this.disks[driveNo]?.blocks.length) {\n            debug('Drive', driveNo, 'is empty');\n            state.a = DEVICE_OFFLINE;\n            state.s |= flags.C;\n            return;\n        }\n\n        if (this.disks[driveNo].readOnly) {\n            debug('Drive', driveNo, 'is write protected');\n            state.a = WRITE_PROTECTED;\n            state.s |= flags.C;\n            return;\n        }\n\n        for (let idx = 0; idx < this.disks[driveNo].blocks.length; idx++) {\n            this.disks[driveNo].blocks[idx] = new Uint8Array();\n            for (let jdx = 0; jdx < 512; jdx++) {\n                this.disks[driveNo].blocks[idx][jdx] = 0;\n            }\n        }\n\n        state.a = 0;\n        state.s &= flags.C;\n    }\n\n    private access(off: byte, val: byte) {\n        let result;\n        const readMode = val === undefined;\n\n        switch (off & 0x8f) {\n            case 0x80:\n                if (readMode) {\n                    result = 0;\n                    for (let idx = 0; idx < this.disks.length; idx++) {\n                        result <<= 1;\n                        if (this.disks[idx]) {\n                            result |= 0x01;\n                        }\n                    }\n                }\n                break;\n        }\n\n        return result;\n    }\n\n    /*\n     * Interface\n     */\n\n    ioSwitch(off: byte, val: byte) {\n        return this.access(off, val);\n    }\n\n    read(_page: byte, off: byte) {\n        const state = this.cpu.getState();\n        let cmd;\n        let unit;\n        let buffer;\n        let block;\n        const blockOff = this.rom[0xff];\n        const smartOff = blockOff + 3;\n\n        if (off === blockOff && this.cpu.getSync()) { // Regular block device entry POINT\n            this.debug('block device entry');\n            cmd = this.cpu.read(0x00, COMMAND);\n            unit = this.cpu.read(0x00, UNIT);\n            const bufferAddr = new Address(this.cpu, ADDRESS_LO);\n            const blockAddr = new Address(this.cpu, BLOCK_LO);\n            const drive = (unit & 0x80) ? 2 : 1;\n            const driveSlot = (unit & 0x70) >> 4;\n\n            buffer = bufferAddr.readAddress();\n            block = blockAddr.readWord();\n\n            this.debug(`cmd=${cmd}`);\n            this.debug('unit=$' + toHex(unit));\n\n            this.debug(`slot=${driveSlot} drive=${drive}`);\n            this.debug(`buffer=${buffer.toString()} block=$${toHex(block)}`);\n\n            switch (cmd) {\n                case 0: // INFO\n                    this.getDeviceInfo(state, drive);\n                    break;\n\n                case 1: // READ\n                    this.readBlock(state, drive, block, buffer);\n                    break;\n\n                case 2: // WRITE\n                    this.writeBlock(state, drive, block, buffer);\n                    break;\n\n                case 3: // FORMAT\n                    this.formatDevice(state, drive);\n                    break;\n            }\n        } else if (off === smartOff && this.cpu.getSync()) {\n            this.debug('smartport entry');\n            const stackAddr = new Address(this.cpu, state.sp + 1, 0x01);\n            let blocks;\n\n            const retVal = stackAddr.readAddress();\n\n            this.debug(`return=${retVal.toString()}`);\n\n            const cmdBlockAddr = retVal.inc(1);\n            cmd = cmdBlockAddr.readByte();\n            const cmdListAddr = cmdBlockAddr.inc(1).readAddress();\n\n            this.debug(`cmd=${cmd}`);\n            this.debug(`cmdListAddr=${cmdListAddr.toString()}`);\n\n            stackAddr.writeAddress(retVal.inc(3));\n\n            const parameterCount = cmdListAddr.readByte();\n            unit = cmdListAddr.inc(1).readByte();\n            const drive = unit ? 2 : 1;\n            buffer = cmdListAddr.inc(2).readAddress();\n            let status;\n\n            this.debug(`parameterCount=${parameterCount}`);\n            switch (cmd) {\n                case 0x00: // INFO\n                    status = cmdListAddr.inc(4).readByte();\n                    this.debug(`info unit=${unit}`);\n                    this.debug(`info buffer=${buffer.toString()}`);\n                    this.debug(`info status=${status}`);\n                    switch (unit) {\n                        case 0:\n                            switch (status) {\n                                case 0:\n                                    buffer.writeByte(2); // two devices\n                                    buffer.inc(1).writeByte(1 << 6); // no interrupts\n                                    buffer.inc(2).writeByte(0x2); // Other vendor\n                                    buffer.inc(3).writeByte(0x0); // Other vendor\n                                    buffer.inc(4).writeByte(0); // reserved\n                                    buffer.inc(5).writeByte(0); // reserved\n                                    buffer.inc(6).writeByte(0); // reserved\n                                    buffer.inc(7).writeByte(0); // reserved\n                                    state.x = 8;\n                                    state.y = 0;\n                                    state.a = 0;\n                                    state.s &= ~flags.C;\n                                    break;\n                            }\n                            break;\n                        default: // Unit 1\n                            switch (status) {\n                                case 0:\n                                    blocks = this.disks[unit]?.blocks.length ?? 0;\n                                    buffer.writeByte(0xf0); // W/R Block device in drive\n                                    buffer.inc(1).writeByte(blocks & 0xff); // 1600 blocks\n                                    buffer.inc(2).writeByte((blocks & 0xff00) >> 8);\n                                    buffer.inc(3).writeByte((blocks & 0xff0000) >> 16);\n                                    state.x = 4;\n                                    state.y = 0;\n                                    state.a = 0;\n                                    state.s &= ~flags.C;\n                                    break;\n                                case 3:\n                                    blocks = this.disks[unit]?.blocks.length ?? 0;\n                                    buffer.writeByte(0xf0); // W/R Block device in drive\n                                    buffer.inc(1).writeByte(blocks & 0xff); // Blocks low byte\n                                    buffer.inc(2).writeByte((blocks & 0xff00) >> 8); // Blocks middle byte\n                                    buffer.inc(3).writeByte((blocks & 0xff0000) >> 16); // Blocks high byte\n                                    buffer.inc(4).writeByte(ID.length); // Vendor ID length\n                                    for (let idx = 0; idx < ID.length; idx++) { // Vendor ID\n                                        buffer.inc(5 + idx).writeByte(ID.charCodeAt(idx));\n                                    }\n                                    buffer.inc(21).writeByte(DEVICE_TYPE_SCSI_HD); // Device Type\n                                    buffer.inc(22).writeByte(0x0); // Device Subtype\n                                    buffer.inc(23).writeWord(0x0101); // Version\n                                    state.x = 24;\n                                    state.y = 0;\n                                    state.a = 0;\n                                    state.s &= ~flags.C;\n                                    break;\n                            }\n                            break;\n                    }\n                    state.a = 0;\n                    state.s &= ~flags.C;\n                    break;\n\n                case 0x01: // READ BLOCK\n                    block = cmdListAddr.inc(4).readWord();\n                    this.readBlock(state, drive, block, buffer);\n                    break;\n\n                case 0x02: // WRITE BLOCK\n                    block = cmdListAddr.inc(4).readWord();\n                    this.writeBlock(state, drive, block, buffer);\n                    break;\n\n                case 0x03: // FORMAT\n                    this.formatDevice(state, drive);\n                    break;\n\n                case 0x04: // CONTROL\n                    break;\n\n                case 0x05: // INIT\n                    break;\n\n                case 0x06: // OPEN\n                    break;\n\n                case 0x07: // CLOSE\n                    break;\n\n                case 0x08: // READ\n                    break;\n\n                case 0x09: // WRITE\n                    break;\n            }\n        }\n\n        this.cpu.setState(state);\n\n        return this.rom[off];\n    }\n\n    write() {\n        // not writable\n    }\n\n    getState() {\n        return {\n            disks: this.disks.map(\n                (disk) => {\n                    const result: BlockDisk = {\n                        blocks: disk.blocks.map(\n                            (block) => new Uint8Array(block)\n                        ),\n                        encoding: ENCODING_BLOCK,\n                        format: disk.format,\n                        readOnly: disk.readOnly,\n                        metadata: { ...disk.metadata },\n                    };\n                    return result;\n                }\n            )\n        };\n    }\n\n    setState(state: SmartPortState) {\n        this.disks = state.disks.map(\n            (disk) => {\n                const result: BlockDisk = {\n                    blocks: disk.blocks.map(\n                        (block) => new Uint8Array(block)\n                    ),\n                    encoding: ENCODING_BLOCK,\n                    format: disk.format,\n                    readOnly: disk.readOnly,\n                    metadata: { ...disk.metadata },\n                };\n                return result;\n            }\n        );\n    }\n\n    setBinary(driveNo: DriveNumber, name: string, fmt: BlockFormat, rawData: ArrayBuffer) {\n        let volume = 254;\n        let readOnly = false;\n        if (fmt === '2mg') {\n            const header = read2MGHeader(rawData);\n            this.metadata[driveNo] = header;\n            const { bytes, offset } = header;\n            volume = header.volume;\n            readOnly = header.readOnly;\n            rawData = rawData.slice(offset, offset + bytes);\n        } else {\n            this.metadata[driveNo] = null;\n        }\n        const options = {\n            rawData,\n            name,\n            readOnly,\n            volume,\n        };\n\n        this.ext[driveNo] = fmt;\n        this.disks[driveNo] = createBlockDisk(fmt, options);\n        this.callbacks?.label(driveNo, name);\n\n        return true;\n    }\n\n    getBinary(drive: number): MassStorageData | null {\n        if (!this.disks[drive]) {\n            return null;\n        }\n        const disk = this.disks[drive];\n        const ext = this.ext[drive];\n        const { readOnly } = disk;\n        const { name } = disk.metadata;\n        let data: ArrayBuffer;\n        if (ext === '2mg') {\n            data = create2MGFromBlockDisk(this.metadata[drive], disk);\n        } else {\n            const { blocks } = disk;\n            const byteArray = new Uint8Array(blocks.length * 512);\n            for (let idx = 0; idx < blocks.length; idx++) {\n                byteArray.set(blocks[idx], idx * 512);\n            }\n            data = byteArray.buffer;\n        }\n        return {\n            metadata: { name },\n            ext,\n            data,\n            readOnly,\n        };\n    }\n}\n","import { byte } from 'js/types';\n\nexport const BLOCK_SIZE = 512;\n\nexport const STORAGE_TYPES = {\n    DELETED: 0x0,\n    SEEDLING: 0x1,\n    SAPLING: 0x2,\n    TREE: 0x3,\n    PASCAL: 0x4,\n    EXTENDED: 0x5,\n    DIRECTORY: 0xD,\n    SUBDIRECTORY_HEADER: 0xE,\n    VDH_HEADER: 0xF\n} as const;\n\nexport const ACCESS_TYPES = {\n    DELETE: 0x80,\n    RENAME: 0x40,\n    BACKUP: 0x20,\n    WRITE: 0x02,\n    READ: 0x01,\n    ALL: 0xE3\n} as const;\n\nexport const FILE_TYPES: Record<byte, string> = {\n    0x00: 'UNK', // Typeless file (SOS and ProDOS)\n    0x01: 'BAD', // Bad block file\n    0x02: 'PDC', // Pascal code file\n    0x03: 'PTX', // Pascal text file\n    0x04: 'TXT', // ASCII text file (SOS and ProDOS)\n    0x05: 'PDA', // Pascal data file\n    0x06: 'BIN', // General binary file (SOS and ProDOS)\n    0x07: 'FNT', // Font file\n    0x08: 'FOT', // Graphics screen file\n    0x09: 'BA3', // Business BASIC program file\n    0x0A: 'DA3', // Business BASIC data file\n    0x0B: 'WPF', // Word Processor file\n    0x0C: 'SOS', // SOS system file\n    0x0F: 'DIR', // Directory file (SOS and ProDOS)\n    0x10: 'RPD', // RPS data file\n    0x11: 'RPI', // RPS index file\n    0x12: 'AFD', // AppleFile discard file\n    0x13: 'AFM', // AppleFile model file\n    0x14: 'ARF', // AppleFile report format file\n    0x15: 'SCL', // Screen Library file\n    0x19: 'ADB', // AppleWorks Data Base file\n    0x1A: 'AWP', // AppleWorks Word Processor file\n    0x1B: 'ASP', // AppleWorks Spreadsheet file\n    0xEF: 'PAR', // Pascal area\n    0xF0: 'CMD', // ProDOS CI added command file\n    0xFA: 'INT', // Integer BASIC program file\n    0xFB: 'IVR', // Integer BASIC variable file\n    0xFC: 'BAS', // Applesoft program file\n    0xFD: 'VAR', // Applesoft variables file\n    0xFE: 'REL', // Relocatable code file (EDASM)\n    0xFF: 'SYS'  // ProDOS system file\n} as const;\n","import { word } from 'js/types';\nimport { ProDOSVolume } from '.';\n\nexport interface ProDOSFileData {\n    data: Uint8Array;\n    address: word;\n}\n\nexport abstract class ProDOSFile {\n    constructor(public volume: ProDOSVolume) { }\n\n    abstract read(): Uint8Array;\n    abstract write(data: Uint8Array): void;\n}\n","import { ProDOSVolume } from '.';\nimport type { BitMap } from './bit_map';\nimport { BLOCK_SIZE, STORAGE_TYPES } from './constants';\nimport { FileEntry } from './file_entry';\nimport { ProDOSFile } from './base_file';\n\nexport class SaplingFile extends ProDOSFile {\n    blocks: Uint8Array[];\n    bitMap: BitMap;\n\n    constructor(volume: ProDOSVolume, private fileEntry: FileEntry) {\n        super(volume);\n        this.blocks = this.volume.blocks();\n        this.bitMap = this.volume.bitMap();\n    }\n\n    getBlockPointers() {\n        const saplingBlock = this.blocks[this.fileEntry.keyPointer];\n        const seedlingPointers = new DataView(saplingBlock);\n\n        const pointers = [this.fileEntry.keyPointer];\n        for (let idx = 0; idx < 256; idx++) {\n            const seedlingPointer =\n                seedlingPointers.getUint8(idx) |\n                (seedlingPointers.getUint8(0x100 + idx) << 8);\n            if (seedlingPointer) {\n                pointers.push(seedlingPointer);\n            }\n        }\n        return pointers;\n    }\n\n    // TODO(whscullin): Why did I not use getBlockPointers for these...\n    read() {\n        const saplingBlock = this.blocks[this.fileEntry.keyPointer];\n        const seedlingPointers = new DataView(saplingBlock.buffer);\n\n        let remainingLength = this.fileEntry.eof;\n        const data = new Uint8Array(remainingLength);\n        let offset = 0;\n        let idx = 0;\n        while (remainingLength > 0) {\n            const seedlingPointer =\n                seedlingPointers.getUint8(idx) |\n                (seedlingPointers.getUint8(0x100 + idx) << 8);\n            if (seedlingPointer) {\n                const seedlingBlock = this.blocks[seedlingPointer];\n                const bytes = seedlingBlock.slice(0, Math.min(BLOCK_SIZE, remainingLength));\n\n                data.set(bytes, offset);\n            }\n            idx++;\n            offset += BLOCK_SIZE;\n            remainingLength -= BLOCK_SIZE;\n        }\n        return data;\n    }\n\n    write(data: Uint8Array) {\n        this.fileEntry.storageType = STORAGE_TYPES.SAPLING;\n        this.fileEntry.keyPointer = this.bitMap.allocBlock();\n        this.fileEntry.eof = data.byteLength;\n        const saplingBlock = this.blocks[this.fileEntry.keyPointer];\n        const seedlingPointers = new DataView(saplingBlock);\n\n        let remainingLength = data.byteLength;\n        let offset = 0;\n        let idx = 0;\n\n        while (remainingLength > 0) {\n            const seedlingPointer = this.bitMap.allocBlock();\n            seedlingPointers.setUint8(idx, seedlingPointer & 0xff);\n            seedlingPointers.setUint8(0x100 + idx, seedlingPointer >> 8);\n            const seedlingBlock = this.blocks[seedlingPointer];\n            seedlingBlock.set(data.slice(offset, Math.min(BLOCK_SIZE, remainingLength)));\n            idx++;\n            offset += BLOCK_SIZE;\n            remainingLength -= BLOCK_SIZE;\n        }\n        this.fileEntry.write();\n    }\n\n    delete() {\n        const pointers = this.getBlockPointers();\n        for (let idx = 0; idx < pointers.length; idx++) {\n            this.bitMap.freeBlock(pointers[idx]);\n        }\n    }\n}\n\n","import type { ProDOSVolume } from '.';\nimport { ProDOSFile } from './base_file';\nimport { BitMap } from './bit_map';\nimport { STORAGE_TYPES } from './constants';\nimport { FileEntry } from './file_entry';\n\nexport class SeedlingFile extends ProDOSFile {\n    blocks: Uint8Array[];\n    bitMap: BitMap;\n\n    constructor(volume: ProDOSVolume, private fileEntry: FileEntry) {\n        super(volume);\n        this.blocks = volume.blocks();\n        this.bitMap = volume.bitMap();\n    }\n\n    getBlockPointers() {\n        const pointers = [this.fileEntry.keyPointer];\n        return pointers;\n    }\n\n    read() {\n        const seedlingBlock = this.blocks[this.fileEntry.keyPointer];\n        const data = new Uint8Array(this.fileEntry.eof);\n        data.set(seedlingBlock.slice(0, this.fileEntry.eof));\n        return data;\n    }\n\n    write(data: Uint8Array) {\n        if (this.fileEntry.keyPointer) {\n            this.delete();\n        }\n        this.fileEntry.storageType = STORAGE_TYPES.SEEDLING;\n        this.fileEntry.keyPointer = this.bitMap.allocBlock();\n        this.fileEntry.eof = data.byteLength;\n        const seedlingBlock = this.blocks[this.fileEntry.keyPointer];\n        seedlingBlock.set(data);\n        this.fileEntry.write();\n    }\n\n    delete() {\n        const pointers = this.getBlockPointers();\n        for (let idx = 0; idx < pointers.length; idx++) {\n            this.bitMap.freeBlock(pointers[idx]);\n        }\n    }\n}\n\n","import type { ProDOSVolume } from '.';\nimport { ProDOSFile } from './base_file';\nimport { BitMap } from './bit_map';\nimport { BLOCK_SIZE, STORAGE_TYPES } from './constants';\nimport type { FileEntry } from './file_entry';\n\nexport class TreeFile extends ProDOSFile {\n    private bitMap: BitMap;\n    private blocks: Uint8Array[];\n\n    constructor(volume: ProDOSVolume, private fileEntry: FileEntry) {\n        super(volume);\n        this.blocks = volume.blocks();\n        this.bitMap = volume.bitMap();\n    }\n\n    getBlockPointers() {\n        const treeBlock = this.blocks[this.fileEntry.keyPointer];\n        const saplingPointers = new DataView(treeBlock);\n        const pointers = [];\n        for (let idx = 0; idx < 256; idx++) {\n            const saplingPointer =\n                saplingPointers.getUint8(idx) |\n                (saplingPointers.getUint8(0x100 + idx) << 8);\n            if (saplingPointer) {\n                pointers.push(saplingPointer);\n                const seedlingPointers = new DataView(this.blocks[saplingPointer]);\n                for (let jdx = 0; jdx < 256; jdx++) {\n                    const seedlingPointer =\n                        seedlingPointers.getUint8(idx) |\n                        (seedlingPointers.getUint8(0x100 + idx) << 8);\n                    if (seedlingPointer) {\n                        pointers.push(seedlingPointer);\n                    }\n                }\n            }\n        }\n        return pointers;\n    }\n\n    // TODO(whscullin): Why did I not use getBlockPointers for these...\n    read() {\n        const treeBlock = this.blocks[this.fileEntry.keyPointer];\n        const saplingPointers = new DataView(treeBlock);\n        let remainingLength = this.fileEntry.eof;\n        const data = new Uint8Array(remainingLength);\n        let offset = 0;\n        let idx = 0;\n\n        while (remainingLength > 0) {\n            const saplingPointer =\n                saplingPointers.getUint8(idx) |\n                (saplingPointers.getUint8(0x100 + idx) << 8);\n            let jdx = 0;\n            if (saplingPointer) {\n                const saplingBlock = this.blocks[saplingPointer];\n                const seedlingPointers = new DataView(saplingBlock);\n\n                while (jdx < 256 && remainingLength > 0) {\n                    const seedlingPointer =\n                        seedlingPointers.getUint8(idx) |\n                        (seedlingPointers.getUint8(0x100 + idx) << 8);\n                    if (seedlingPointer) {\n                        const seedlingBlock = this.blocks[seedlingPointer];\n                        const bytes = seedlingBlock.slice(Math.min(BLOCK_SIZE, remainingLength));\n\n                        data.set(bytes, offset);\n                    }\n                    jdx++;\n                    offset += BLOCK_SIZE;\n                    remainingLength -= BLOCK_SIZE;\n                }\n            } else {\n                offset += BLOCK_SIZE * 256;\n                remainingLength -= BLOCK_SIZE * 256;\n            }\n            idx++;\n        }\n        return data;\n    }\n\n    write(data: Uint8Array) {\n        this.fileEntry.storageType = STORAGE_TYPES.TREE;\n        this.fileEntry.keyPointer = this.bitMap.allocBlock();\n        this.fileEntry.eof = data.byteLength;\n\n        const treeBlock = this.blocks[this.fileEntry.keyPointer];\n        const saplingPointers = new DataView(treeBlock);\n\n        let remainingLength = this.fileEntry.eof;\n        let offset = 0;\n        let idx = 0;\n\n        while (remainingLength > 0) {\n            const saplingPointer = this.bitMap.allocBlock();\n            const saplingBlock = this.blocks[saplingPointer];\n            saplingPointers.setUint8(idx, saplingPointer & 0xff);\n            saplingPointers.setUint8(0x100 + idx, saplingPointer >> 8);\n            const seedlingPointers = new DataView(saplingBlock);\n\n            let jdx = 0;\n\n            while (jdx < 256 && remainingLength > 0) {\n                const seedlingPointer = this.bitMap.allocBlock();\n                seedlingPointers.setUint8(idx, seedlingPointer & 0xff);\n                seedlingPointers.setUint8(0x100 + idx, seedlingPointer >> 8);\n                const seedlingBlock = this.blocks[seedlingPointer];\n                seedlingBlock.set(data.slice(offset, Math.min(BLOCK_SIZE, remainingLength)));\n                jdx++;\n                offset += BLOCK_SIZE;\n                remainingLength -= BLOCK_SIZE;\n            }\n            idx++;\n        }\n        this.fileEntry.write();\n    }\n\n    delete() {\n        const pointers = this.getBlockPointers();\n        for (let idx = 0; idx < pointers.length; idx++) {\n            this.bitMap.freeBlock(pointers[idx]);\n        }\n    }\n}\n\n","import { dateToUint32, readFileName, writeFileName, uint32ToDate } from './utils';\nimport { STORAGE_TYPES, ACCESS_TYPES } from './constants';\nimport type { byte, word } from 'js/types';\nimport { toHex } from 'js/util';\nimport { ProDOSVolume } from '.';\nimport { VDH } from './vdh';\nimport { Directory } from './directory';\nimport { ProDOSFile } from './base_file';\nimport { SaplingFile } from './sapling_file';\nimport { SeedlingFile } from './seedling_file';\nimport { TreeFile } from './tree_file';\nimport ApplesoftDump from 'js/applesoft/decompiler';\n\nconst ENTRY_OFFSETS = {\n    STORAGE_TYPE: 0x00,\n    NAME_LENGTH: 0x00,\n    FILE_NAME: 0x01,\n    FILE_TYPE: 0x10,\n    KEY_POINTER: 0x11,\n    BLOCKS_USED: 0x13,\n    EOF: 0x15,\n    CREATION: 0x18,\n    CASE_BITS: 0x1C,\n    VERSION: 0x1C,\n    MIN_VERSION: 0x1D,\n    ACCESS: 0x1E,\n    AUX_TYPE: 0x1F,\n    LAST_MOD: 0x21,\n    HEADER_POINTER: 0x25\n} as const;\n\nexport class FileEntry {\n    block: DataView;\n    offset: word;\n\n    storageType: byte = STORAGE_TYPES.SEEDLING;\n    name: string = 'Untitled';\n    fileType: byte = 0;\n    auxType: word = 0;\n    blocksUsed: word = 0;\n    eof: number = 0;\n    access: byte = ACCESS_TYPES.ALL;\n    creation: Date = new Date();\n    lastMod: Date = new Date();\n    keyPointer: word = 0;\n    headerPointer: word = 0;\n\n    constructor(public volume: ProDOSVolume) { }\n\n    read(block: DataView, offset: word) {\n        this.block = block;\n        this.offset = offset;\n\n        this.storageType = block.getUint8(offset + ENTRY_OFFSETS.STORAGE_TYPE) >> 4;\n        const nameLength = block.getUint8(offset + ENTRY_OFFSETS.NAME_LENGTH) & 0xF;\n        const caseBits = block.getUint16(offset + ENTRY_OFFSETS.CASE_BITS, true);\n        this.name = readFileName(block, offset + ENTRY_OFFSETS.FILE_NAME, nameLength, caseBits);\n        this.fileType = block.getUint8(offset + ENTRY_OFFSETS.FILE_TYPE);\n        this.keyPointer = block.getUint16(offset + ENTRY_OFFSETS.KEY_POINTER, true);\n        this.blocksUsed = block.getUint16(offset + ENTRY_OFFSETS.BLOCKS_USED, true);\n        this.eof =\n            block.getUint8(offset + ENTRY_OFFSETS.EOF) |\n            block.getUint8(offset + ENTRY_OFFSETS.EOF + 1) << 8 |\n            block.getUint8(offset + ENTRY_OFFSETS.EOF + 2) << 16;\n        this.creation = uint32ToDate(block.getUint32(offset + ENTRY_OFFSETS.CREATION, true));\n        this.access = block.getUint8(offset + ENTRY_OFFSETS.ACCESS);\n        this.auxType = block.getUint16(offset + ENTRY_OFFSETS.AUX_TYPE, true);\n        this.lastMod = uint32ToDate(block.getUint32(offset + ENTRY_OFFSETS.LAST_MOD, true));\n        this.headerPointer = block.getUint16(offset + ENTRY_OFFSETS.HEADER_POINTER, true);\n    }\n\n    write(block?: DataView, offset?: word) {\n        this.block = block ?? this.block;\n        this.offset = offset ?? this.offset;\n\n        const nameLength = this.name.length & 0x0f;\n        this.block.setUint8(this.offset + ENTRY_OFFSETS.STORAGE_TYPE, this.storageType << 4 & nameLength);\n        const caseBits = writeFileName(this.block, this.offset + ENTRY_OFFSETS.FILE_NAME, this.name);\n        this.block.setUint16(this.offset + ENTRY_OFFSETS.CASE_BITS, caseBits);\n        this.block.setUint8(this.offset + ENTRY_OFFSETS.FILE_TYPE, this.fileType);\n        this.block.setUint16(this.offset + ENTRY_OFFSETS.KEY_POINTER, this.keyPointer, true);\n        this.block.setUint16(this.offset + ENTRY_OFFSETS.BLOCKS_USED, this.blocksUsed, true);\n        this.block.setUint8(this.offset + ENTRY_OFFSETS.EOF, this.eof & 0xff);\n        this.block.setUint8(this.offset + ENTRY_OFFSETS.EOF + 1, (this.eof && 0xff00) >> 8);\n        this.block.setUint8(this.offset + ENTRY_OFFSETS.EOF + 2, this.eof >> 16);\n        this.block.setUint32(this.offset + ENTRY_OFFSETS.CREATION, dateToUint32(this.creation), true);\n        this.block.setUint8(this.offset + ENTRY_OFFSETS.ACCESS, this.access);\n        this.block.setUint16(this.offset + ENTRY_OFFSETS.AUX_TYPE, this.auxType, true);\n        this.block.setUint32(this.offset + ENTRY_OFFSETS.LAST_MOD, dateToUint32(this.lastMod), true);\n        this.block.setUint16(this.offset + ENTRY_OFFSETS.HEADER_POINTER, this.headerPointer, true);\n    }\n\n    getFileData() {\n        let file: ProDOSFile | null = null;\n\n        switch (this.storageType) {\n            case STORAGE_TYPES.SEEDLING:\n                file = new SeedlingFile(this.volume, this);\n                break;\n            case STORAGE_TYPES.SAPLING:\n                file = new SaplingFile(this.volume, this);\n                break;\n            case STORAGE_TYPES.TREE:\n                file = new TreeFile(this.volume, this);\n                break;\n        }\n\n        if (file) {\n            return file.read();\n        }\n    }\n\n    getFileText() {\n        const data = this.getFileData();\n        let result: string | null = null;\n        let address = 0;\n\n        if (data) {\n            if (this.fileType === 0xFC) { // BAS\n                result = new ApplesoftDump(data, 0).decompile();\n            } else {\n                if (this.fileType === 0x06) { // BIN\n                    address = this.auxType;\n                }\n                result = '';\n                let hex = '';\n                let ascii = '';\n                for (let idx = 0; idx < data.length; idx++) {\n                    const val = data[idx];\n                    if (idx % 16 === 0) {\n                        if (idx !== 0) {\n                            result += `${hex}    ${ascii}\\n`;\n                        }\n                        hex = '';\n                        ascii = '';\n                        result += `${toHex(address + idx, 4)}:`;\n                    }\n                    hex += ` ${toHex(val)}`;\n                    ascii += (val & 0x7f) >= 0x20 ? String.fromCharCode(val & 0x7f) : '.';\n                }\n                result += '\\n';\n            }\n        }\n        return result;\n    }\n}\n\nexport function readEntries(volume: ProDOSVolume, block: DataView, header: VDH | Directory) {\n    const blocks = volume.blocks();\n    const entries = [];\n    let offset = header.entryLength + 0x4;\n    let count = 2;\n    let next = header.next;\n\n    for (let idx = 0; idx < header.fileCount;) {\n        const fileEntry = new FileEntry(volume);\n        fileEntry.read(block, offset);\n        entries.push(fileEntry);\n        if (fileEntry.storageType !== STORAGE_TYPES.DELETED) {\n            idx++;\n        }\n        offset += header.entryLength;\n        count++;\n        if (count > header.entriesPerBlock) {\n            block = new DataView(blocks[next].buffer);\n            next = block.getUint16(0x02, true);\n            offset = 0x4;\n            count = 1;\n        }\n    }\n\n    return entries;\n}\n\nexport function writeEntries(volume: ProDOSVolume, block: DataView, header: VDH | Directory) {\n    const blocks = volume.blocks();\n    const bitMap = volume.bitMap();\n    let offset = header.entryLength + 0x4;\n    let count = 2;\n    let next = header.next;\n\n    for (let idx = 0; idx < header.fileCount; idx++) {\n        const fileEntry = header.entries[idx];\n        fileEntry.write(block, offset);\n        offset += header.entryLength;\n        count++;\n        if (count >= header.entriesPerBlock) {\n            const prev = next;\n            if (!next) {\n                next = bitMap.allocBlock();\n            }\n            block = new DataView(blocks[next].buffer);\n            block.setUint16(0x00, prev, true);\n            next = block.getUint16(0x02, true);\n            offset = 0x4;\n            count = 0;\n        }\n    }\n    next = block.getUint16(0x02, true);\n    block.setUint16(0x02, 0, true);\n    while (next) {\n        block = new DataView(blocks[next].buffer);\n        bitMap.freeBlock(next);\n        next = block.getUint16(0x02, true);\n    }\n}\n","\nimport { dateToUint32, readFileName, writeFileName, uint32ToDate } from './utils';\nimport { FileEntry, readEntries, writeEntries } from './file_entry';\nimport { STORAGE_TYPES, ACCESS_TYPES } from './constants';\nimport { byte, word } from 'js/types';\nimport { ProDOSVolume } from '.';\nimport { VDH } from './vdh';\n\nexport const DIRECTORY_OFFSETS = {\n    PREV: 0x00,\n    NEXT: 0x02,\n    STORAGE_TYPE: 0x04,\n    NAME_LENGTH: 0x04,\n    DIRECTORY_NAME: 0x05,\n    RESERVED_1: 0x14,\n    CREATION: 0x1C,\n    CASE_BITS: 0x20,\n    VERSION: 0x20,\n    MIN_VERSION: 0x21,\n    ACCESS: 0x22,\n    ENTRY_LENGTH: 0x23,\n    ENTRIES_PER_BLOCK: 0x24,\n    FILE_COUNT: 0x25,\n    PARENT: 0x27,\n    PARENT_ENTRY_NUMBER: 0x29,\n    PARENT_ENTRY_LENGTH: 0x2A\n} as const;\n\nexport class Directory {\n    blocks: Uint8Array[];\n    vdh: VDH;\n\n    prev: word = 0;\n    next: word = 0;\n    storageType: byte = STORAGE_TYPES.DIRECTORY;\n    name: string = 'Untitled';\n    creation: Date = new Date();\n    access: byte = ACCESS_TYPES.ALL;\n    entryLength = 0x27;\n    entriesPerBlock: byte = 23;\n    fileCount = 0;\n    parent: word = 0;\n    parentEntryLength: byte = 0;\n    parentEntryNumber: byte = 0;\n    entries: FileEntry[] = [];\n\n    constructor(private volume: ProDOSVolume, private fileEntry: FileEntry) {\n        this.blocks = this.volume.blocks();\n        this.vdh = this.volume.vdh();\n        this.read();\n    }\n\n    read(fileEntry?: FileEntry) {\n        this.fileEntry = fileEntry ?? this.fileEntry;\n\n        const block = new DataView(this.blocks[this.fileEntry.keyPointer].buffer);\n\n        this.prev = block.getUint16(DIRECTORY_OFFSETS.PREV, true);\n        this.next = block.getUint16(DIRECTORY_OFFSETS.NEXT, true);\n        this.storageType = block.getUint8(DIRECTORY_OFFSETS.STORAGE_TYPE) >> 4;\n        const nameLength = block.getUint8(DIRECTORY_OFFSETS.NAME_LENGTH) & 0xF;\n        const caseBits = block.getUint8(DIRECTORY_OFFSETS.CASE_BITS);\n        this.name = readFileName(block, DIRECTORY_OFFSETS.DIRECTORY_NAME, nameLength, caseBits);\n        this.creation = uint32ToDate(block.getUint32(DIRECTORY_OFFSETS.CREATION, true));\n        this.access = block.getUint8(DIRECTORY_OFFSETS.ACCESS);\n        this.entryLength = block.getUint8(DIRECTORY_OFFSETS.ENTRY_LENGTH);\n        this.entriesPerBlock = block.getUint8(DIRECTORY_OFFSETS.ENTRIES_PER_BLOCK);\n        this.fileCount = block.getUint16(DIRECTORY_OFFSETS.FILE_COUNT, true);\n        this.parent = block.getUint16(DIRECTORY_OFFSETS.PARENT, true);\n        this.parentEntryNumber = block.getUint8(DIRECTORY_OFFSETS.PARENT_ENTRY_NUMBER);\n        this.parentEntryLength = block.getUint8(DIRECTORY_OFFSETS.PARENT_ENTRY_LENGTH);\n\n        this.entries = readEntries(this.volume, block, this);\n    }\n\n    write() {\n        const block = new DataView(this.blocks[this.fileEntry.keyPointer].buffer);\n\n        const nameLength = this.name.length & 0x0f;\n        block.setUint8(DIRECTORY_OFFSETS.STORAGE_TYPE, this.storageType << 4 & nameLength);\n        const caseBits = writeFileName(block, DIRECTORY_OFFSETS.DIRECTORY_NAME, this.name);\n        block.setUint32(DIRECTORY_OFFSETS.CREATION, dateToUint32(this.creation), true);\n        block.setUint16(DIRECTORY_OFFSETS.CASE_BITS, caseBits);\n        block.setUint8(DIRECTORY_OFFSETS.ACCESS, this.access);\n        block.setUint8(DIRECTORY_OFFSETS.ENTRY_LENGTH, this.entryLength);\n        block.setUint8(DIRECTORY_OFFSETS.ENTRIES_PER_BLOCK, this.entriesPerBlock);\n        block.setUint16(DIRECTORY_OFFSETS.FILE_COUNT, this.fileCount, true);\n        block.setUint16(DIRECTORY_OFFSETS.PARENT, this.parent, true);\n        block.setUint8(DIRECTORY_OFFSETS.PARENT_ENTRY_NUMBER, this.parentEntryNumber);\n        block.setUint8(DIRECTORY_OFFSETS.PARENT_ENTRY_LENGTH, this.parentEntryLength);\n\n        writeEntries(this.volume, block, this.vdh);\n    }\n}\n","import { STORAGE_TYPES } from './constants';\nimport { Directory } from './directory';\nimport type { byte, word } from 'js/types';\nimport { ProDOSVolume } from '.';\nimport { FileEntry } from './file_entry';\n\nexport function uint32ToDate(val: word) {\n    // yyyyyyy m|mmmm ddddd|000hhhhh|00mmmmmm\n\n    if (val) {\n        const yearMonthDay = val & 0xffff;\n        const hourMinute = val >> 16;\n\n        const year = yearMonthDay >> 9;\n        const month = (yearMonthDay & 0x01E0) >> 5;\n        const day = yearMonthDay & 0x001F;\n\n        const hour = hourMinute >> 8;\n        const min = hourMinute & 0xff;\n\n        return new Date(year < 70 ? 2000 + year : 1900 + year, month - 1, day, hour, min);\n    }\n    return new Date(0);\n}\n\nexport function dateToUint32(date: Date) {\n    // yyyyyyy m|mmmm ddddd|000hhhhh|00mmmmmm\n\n    let val = 0;\n\n    if (date) {\n        const year = date.getFullYear() - 1900;\n        const month = date.getMonth() + 1;\n        const day = date.getDate();\n\n        const hour = date.getHours();\n        const min = date.getMinutes();\n\n        const yearMonthDay = year << 9 | month << 5 | day;\n        const hourMinute = hour << 8 | min;\n        val = hourMinute << 16 | yearMonthDay;\n    }\n\n    return val;\n}\n\nexport function readFileName(block: DataView, offset: word, nameLength: byte, caseBits: word) {\n    let name = '';\n    if (!(caseBits & 0x8000)) {\n        caseBits = 0;\n    }\n    // File is deleted, brute force old name\n    if (nameLength === 0) {\n        nameLength = 15;\n    }\n    for (let idx = 0; idx < nameLength; idx++) {\n        caseBits <<= 1;\n        const char = String.fromCharCode(block.getUint8(offset + idx) & 0x7f);\n        name += caseBits & 0x8000 ? char.toLowerCase() : char;\n    }\n    return name;\n}\n\nexport function writeFileName(block: DataView, offset: word, name: string) {\n    let caseBits = 0;\n    for (let idx = 0; idx < name.length; idx++) {\n        caseBits <<= 1;\n        let charCode = name.charCodeAt(idx);\n        if (charCode > 0x60 && charCode < 0x7B) {\n            caseBits |= 0x1;\n            charCode -= 0x20;\n        }\n        block.setUint8(offset + idx, charCode);\n    }\n    return caseBits;\n}\n\nexport function dumpDirectory(volume: ProDOSVolume, dirEntry: FileEntry, depth: string) {\n    const dir = new Directory(volume, dirEntry);\n    let str = '';\n\n    for (let idx = 0; idx < dir.entries.length; idx++) {\n        const fileEntry = dir.entries[idx];\n        if (fileEntry.storageType !== STORAGE_TYPES.DELETED) {\n            str += depth + fileEntry.name + '\\n';\n            if (fileEntry.storageType === STORAGE_TYPES.DIRECTORY) {\n                str += dumpDirectory(volume, fileEntry, depth + '  ');\n            }\n        }\n    }\n    return str;\n}\n\nexport function dump(volume: ProDOSVolume) {\n    const vdh = volume.vdh();\n    let str = vdh.name;\n    for (let idx = 0; idx < vdh.entries.length; idx++) {\n        const fileEntry = vdh.entries[idx];\n        str += fileEntry.name + '\\n';\n        if (fileEntry.storageType === STORAGE_TYPES.DIRECTORY) {\n            str += dumpDirectory(volume, fileEntry, '  ');\n        }\n    }\n    return str;\n}\n","import { dateToUint32, readFileName, writeFileName, uint32ToDate } from './utils';\nimport { FileEntry, readEntries, writeEntries } from './file_entry';\nimport { STORAGE_TYPES, ACCESS_TYPES } from './constants';\nimport { byte, word } from 'js/types';\nimport { ProDOSVolume } from '.';\n\nconst VDH_BLOCK = 2;\nconst VDH_OFFSETS = {\n    PREV: 0x00,\n    NEXT: 0x02,\n    STORAGE_TYPE: 0x04,\n    NAME_LENGTH: 0x04,\n    VOLUME_NAME: 0x05,\n    RESERVED_1: 0x14,\n    CASE_BITS: 0x1A,\n    CREATION: 0x1C,\n    VERSION: 0x20,\n    MIN_VERSION: 0x21,\n    ACCESS: 0x22,\n    ENTRY_LENGTH: 0x23,\n    ENTRIES_PER_BLOCK: 0x24,\n    FILE_COUNT: 0x25,\n    BIT_MAP_POINTER: 0x27,\n    TOTAL_BLOCKS: 0x29,\n} as const;\n\nexport class VDH {\n    private blocks: Uint8Array[];\n\n    prev: word = 0;\n    next: word = 0;\n    storageType: byte = STORAGE_TYPES.VDH_HEADER;\n    name: string = '';\n    creation: Date = new Date();\n    access: byte = ACCESS_TYPES.ALL;\n    entryLength = 0x27;\n    entriesPerBlock = 23;\n    fileCount = 0;\n    bitMapPointer: word = 0;\n    totalBlocks: word = 0;\n    entries: FileEntry[] = [];\n\n    constructor(private volume: ProDOSVolume) {\n        this.blocks = this.volume.blocks();\n    }\n\n\n    read() {\n        const block = new DataView(this.blocks[VDH_BLOCK].buffer);\n\n        this.next = block.getUint16(VDH_OFFSETS.NEXT, true);\n        this.storageType = block.getUint8(VDH_OFFSETS.STORAGE_TYPE) >> 4;\n        const nameLength = block.getUint8(VDH_OFFSETS.NAME_LENGTH) & 0xF;\n        const caseBits = block.getUint8(VDH_OFFSETS.CASE_BITS);\n        this.name = readFileName(block, VDH_OFFSETS.VOLUME_NAME, nameLength, caseBits);\n        this.creation = uint32ToDate(block.getUint32(VDH_OFFSETS.CREATION, true));\n        this.access = block.getUint8(VDH_OFFSETS.ACCESS);\n        this.entryLength = block.getUint8(VDH_OFFSETS.ENTRY_LENGTH);\n        this.entriesPerBlock = block.getUint8(VDH_OFFSETS.ENTRIES_PER_BLOCK);\n        this.fileCount = block.getUint16(VDH_OFFSETS.FILE_COUNT, true);\n        this.bitMapPointer = block.getUint16(VDH_OFFSETS.BIT_MAP_POINTER, true);\n        this.totalBlocks = block.getUint16(VDH_OFFSETS.TOTAL_BLOCKS, true);\n\n        this.entries = readEntries(this.volume, block, this);\n    }\n\n    write() {\n        const block = new DataView(this.blocks[VDH_BLOCK].buffer);\n\n        const nameLength = this.name.length & 0x0f;\n        block.setUint8(VDH_OFFSETS.STORAGE_TYPE, this.storageType << 4 & nameLength);\n        const caseBits = writeFileName(block, VDH_OFFSETS.VOLUME_NAME, this.name);\n        block.setUint32(VDH_OFFSETS.CREATION, dateToUint32(this.creation), true);\n        block.setUint16(VDH_OFFSETS.CASE_BITS, caseBits);\n        block.setUint8(VDH_OFFSETS.ACCESS, this.access);\n        block.setUint8(VDH_OFFSETS.ENTRY_LENGTH, this.entryLength);\n        block.setUint8(VDH_OFFSETS.ENTRIES_PER_BLOCK, this.entriesPerBlock);\n        block.setUint16(VDH_OFFSETS.FILE_COUNT, this.fileCount, true);\n        block.setUint16(VDH_OFFSETS.BIT_MAP_POINTER, this.bitMapPointer, true);\n        block.setUint16(VDH_OFFSETS.TOTAL_BLOCKS, this.totalBlocks, true);\n\n        writeEntries(this.volume, block, this);\n    }\n}\n","import { word } from 'js/types';\nimport { ProDOSVolume } from '.';\nimport type { VDH } from './vdh';\n\nconst BLOCK_ENTRIES = 4096;\n\nexport class BitMap {\n    private vdh: VDH;\n    private blocks: Uint8Array[];\n\n    constructor(volume: ProDOSVolume) {\n        this.vdh = volume.vdh();\n        this.blocks = volume.blocks();\n    }\n\n    freeBlocks() {\n        const free: word[] = [];\n        let blockOffset = 0;\n        let byteOffset = 0;\n        let bitOffset = 0;\n        let bitMapBlock = this.blocks[this.vdh.bitMapPointer + blockOffset];\n        for (let idx = 0; idx < this.vdh.totalBlocks; idx++) {\n            const currentByte = bitMapBlock[byteOffset];\n            const mask = 1 << bitOffset;\n            if (currentByte & mask) {\n                free.push(idx);\n            }\n            bitOffset += 1;\n            if (bitOffset > 7) {\n                bitOffset = 0;\n                byteOffset += 1;\n                if (byteOffset > (BLOCK_ENTRIES >> 3)) {\n                    byteOffset = 0;\n                    blockOffset += 1;\n                    bitMapBlock = this.blocks[this.vdh.bitMapPointer + blockOffset];\n                }\n            }\n        }\n        return free;\n    }\n\n    allocBlock() {\n        for (let idx = 0; idx < this.vdh.totalBlocks; idx++) {\n            const blockOffset = Math.floor(idx / BLOCK_ENTRIES);\n            const bitMapBlock = this.blocks[this.vdh.bitMapPointer + blockOffset];\n            const byteOffset = (idx - blockOffset * BLOCK_ENTRIES) >> 8;\n            const bits = bitMapBlock[byteOffset];\n            if (bits !== 0xff) {\n                let mask = 0x01;\n                for (let bitOffset = 0; bitOffset < 8; bitOffset++) {\n                    if (!(bits & mask)) {\n                        bitMapBlock[byteOffset] |= mask;\n                        return idx;\n                    }\n                    mask <<= 1;\n                }\n            }\n        }\n        throw new Error('Disk full');\n    }\n\n    freeBlock(block: word) {\n        if (block >= this.vdh.totalBlocks) {\n            throw new Error('Block out of range');\n        }\n        const blockOffset = Math.floor(block / BLOCK_ENTRIES);\n        const byteOffset = (block - blockOffset * BLOCK_ENTRIES) >> 8;\n        const bitOffset = block & 0x7;\n\n        const bitMapBlock = this.blocks[this.vdh.bitMapPointer + blockOffset];\n\n        bitMapBlock[byteOffset] &= 0xff ^ (0x01 << bitOffset);\n    }\n}\n","import { VDH } from './vdh';\nimport { BitMap } from './bit_map';\nimport { BlockDisk } from '../types';\n\nexport class ProDOSVolume {\n    _vdh: VDH;\n    _bitMap: BitMap;\n\n    constructor(private _disk: BlockDisk) {}\n\n    disk() {\n        return this._disk;\n    }\n\n    blocks() {\n        return this._disk.blocks;\n    }\n\n    vdh() {\n        if (!this._vdh) {\n            this._vdh = new VDH(this);\n            this._vdh.read();\n        }\n        return this._vdh;\n    }\n\n    bitMap() {\n        if (!this._bitMap) {\n            this._bitMap = new BitMap(this);\n        }\n        return this._bitMap;\n    }\n}\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./Disks.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./Disks.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { byte, word } from 'js/types';\n\nconst LETTERS =\n    '                                ' +\n    ' !\"#$%&\\'()*+,-./0123456789:;<=>?' +\n    '@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_' +\n    '`abcdefghijklmnopqrstuvwxyz{|}~ ';\n\nconst TOKENS: Record<byte, string> = {\n    0x00: 'HIMEM:',\n    0x01: '$01',\n    0x02: '_',\n    0x03: ':',\n    0x04: 'LOAD',\n    0x05: 'SAVE',\n    0x06: 'CON',\n    0x07: 'RUN',\n    0x08: 'RUN',\n    0x09: 'DEL',\n    0x0A: ',',\n    0x0B: 'NEW',\n    0x0C: 'CLR',\n    0x0D: 'AUTO',\n    0x0E: ',',\n    0x0F: 'MAN',\n    0x10: 'HIMEM:',\n    0x11: 'LOMEM:',\n    0x12: '+',\n    0x13: '-',\n    0x14: '*',\n    0x15: '/',\n    0x16: '=',\n    0x17: '#',\n    0x18: '>=',\n    0x19: '>',\n    0x1A: '<=',\n    0x1B: '<>',\n    0x1C: '<',\n    0x1D: 'AND',\n    0x1E: 'OR',\n    0x1F: 'MOD',\n    0x20: '^',\n    0x21: '+',\n    0x22: '(',\n    0x23: ',',\n    0x24: 'THEN',\n    0x25: 'THEN',\n    0x26: ',',\n    0x27: ',',\n    0x28: '\"',\n    0x29: '\"',\n    0x2A: '(',\n    0x2B: '!',\n    0x2C: '!',\n    0x2D: '(',\n    0x2E: 'PEEK',\n    0x2F: 'RND',\n    0x30: 'SGN',\n    0x31: 'ABS',\n    0x32: 'PDL',\n    0x33: 'RNDX',\n    0x34: '(',\n    0x35: '+',\n    0x36: '-',\n    0x37: 'NOT',\n    0x38: '(',\n    0x39: '=',\n    0x3A: '#',\n    0x3B: 'LEN(',\n    0x3C: 'ASC(',\n    0x3D: 'SCRN(',\n    0x3E: ',',\n    0x3F: '(',\n    0x40: '$',\n    0x41: '$',\n    0x42: '(',\n    0x43: ',',\n    0x44: ',',\n    0x45: ';',\n    0x46: ';',\n    0x47: ';',\n    0x48: ',',\n    0x49: ',',\n    0x4A: ',',\n    0x4B: 'TEXT',\n    0x4C: 'GR',\n    0x4D: 'CALL',\n    0x4E: 'DIM',\n    0x4F: 'DIM',\n    0x50: 'TAB',\n    0x51: 'END',\n    0x52: 'INPUT',\n    0x53: 'INPUT',\n    0x54: 'INPUT',\n    0x55: 'FOR',\n    0x56: '=',\n    0x57: 'TO',\n    0x58: 'STEP',\n    0x59: 'NEXT',\n    0x5A: ',',\n    0x5B: 'RETURN',\n    0x5C: 'GOSUB',\n    0x5D: 'REM',\n    0x5E: 'LET',\n    0x5F: 'GOTO',\n    0x60: 'IF',\n    0x61: 'PRINT',\n    0x62: 'PRINT',\n    0x63: 'PRINT',\n    0x64: 'POKE',\n    0x65: ',',\n    0x66: 'COLOR=',\n    0x67: 'PLOT',\n    0x68: ',',\n    0x69: 'HLIN',\n    0x6A: ',',\n    0x6B: 'AT',\n    0x6C: 'VLIN',\n    0x6D: ',',\n    0x6E: 'AT',\n    0x6F: 'VTAB',\n    0x70: '=',\n    0x71: '=',\n    0x72: ')',\n    0x73: ')',\n    0x74: 'LIST',\n    0x75: ',',\n    0x76: 'LIST',\n    0x77: 'POP',\n    0x78: 'NODSP',\n    0x79: 'NODSP',\n    0x7A: 'NOTRACE',\n    0x7B: 'DSP',\n    0x7C: 'DSP',\n    0x7D: 'TRACE',\n    0x7E: 'PR#',\n    0x7F: 'IN#'\n};\n\nexport default class IntBasicDump {\n    constructor(private data: Uint8Array) { }\n\n    private readByte(addr: word) {\n        return this.data[addr];\n    }\n\n    private readWord(addr: word) {\n        const lsb = this.readByte(addr);\n        const msb = this.readByte(addr + 1);\n\n        return (msb << 8) | lsb;\n    }\n\n    toString() {\n        let str = '';\n        let addr = 0;\n        const himem = this.data.length;\n        do {\n            let inRem = false;\n            let inQuote = false;\n            let isAlphaNum = false;\n            /* const length = */ this.readByte(addr++);\n            const lineno = this.readWord(addr);\n            addr += 2;\n\n            str += lineno;\n            str += ' ';\n            let val = 0;\n            do {\n                val = this.readByte(addr++);\n                if (!inRem && !inQuote && !isAlphaNum && val >= 0xB0 && val <= 0xB9) {\n                    str += this.readWord(addr);\n                    addr += 2;\n                } else if (val < 0x80 && val > 0x01) {\n                    const t = TOKENS[val];\n                    if (t.length > 1) { str += ' '; }\n                    str += t;\n                    if (t.length > 1) { str += ' '; }\n                    if (val === 0x28) { inQuote = true; }\n                    if (val === 0x29) { inQuote = false; }\n                    if (val === 0x5d) { inRem = true; }\n                    isAlphaNum = false;\n                } else if (val > 0x80) {\n                    const char = LETTERS[val - 0x80];\n                    str += char;\n                    isAlphaNum = /[A-Z0-9]/.test(char);\n                }\n            } while (val !== 0x01);\n            str += '\\n';\n        } while (addr < himem);\n\n        return str;\n    }\n}\n","import { byte, word } from 'js/types';\nimport { debug, toHex } from 'js/util';\nimport ApplesoftDump from 'js/applesoft/decompiler';\nimport IntegerBASICDump from 'js/intbasic/decompiler';\nimport { MassStorageData, NibbleDisk } from '../types';\nimport { readSector, writeSector, _DO } from '../format_utils';\n\n/** Usual track for VTOC */\nexport const DEFAULT_VTOC_TRACK = 0x11;\n\n/** Usual sector for VTOC */\nexport const DEFAULT_VTOC_SECTOR = 0x00;\n\n/** Usual track, sector for VTOC */\nexport const DEFAULT_VTOC_TRACK_SECTOR = {\n    track: DEFAULT_VTOC_TRACK,\n    sector: DEFAULT_VTOC_SECTOR,\n} as const;\n\n/**\n * VTOC sector offsets\n */\nexport const VTOC_OFFSETS = {\n    CATALOG_TRACK: 0x01,\n    CATALOG_SECTOR: 0x02,\n    VERSION: 0x03,\n    VOLUME: 0x06,\n    TRACK_SECTOR_LIST_SIZE: 0x27,\n    LAST_ALLOCATION_TRACK: 0x30,\n    ALLOCATION_DIRECTION: 0x31,\n    TRACK_COUNT: 0x34,\n    SECTOR_COUNT: 0x35,\n    SECTOR_BYTE_COUNT_LOW: 0x36,\n    SECTOR_BYTE_COUNT_HIGH: 0x37,\n    FREE_SECTOR_MAP: 0x38,\n} as const;\n\n/**\n * Catalog sector offsets\n */\nexport const CATALOG_OFFSETS = {\n    NEXT_CATALOG_TRACK: 0x01,\n    NEXT_CATALOG_SECTOR: 0x02,\n    ENTRY1: 0x0B,\n    ENTRY2: 0x2E,\n    ENTRY3: 0x51,\n    ENTRY4: 0x74,\n    ENTRY5: 0x97,\n    ENTRY6: 0xBA,\n    ENTRY7: 0xDD,\n} as const;\n\n/**\n * Catalog entry offsets\n */\nexport const CATALOG_ENTRY_OFFSETS = {\n    SECTOR_LIST_TRACK: 0x00,\n    SECTOR_LIST_SECTOR: 0x01,\n    FILE_TYPE: 0x02,\n    FILE_NAME: 0x03,\n    DELETED_FILE_TRACK: 0x20,\n    FILE_LENGTH_LOW: 0x21,\n    FILE_LENGTH_HIGH: 0x22,\n} as const;\n\nexport const CATALOG_ENTRY_LENGTH = 0x23;\n\n/**\n * VTOC Data\n */\nexport interface VTOC {\n    catalog: {\n        track: byte;\n        sector: byte;\n    };\n    version: byte;\n    volume: byte;\n    trackSectorListSize: byte;\n    lastAllocationTrack: byte;\n    allocationDirection: byte;\n    trackCount: byte;\n    sectorCount: byte;\n    sectorByteCount: byte;\n    trackSectorMap: boolean[][];\n}\n\n/**\n * Track and sector data\n */\nexport interface TrackSector {\n    track: byte;\n    sector: byte;\n}\n\n/**\n * File entry data\n */\nexport interface FileEntry {\n    locked: boolean;\n    deleted: boolean;\n    type: string;\n    size: number;\n    name: string;\n    trackSectorList: TrackSector;\n}\n\n/**\n * File data\n */\nexport interface FileData {\n    address: word;\n    data: Uint8Array;\n}\n\nfunction isNibbleDisk(disk: NibbleDisk | MassStorageData): disk is NibbleDisk {\n    return !!((disk as NibbleDisk).encoding);\n}\n\n/**\n * DOS 3.3 Volume object.\n */\nexport class DOS33 {\n    private vtoc: VTOC;\n    private files: FileEntry[];\n\n    /**\n     * Constructor can take either a nibblized disk, or a raw data\n     * object returned by MassStorage.getBinary()\n     *\n     * @param disk Nibble disk or MassStorageData object\n     */\n    constructor(private disk: NibbleDisk | MassStorageData) {\n        this.vtoc = this.readVolumeTOC();\n    }\n\n    /**\n     * Method to read or write a sector, could be overloaded to support other\n     * data types. This uses the DOS logical to physical sector mapping.\n     *\n     * @param track Track to read/write\n     * @param sector Sector to read/write\n     * @param data If present, sector data to write\n     *\n     * @returns data read or written\n     */\n    rwts(track: byte, sector: byte, data?: Uint8Array): Uint8Array {\n        if (data) {\n            if (isNibbleDisk(this.disk)) {\n                writeSector(this.disk, track, _DO[sector], data);\n            } else {\n                const offset = track * 0x1000 + sector * 0x100;\n                new Uint8Array(this.disk.data).set(data, offset);\n            }\n        } else {\n            if (isNibbleDisk(this.disk)) {\n                data = readSector(this.disk, track, _DO[sector]);\n            } else {\n                const offset = track * 0x1000 + sector * 0x100;\n                // Slice new array so modifications to apply to original track\n                data = new Uint8Array(this.disk.data.slice(offset, offset + 0x100));\n            }\n        }\n        return data;\n    }\n\n    /**\n     * Creates a classic hex and ascii dump of a sector\n     *\n     * @param track Track to dump\n     * @param sector Sector to dump\n     * @returns String representation of sector\n     */\n    dumpSector(track: byte, sector: byte) {\n        let result = '';\n        const data = this.rwts(track, sector);\n        let b;\n        for (let idx = 0; idx < 16; idx++) {\n            result += toHex(idx << 4) + ': ';\n            for (let jdx = 0; jdx < 16; jdx++) {\n                b = data[idx * 16 + jdx];\n                result += toHex(b) + ' ';\n            }\n            result += '        ';\n            for (let jdx = 0; jdx < 16; jdx++) {\n                b = data[idx * 16 + jdx] & 0x7f;\n                if (b >= 0x20 && b < 0x7f) {\n                    result += String.fromCharCode(b);\n                } else {\n                    result += '.';\n                }\n            }\n            result += '\\n';\n        }\n        return result;\n    }\n\n    /**\n     * Returns all the track sector pairs for a file.\n     *\n     * @param file File to read\n     * @param full Also return track sector map entries\n     * @returns Array of file track and sectors\n     */\n    readFileTrackSectorList(file: FileEntry, full?: boolean) {\n        const fileTrackSectorList = [];\n        let { track, sector } = file.trackSectorList;\n        while (track || sector) {\n            if (full) {\n                fileTrackSectorList.push({ track, sector });\n            }\n            let jdx = 0; // offset in sector\n            const data = this.rwts(track, sector);\n            track = data[0x01];\n            sector = data[0x02];\n            let offset = 0x0C; // offset in data\n            while ((data[offset] || data[offset + 1]) && jdx < 121) {\n                fileTrackSectorList.push({\n                    track: data[offset],\n                    sector: data[offset + 1]\n                });\n                offset += 2;\n                jdx++;\n            }\n        }\n        return fileTrackSectorList;\n    }\n\n    /**\n     * Read a file from disk\n     *\n     * @param file File entry to read\n     * @returns Data for file, and load address if binary\n     */\n    readFile(file: FileEntry): FileData {\n        let data: byte[] = [];\n        let idx;\n        const fileTrackSectorList = this.readFileTrackSectorList(file);\n        for (idx = 0; idx < fileTrackSectorList.length; idx++) {\n            const { track, sector } = fileTrackSectorList[idx];\n            data = data.concat([...this.rwts(track, sector)]);\n        }\n        let offset = 0;\n        let length = 0;\n        let address = 0;\n\n        switch (file.type) {\n            case 'I':\n            case 'A':\n                offset = 2;\n                length = data[0] | data[1] << 8;\n                break;\n            case 'T':\n                length = 0;\n                while (data[length]) { length++; }\n                break;\n            case 'B':\n                offset = 4;\n                address = data[0] | data[1] << 8;\n                length = data[2] | data[3] << 8;\n                break;\n        }\n\n        data = data.slice(offset, offset + length);\n\n        return { data: new Uint8Array(data), address };\n    }\n\n    /**\n     * Allocate a new sector for a file in the allocation list\n     *\n     * @returns track and sector pair\n     */\n    allocateSector(): TrackSector {\n        const { vtoc } = this;\n        const findSector = (track: byte) => {\n            const sectorMap = vtoc.trackSectorMap[track];\n            return sectorMap.findIndex((sector: boolean) => sector);\n        };\n\n        const lastTrack = vtoc.lastAllocationTrack;\n        let track = lastTrack;\n        let sector = findSector(track);\n        while (sector === -1) {\n            if (vtoc.allocationDirection === 0x01) {\n                track = track - 1;\n                if (track < 0) {\n                    track = vtoc.catalog.track;\n                    vtoc.allocationDirection = 0xff;\n                }\n            } else {\n                track = track + 1;\n                if (track >= vtoc.trackCount) {\n                    throw new Error('Insufficient free space');\n                }\n            }\n            sector = findSector(track);\n        }\n\n        vtoc.lastAllocationTrack = track;\n        vtoc.trackSectorMap[track][sector] = false;\n\n        return { track, sector };\n    }\n\n    /**\n     * Compute free sector count.\n     *\n     * @returns count of free sectors\n     */\n    freeSectorCount() {\n        return this.vtoc.trackSectorMap.reduce((count, flags) => (\n            count + flags.reduce((count, flag) => (\n                count + (flag ? 1 : 0)\n            ), 0)\n        ), 0);\n    }\n\n    /**\n     * Compute used sector count\n     *\n     * @returns used sector count\n     */\n    usedSectorCount() {\n        return this.vtoc.trackSectorMap.reduce((count, flags) => (\n            count + flags.reduce((count, flag) => (\n                count + (flag ? 0 : 1)\n            ), 0)\n        ), 0);\n    }\n\n    /**\n     * Writes a file to disk. If new file the file entry must also be\n     * added to the catalog.\n     *\n     * @param file File to write\n     * @param fileData File data to write, including address if binary\n     */\n    writeFile(file: FileEntry, fileData: FileData) {\n        let prefix: byte[] = [];\n        let { data } = fileData;\n        switch (file.type) {\n            case 'A':\n            case 'I':\n                prefix = [\n                    data.length % 0x100,\n                    data.length >> 8\n                ];\n                break;\n            case 'B':\n                prefix = [\n                    fileData.address % 0x100,\n                    fileData.address >> 8,\n                    data.length % 0x100,\n                    data.length >> 8\n                ];\n                break;\n        }\n        data = new Uint8Array(prefix.length + data.length);\n        data.set(prefix);\n        data.set(data, prefix.length);\n\n        const { sectorByteCount, trackSectorListSize } = this.vtoc;\n        const dataRequiredSectors = Math.ceil(data.length / sectorByteCount);\n        const fileSectorListRequiredSectors = Math.ceil(dataRequiredSectors / trackSectorListSize);\n        const requiredSectors = dataRequiredSectors + fileSectorListRequiredSectors;\n        let idx;\n        let sectors: TrackSector[] = [];\n\n        if (file.trackSectorList) {\n            sectors = this.readFileTrackSectorList(file, true);\n        }\n        if (sectors.length > requiredSectors) {\n            for (idx = requiredSectors; idx < sectors.length; idx++) {\n                const { track, sector } = sectors[idx];\n                this.vtoc.trackSectorMap[track][sector] = true;\n            }\n            sectors = sectors.slice(0, requiredSectors);\n        }\n        if (sectors.length < requiredSectors) {\n            for (idx = sectors.length; idx < requiredSectors; idx++) {\n                sectors.push(this.allocateSector());\n            }\n        }\n        file.trackSectorList = { ...sectors[0] };\n        file.size = requiredSectors;\n\n        let jdx = 0;\n        let lastTrackSectorList = null;\n\n        for (idx = 0; idx < dataRequiredSectors; idx++) {\n            let sector: TrackSector;\n            let sectorData;\n\n            const { trackSectorListSize } = this.vtoc;\n            if (idx % trackSectorListSize === 0) {\n                sector = sectors.shift() as TrackSector;\n                sectorData = new Uint8Array();\n                if (lastTrackSectorList) {\n                    lastTrackSectorList[0x01] = sector.track;\n                    lastTrackSectorList[0x02] = sector.sector;\n                }\n                sectorData[0x05] = idx & 0xff;\n                sectorData[0x06] = idx >> 8;\n                for (jdx = 0; jdx < trackSectorListSize && jdx < sectors.length; jdx++) {\n                    const offset = 0xC + jdx * 2;\n                    sectorData[offset] = sectors[jdx].track;\n                    sectorData[offset + 1] = sectors[jdx].sector;\n                }\n                lastTrackSectorList = sectorData;\n                this.rwts(sector.track, sector.sector, new Uint8Array(sectorData));\n            }\n\n            sector = sectors.shift() as TrackSector;\n            sectorData = new Uint8Array(0x100);\n            sectorData.set(data.slice(0, 0x100));\n            data = data.slice(0x100);\n            this.rwts(sector.track, sector.sector, sectorData);\n        }\n        this.writeVolumeTOC();\n        this.writeCatalog();\n    }\n\n    /**\n     * Convert a file into a string that can be displayed.\n     *\n     * @param file File to convert\n     * @returns A string representing the file\n     */\n    dumpFile(file: FileEntry) {\n        let result = null;\n        const fileData = this.readFile(file);\n        switch (file.type) {\n            case 'A':\n                result = new ApplesoftDump(fileData.data, 0).decompile();\n                break;\n            case 'I':\n                result = new IntegerBASICDump(fileData.data).toString();\n                break;\n            case 'T':\n                result = '';\n                for (let idx = 0; idx < fileData.data.length; idx++) {\n                    const char = fileData.data[idx] & 0x7f;\n                    if (char < 0x20) {\n                        if (char === 0xd) { // CR\n                            result += '\\n';\n                        } else {\n                            result += `$${toHex(char)}`;\n                        }\n                    } else {\n                        result += String.fromCharCode(char);\n                    }\n                }\n                break;\n            case 'B':\n            default: {\n                result = '';\n                let hex = '';\n                let ascii = '';\n                for (let idx = 0; idx < fileData.data.length; idx++) {\n                    const val = fileData.data[idx];\n                    if (idx % 16 === 0) {\n                        if (idx !== 0) {\n                            result += `${hex}    ${ascii}\\n`;\n                        }\n                        hex = '';\n                        ascii = '';\n                        result += `${toHex(fileData.address + idx, 4)}:`;\n                    }\n                    hex += ` ${toHex(val)}`;\n                    ascii += (val & 0x7f) >= 0x20 ? String.fromCharCode(val & 0x7f) : '.';\n                }\n                result += '\\n';\n            } break;\n        }\n        return result;\n    }\n\n    /**\n     * Read VTOC data from disk\n     *\n     * @param trackSector Track and sector to read from, or default\n     * @returns VTOC\n     */\n    readVolumeTOC(trackSector: TrackSector = DEFAULT_VTOC_TRACK_SECTOR) {\n        const data = this.rwts(trackSector.track, trackSector.sector);\n        this.vtoc = {\n            catalog: {\n                track: data[VTOC_OFFSETS.CATALOG_TRACK],\n                sector: data[VTOC_OFFSETS.CATALOG_SECTOR]\n            },\n            version: data[VTOC_OFFSETS.VERSION],\n            volume: data[VTOC_OFFSETS.VOLUME],\n            trackSectorListSize: data[VTOC_OFFSETS.TRACK_SECTOR_LIST_SIZE],\n            lastAllocationTrack: data[VTOC_OFFSETS.LAST_ALLOCATION_TRACK],\n            allocationDirection: data[VTOC_OFFSETS.ALLOCATION_DIRECTION],\n            trackCount: data[VTOC_OFFSETS.TRACK_COUNT],\n            sectorCount: data[VTOC_OFFSETS.SECTOR_COUNT],\n            sectorByteCount: data[VTOC_OFFSETS.SECTOR_BYTE_COUNT_LOW] |\n                (data[VTOC_OFFSETS.SECTOR_BYTE_COUNT_HIGH] << 8),\n            trackSectorMap: []\n        };\n\n        for (let idx = 0; idx < this.vtoc.trackCount; idx++) {\n            const sectorMap = [];\n            const offset = 0x38 + idx * 4;\n            let bitmap =\n                (data[offset] << 24) |\n                (data[offset + 1] << 16) |\n                (data[offset + 2] << 8) |\n                data[offset + 3];\n\n            for (let jdx = 0; jdx < this.vtoc.sectorCount; jdx++) {\n                sectorMap.unshift(!!(bitmap & 0x80000000));\n                bitmap <<= 1;\n            }\n            this.vtoc.trackSectorMap.push(sectorMap);\n        }\n\n        debug(`DISK VOLUME ${this.vtoc.volume}`);\n\n        return this.vtoc;\n    }\n\n    /**\n     * Write VTOC data back to disk.\n     *\n     * @param trackSector Track and sector to read from, or default\n     */\n    writeVolumeTOC(trackSector: TrackSector = DEFAULT_VTOC_TRACK_SECTOR) {\n        const { vtoc } = this;\n        const data = new Uint8Array(0x100).fill(0);\n        data[VTOC_OFFSETS.CATALOG_TRACK] = vtoc.catalog.track;\n        data[VTOC_OFFSETS.CATALOG_SECTOR] = vtoc.catalog.sector;\n        data[VTOC_OFFSETS.VERSION] = vtoc.version || 3;\n        data[VTOC_OFFSETS.VOLUME] = vtoc.volume || 0xFE;\n        data[VTOC_OFFSETS.TRACK_SECTOR_LIST_SIZE] = vtoc.trackSectorListSize || 0x7a;\n        data[VTOC_OFFSETS.LAST_ALLOCATION_TRACK] = vtoc.lastAllocationTrack;\n        data[VTOC_OFFSETS.ALLOCATION_DIRECTION] = vtoc.allocationDirection;\n        data[VTOC_OFFSETS.TRACK_COUNT] = vtoc.trackCount;\n        data[VTOC_OFFSETS.SECTOR_COUNT] = vtoc.sectorCount;\n        data[VTOC_OFFSETS.SECTOR_BYTE_COUNT_LOW] = vtoc.sectorByteCount & 0xff;\n        data[VTOC_OFFSETS.SECTOR_BYTE_COUNT_HIGH] = vtoc.sectorByteCount >> 8;\n\n        for (let idx = 0; idx < vtoc.trackSectorMap.length; idx++) {\n            const offset = 0x38 + idx * 4;\n            const sectorMap = vtoc.trackSectorMap[idx];\n\n            let mask = 0;\n            for (let jdx = 0; jdx < sectorMap.length; jdx++) {\n                mask >>= 1;\n                if (sectorMap[jdx]) {\n                    mask |= 0x80000000;\n                }\n            }\n\n            data[offset] = (mask >> 24) & 0xff;\n            data[offset + 1] = (mask >> 16) & 0xff;\n            data[offset + 2] = (mask >> 8) & 0xff;\n            data[offset + 3] = mask & 0xff;\n        }\n        this.rwts(trackSector.track, trackSector.sector, data);\n    }\n\n    /**\n     * Reads catalog from disk.\n     *\n     * @returns Catalog entries\n     */\n    readCatalog(): FileEntry[] {\n        const { catalog } = this.vtoc;\n        this.files = [];\n\n        let catTrack = catalog.track;\n        let catSector = catalog.sector;\n        while (catSector || catTrack) {\n            const data = this.rwts(catTrack, catSector);\n\n            catTrack = data[CATALOG_OFFSETS.NEXT_CATALOG_TRACK];\n            catSector = data[CATALOG_OFFSETS.NEXT_CATALOG_SECTOR];\n\n            for (let idx = CATALOG_OFFSETS.ENTRY1; idx < 0x100; idx += CATALOG_ENTRY_LENGTH) {\n                const file: FileEntry = {\n                    locked: false,\n                    deleted: false,\n                    type: 'A',\n                    size: 0,\n                    name: '',\n                    trackSectorList: { track: 0, sector: 0 },\n                };\n                let str = '';\n                const entry = data.slice(idx, idx + CATALOG_ENTRY_LENGTH);\n\n                if (!entry[CATALOG_ENTRY_OFFSETS.SECTOR_LIST_TRACK]) {\n                    continue;\n                }\n\n                file.trackSectorList = {\n                    track: entry[CATALOG_ENTRY_OFFSETS.SECTOR_LIST_TRACK],\n                    sector: entry[CATALOG_ENTRY_OFFSETS.SECTOR_LIST_SECTOR]\n                };\n\n                if (file.trackSectorList.track === 0xff) {\n                    file.deleted = true;\n                    file.trackSectorList.track = entry[CATALOG_ENTRY_OFFSETS.DELETED_FILE_TRACK];\n                }\n\n                // Locked\n                if (entry[CATALOG_ENTRY_OFFSETS.FILE_TYPE] & 0x80) {\n                    file.locked = true;\n                }\n\n                str += file.locked ? '*' : ' ';\n\n                // File type\n                switch (entry[CATALOG_ENTRY_OFFSETS.FILE_TYPE] & 0x7f) {\n                    case 0x00:\n                        file.type = 'T';\n                        break;\n                    case 0x01:\n                        file.type = 'I';\n                        break;\n                    case 0x02:\n                        file.type = 'A';\n                        break;\n                    case 0x04:\n                        file.type = 'B';\n                        break;\n                    case 0x08:\n                        file.type = 'S';\n                        break;\n                    case 0x10:\n                        file.type = 'R';\n                        break;\n                    case 0x20:\n                        file.type = 'A';\n                        break;\n                    case 0x40:\n                        file.type = 'B';\n                        break;\n                }\n                str += file.type;\n                str += ' ';\n\n                // Size\n                file.size = entry[CATALOG_ENTRY_OFFSETS.FILE_LENGTH_LOW] |\n                    entry[CATALOG_ENTRY_OFFSETS.FILE_LENGTH_HIGH] << 8;\n                str += Math.floor(file.size / 100);\n                str += Math.floor(file.size / 10) % 10;\n                str += file.size % 10;\n                str += ' ';\n\n                // Filename\n                for (let jdx = CATALOG_ENTRY_OFFSETS.FILE_NAME; jdx < 0x21; jdx++) {\n                    file.name += String.fromCharCode(entry[jdx] & 0x7f);\n                }\n                str += file.name;\n                debug(str);\n                this.files.push(file);\n            }\n        }\n        return this.files;\n    }\n\n    /**\n     * Writes catalog back to disk\n     */\n    writeCatalog() {\n        const { catalog } = this.vtoc;\n\n        let catTrack = catalog.track;\n        let catSector = catalog.sector;\n        while (catSector || catTrack) {\n            const data = this.rwts(catTrack, catSector);\n\n            for (let idx = CATALOG_OFFSETS.ENTRY1; idx < 0x100; idx += CATALOG_ENTRY_OFFSETS.SECTOR_LIST_TRACK) {\n                const file = this.files.shift();\n\n                if (!file?.trackSectorList) {\n                    continue;\n                }\n\n                data[idx + CATALOG_ENTRY_OFFSETS.SECTOR_LIST_TRACK] = file.trackSectorList.track;\n                data[idx + CATALOG_ENTRY_OFFSETS.SECTOR_LIST_SECTOR] = file.trackSectorList.sector;\n\n                data[idx + CATALOG_ENTRY_OFFSETS.FILE_TYPE] = file.locked ? 0x80 : 0x00;\n\n                // File type\n                switch (file.type) {\n                    case 'T':\n                        break;\n                    case 'I':\n                        data[idx + CATALOG_ENTRY_OFFSETS.FILE_TYPE] |= 0x01;\n                        break;\n                    case 'A':\n                        data[idx + CATALOG_ENTRY_OFFSETS.FILE_TYPE] |= 0x02;\n                        break;\n                    case 'B':\n                        data[idx + CATALOG_ENTRY_OFFSETS.FILE_TYPE] |= 0x04;\n                        break;\n                    case 'S':\n                        data[idx + CATALOG_ENTRY_OFFSETS.FILE_TYPE] |= 0x08;\n                        break;\n                    case 'R':\n                        data[idx + CATALOG_ENTRY_OFFSETS.FILE_TYPE] |= 0x10;\n                        break;\n                }\n\n                // Size\n                data[idx + CATALOG_ENTRY_OFFSETS.FILE_LENGTH_LOW] = file.size & 0xff;\n                data[idx + CATALOG_ENTRY_OFFSETS.FILE_LENGTH_HIGH] = file.size >> 8;\n\n                // Filename\n                for (let jdx = 0; jdx < 0x1E; jdx++) {\n                    data[idx + CATALOG_ENTRY_OFFSETS.FILE_NAME + jdx] = file.name.charCodeAt(jdx) | 0x80;\n                }\n            }\n            this.rwts(catTrack, catSector, data);\n\n            catTrack = data[CATALOG_OFFSETS.NEXT_CATALOG_TRACK];\n            catSector = data[CATALOG_OFFSETS.NEXT_CATALOG_SECTOR];\n        }\n    }\n\n    /**\n     * Return the volume number from the VTOC\n     *\n     * @returns Volume number\n     */\n    getVolumeNumber() {\n        return this.vtoc.volume;\n    }\n}\n\n/**\n * Very lose check for DOS disks, currently simply checks for the\n * version byte in the probable VTOC.\n *\n * @param disk Image to check for DOS\n * @returns true if VTOC version byte is 3\n */\nexport function isMaybeDOS33(disk: NibbleDisk | MassStorageData) {\n    let data;\n    if (isNibbleDisk(disk)) {\n        data = readSector(disk, DEFAULT_VTOC_TRACK, _DO[DEFAULT_VTOC_SECTOR]);\n    } else if (disk.data.byteLength > 0) {\n        data = new Uint8Array(\n            disk.data,\n            DEFAULT_VTOC_TRACK * 4096 + DEFAULT_VTOC_SECTOR * 0x100,\n            0x100\n        );\n    } else {\n        return false;\n    }\n    return data[VTOC_OFFSETS.VERSION] === 3;\n}\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./FileViewer.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./FileViewer.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { HiresPage2D, LoresPage2D, VideoModes2D } from 'js/canvas';\nimport { h, Fragment } from 'preact';\nimport { useEffect, useRef, useState } from 'preact/hooks';\nimport { Modal, ModalContent, ModalFooter } from '../Modal';\n\nimport styles from './css/FileViewer.module.scss';\n\n/**\n * Binary and text representation of file to be previewed\n */\nexport interface FileData {\n    fileName: string;\n    binary: Uint8Array;\n    text: string;\n}\n\n/**\n * FileViewer props\n */\nexport interface FileViewerProps {\n    fileData: FileData | null;\n    onClose: () => void;\n}\n\n/**\n * Preview a file as a hires image if a file is roughly 8192 bytes.\n * Leverages HiresPage2D.\n *\n * @param binary Potential file to preview\n * @returns HiresPreview component\n */\nconst HiresPreview = ({ binary }: { binary: Uint8Array }) => {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n    // Hires pictures are often a few bytes short of 8192 bytes\n    // because that saves a sector on DOS 3.3 disks.\n    if (binary.byteLength < 8184 || binary.byteLength > 8192) {\n        return null;\n    }\n\n    if (canvasRef.current) {\n        const vm = new VideoModes2D(canvasRef.current, true);\n        const lores = new LoresPage2D(vm, 1, new Uint8Array(), false);\n        const hires = new HiresPage2D(vm, 1);\n        vm.setLoresPage(1, lores);\n        vm.setHiresPage(1, hires);\n        vm.text(false);\n        vm.hires(true);\n        vm.doubleHires(false);\n        vm.page(1);\n\n        for (let idx = 0; idx < 0x20; idx++) {\n            for (let jdx = 0; jdx < 0x100; jdx++) {\n                hires.write(idx + 0x20, jdx, binary[idx * 0x100 + jdx]);\n            }\n        }\n        vm.blit();\n    }\n\n    return <canvas ref={canvasRef} width={560} height={384} className={styles.hiresPreview} />;\n};\n\n/**\n * Preview a file as a double hires if a file is roughly 16384 bytes.\n *\n * @param binary Potential file to preview\n * @returns DoubleHiresPreview component\n */\nconst DoubleHiresPreview = ({ binary }: { binary: Uint8Array }) => {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n    if (binary.byteLength < 16376 || binary.byteLength > 16384) {\n        return null;\n    }\n\n    if (canvasRef.current) {\n        const vm = new VideoModes2D(canvasRef.current, true);\n        const lores = new LoresPage2D(vm, 1, new Uint8Array(), false);\n        const hires = new HiresPage2D(vm, 1);\n        vm.setLoresPage(1, lores);\n        vm.setHiresPage(1, hires);\n        vm.text(false);\n        vm.hires(true);\n        vm._80col(true);\n        vm.doubleHires(true);\n        vm.page(1);\n\n        for (let idx = 0; idx < 0x20; idx++) {\n            for (let jdx = 0; jdx < 0x100; jdx++) {\n                hires.bank1().write(idx + 0x20, jdx, binary[idx * 0x100 + jdx]);\n            }\n        }\n        for (let idx = 0x20; idx < 0x40; idx++) {\n            for (let jdx = 0; jdx < 0x100; jdx++) {\n                hires.bank0().write(idx, jdx, binary[idx * 0x100 + jdx]);\n            }\n        }\n        vm.blit();\n    }\n\n    return <canvas ref={canvasRef} width={560} height={384} className={styles.hiresPreview} />;\n};\n\n/**\n * Apple file preview component. Supports a binary dump and hires and\n * double hires images.\n *\n * @param fileData\n * @param onClose Close button callback\n * @returns\n */\nexport const FileViewer = ({ fileData, onClose }: FileViewerProps) => {\n    const [binaryHref, setBinaryHref] = useState('');\n    const [textHref, setTextHref] = useState('');\n\n    useEffect(() => {\n        if (fileData) {\n            const { binary, text } = fileData;\n            const binaryBlob = new Blob(\n                [binary],\n                { type: 'application/octet-stream' }\n            );\n            const binaryHref = window.URL.createObjectURL(binaryBlob);\n            setBinaryHref(binaryHref);\n            const textBlob = new Blob(\n                [text],\n                { type: 'application/octet-stream' }\n            );\n            const textHref = window.URL.createObjectURL(textBlob);\n            setTextHref(textHref);\n        }\n    }, [fileData]);\n\n    if (!fileData) {\n        return null;\n    }\n\n    const { fileName, text, binary } = fileData;\n\n    return (\n        <>\n            <Modal isOpen={true} onClose={onClose} title={fileName}>\n                <ModalContent>\n                    <div className={styles.fileViewer}>\n                        <HiresPreview binary={binary} />\n                        <DoubleHiresPreview binary={binary} />\n                        <pre className={styles.textViewer} tabIndex={-1} >\n                            {text}\n                        </pre>\n                    </div>\n                </ModalContent>\n                <ModalFooter>\n                    <a\n                        download={`${fileName}.bin`}\n                        href={binaryHref}\n                        role=\"button\"\n                    >\n                        Download Raw\n                    </a>\n                    <a\n                        download={`${fileName}.txt`}\n                        href={textHref}\n                        role=\"button\"\n                    >\n                        Download Text\n                    </a>\n                    <button onClick={onClose}>Close</button>\n                </ModalFooter>\n            </Modal>\n        </>\n    );\n};\n","import { h, Fragment } from 'preact';\nimport { useMemo } from 'preact/hooks';\nimport cs from 'classnames';\nimport { Apple2 as Apple2Impl } from 'js/apple2';\nimport { BlockDisk, DiskFormat, DriveNumber, FloppyDisk, isBlockDiskFormat, isNibbleDisk, MassStorage } from 'js/formats/types';\nimport { slot } from 'js/apple2io';\nimport DiskII from 'js/cards/disk2';\nimport SmartPort from 'js/cards/smartport';\nimport createDiskFrom2MG from 'js/formats/2mg';\nimport createBlockDisk from 'js/formats/block';\nimport { ProDOSVolume } from 'js/formats/prodos';\nimport { FILE_TYPES, STORAGE_TYPES } from 'js/formats/prodos/constants';\nimport { Directory } from 'js/formats/prodos/directory';\nimport { FileEntry } from 'js/formats/prodos/file_entry';\nimport { VDH } from 'js/formats/prodos/vdh';\nimport { toHex } from 'js/util';\n\nimport styles from './css/Disks.module.scss';\nimport debuggerStyles from './css/Debugger.module.scss';\nimport { useCallback, useState } from 'preact/hooks';\nimport { DOS33, FileEntry as DOSEntry, isMaybeDOS33 } from 'js/formats/dos/dos33';\nimport createDiskFromDOS from 'js/formats/do';\nimport { FileData, FileViewer } from './FileViewer';\n\n/**\n * Formats a short date string\n *\n * @param date Data object\n * @returns Short string date\n */\nconst formatDate = (date: Date) => {\n    return date.toLocaleString(undefined, { dateStyle: 'short', timeStyle: 'short' });\n};\n\n/**\n * Guard for determining whether a disk is a nibble or block based disk\n *\n * @param disk NibbleDisk or BlockDisk\n * @returns true if is BlockDisk\n */\nfunction isBlockDisk(disk: FloppyDisk | BlockDisk): disk is BlockDisk {\n    return !!((disk as BlockDisk).blocks);\n}\n\n/**\n * Props for FileListing component\n */\ninterface FileListingProps {\n    volume: ProDOSVolume;\n    fileEntry: FileEntry;\n    depth: number;\n    setFileData: (fileData: FileData) => void;\n}\n\n/**\n * Renders a ProDOS file entry.\n *\n * @param depth Depth of listing from root\n * @param fileEntry ProDOS file entry to display\n * @returns FileListing component\n */\nconst FileListing = ({ depth, fileEntry, setFileData }: FileListingProps) => {\n    const deleted = fileEntry.storageType === STORAGE_TYPES.DELETED;\n    const doSetFileData = useCallback(() => {\n        const binary = fileEntry.getFileData();\n        const text = fileEntry.getFileText();\n        if (binary && text) {\n            setFileData({\n                binary,\n                text,\n                fileName: fileEntry.name,\n            });\n        }\n    }, [fileEntry, setFileData]);\n    return (\n        <tr>\n            <td\n                className={cs(styles.filename, { [styles.deleted]: deleted })}\n                title={fileEntry.name}\n                onClick={doSetFileData}\n            >\n                {'| '.repeat(depth)}\n                {deleted ?\n                    <i className=\"fas fa-file-circle-xmark\" /> :\n                    <i className=\"fas fa-file\" />\n                }\n                {' '}\n                {fileEntry.name}\n            </td>\n            <td>{FILE_TYPES[fileEntry.fileType] ?? `$${toHex(fileEntry.fileType)}`}</td>\n            <td>{`$${toHex(fileEntry.auxType, 4)}`}</td>\n            <td>{fileEntry.blocksUsed}</td>\n            <td>{formatDate(fileEntry.creation)}</td>\n            <td>{formatDate(fileEntry.lastMod)}</td>\n        </tr>\n    );\n};\n\n/**\n * Props for DirectoryListing Component.\n */\ninterface DirectoryListingProps {\n    volume: ProDOSVolume;\n    dirEntry: VDH | Directory;\n    depth: number;\n    setFileData: (fileData: FileData) => void;\n}\n\n/**\n * Displays information about a ProDOS directory, recursing through child\n * directories.\n *\n * @param volume ProDOS volume\n * @param depth Current directory depth\n * @param dirEntry Current directory entry to display\n * @returns DirectoryListing component\n */\nconst DirectoryListing = ({ volume, depth, dirEntry, setFileData }: DirectoryListingProps) => {\n    const [open, setOpen] = useState(depth === 0);\n    return (\n        <>\n            <tr>\n                <td\n                    className={styles.filename}\n                    onClick={() => setOpen((open) => !open)}\n                    title={dirEntry.name}\n                >\n                    {'| '.repeat(depth)}\n                    <i className={cs('fas', { 'fa-folder-open': open, 'fa-folder-closed': !open })} />\n                    {' '}\n                    {dirEntry.name}\n                </td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td>{formatDate(dirEntry.creation)}</td>\n                <td></td>\n            </tr>\n            {open && dirEntry.entries.map((fileEntry, idx) => {\n                if (fileEntry.storageType === STORAGE_TYPES.DIRECTORY) {\n                    const dirEntry = new Directory(volume, fileEntry);\n                    return <DirectoryListing\n                        key={idx}\n                        depth={depth + 1}\n                        volume={volume}\n                        dirEntry={dirEntry}\n                        setFileData={setFileData}\n                    />;\n                } else {\n                    return <FileListing\n                        key={idx}\n                        depth={depth + 1}\n                        volume={volume}\n                        fileEntry={fileEntry}\n                        setFileData={setFileData}\n                    />;\n                }\n            })}\n        </>\n    );\n};\n\n/**\n * Props for CatalogEntry component\n */\ninterface CatalogEntryProps {\n    dos: DOS33;\n    fileEntry: DOSEntry;\n    setFileData: (fileData: FileData) => void;\n}\n\n/**\n * Component for a single DOS 3.x catalog entry\n *\n * @param entry Catalog entry to display\n * @returns CatalogEntry component\n */\nconst CatalogEntry = ({ dos, fileEntry, setFileData }: CatalogEntryProps) => {\n    const doSetFileData = useCallback(() => {\n        const { data } = dos.readFile(fileEntry);\n        setFileData({\n            binary: data,\n            text: dos.dumpFile(fileEntry),\n            fileName: fileEntry.name,\n        });\n    }, [dos, fileEntry, setFileData]);\n\n    return (\n        <tr onClick={doSetFileData}>\n            <td className={cs(styles.filename, { [styles.deleted]: fileEntry.deleted })}>\n                {fileEntry.locked && <i className=\"fas fa-lock\" />}\n                {' '}\n                {fileEntry.name}\n            </td>\n            <td>{fileEntry.type}</td>\n            <td>{fileEntry.size}</td>\n            <td></td>\n        </tr>\n    );\n};\n\n/**\n * Catalog component props\n */\ninterface CatalogProps {\n    dos: DOS33;\n    setFileData: (fileData: FileData) => void;\n}\n\n/**\n * DOS 3.3 disk catalog component\n *\n * @param dos DOS 3.3 disk object\n * @returns Catalog component\n */\n\nconst Catalog = ({ dos, setFileData }: CatalogProps) => {\n    const catalog = useMemo(() => dos.readCatalog(), [dos]);\n    return (\n        <>\n            {catalog.map((fileEntry, idx) => (\n                <CatalogEntry\n                    key={idx}\n                    dos={dos}\n                    fileEntry={fileEntry}\n                    setFileData={setFileData}\n                />\n            ))}\n        </>\n    );\n};\n\n/**\n * Props for DiskInfo component\n */\ninterface DiskInfoProps {\n    massStorage: MassStorage<DiskFormat>;\n    driveNo: DriveNumber;\n    setFileData: (fileData: FileData) => void;\n}\n\n/**\n * Top level disk info component, handles determining what sort of disk\n * is present and using the appropriate sub-component depending on whether\n * it's a ProDOS block disk or a DOS 3.3 disk.\n *\n * TODO(whscullin): Does not handle woz or 13 sector.\n *\n * @param massStorage The storage device\n * @param drive The drive number\n * @returns DiskInfo component\n */\nconst DiskInfo = ({ massStorage, driveNo, setFileData }: DiskInfoProps) => {\n    const disk = useMemo(() => {\n        const massStorageData = massStorage.getBinary(driveNo, 'po');\n        if (massStorageData) {\n            const { data, readOnly, ext } = massStorageData;\n            const { name } = massStorageData.metadata;\n            let disk: BlockDisk | FloppyDisk | null = null;\n            if (ext === '2mg') {\n                disk = createDiskFrom2MG({\n                    name,\n                    rawData: data,\n                    readOnly,\n                    volume: 254,\n                });\n            } else if (data.byteLength < 800 * 1024) {\n                const doData = massStorage.getBinary(driveNo, 'do');\n                if (doData) {\n                    if (isMaybeDOS33(doData)) {\n                        disk = createDiskFromDOS({\n                            name,\n                            rawData: doData.data,\n                            readOnly,\n                            volume: 254,\n                        });\n                    }\n                }\n            }\n            if (!disk && isBlockDiskFormat(ext)) {\n                disk = createBlockDisk(ext, {\n                    name,\n                    rawData: data,\n                    readOnly,\n                    volume: 254,\n                });\n            }\n            return disk;\n        }\n        return null;\n    }, [massStorage, driveNo]);\n\n    if (disk) {\n        try {\n            if (isBlockDisk(disk)) {\n                if (disk.blocks.length) {\n                    const prodos = new ProDOSVolume(disk);\n                    const { totalBlocks } = prodos.vdh();\n                    const freeCount = prodos.bitMap().freeBlocks().length;\n                    const usedCount = totalBlocks - freeCount;\n                    return (\n                        <div className={styles.volume}>\n                            <table>\n                                <thead>\n                                    <tr>\n                                        <th className={styles.filename}>Filename</th>\n                                        <th className={styles.type}>Type</th>\n                                        <th className={styles.aux}>Aux</th>\n                                        <th className={styles.blocks}>Blocks</th>\n                                        <th className={styles.created}>Created</th>\n                                        <th className={styles.modified}>Modified</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <DirectoryListing\n                                        depth={0}\n                                        volume={prodos}\n                                        dirEntry={prodos.vdh()}\n                                        setFileData={setFileData}\n                                    />\n                                </tbody>\n                                <tfoot>\n                                    <tr>\n                                        <td colSpan={1}>Blocks Free: {freeCount}</td>\n                                        <td colSpan={3}>Used: {usedCount}</td>\n                                        <td colSpan={2}>Total: {totalBlocks}</td>\n                                    </tr>\n                                </tfoot>\n                            </table>\n                        </div>\n                    );\n                }\n            } else if (isNibbleDisk(disk)) {\n                const dos = new DOS33(disk);\n                return (\n                    <div className={styles.volume}>\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th className={styles.filename}>Filename</th>\n                                    <th className={styles.type}>Type</th>\n                                    <th className={styles.sectors}>Sectors</th>\n                                    <th></th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <Catalog dos={dos} setFileData={setFileData} />\n                            </tbody>\n                            <tfoot>\n                                <tr>\n                                    <td>Volume Number:</td>\n                                    <td colSpan={3}>{dos.getVolumeNumber()}</td>\n                                </tr>\n                                <tr>\n                                    <td>Used Sectors:</td>\n                                    <td colSpan={3}>{dos.usedSectorCount()}</td>\n                                </tr>\n                                <tr>\n                                    <td>Free Sectors:</td>\n                                    <td colSpan={3}>{dos.freeSectorCount()}</td>\n                                </tr>\n                            </tfoot>\n                        </table>\n                    </div>\n                );\n            }\n        } catch (error) {\n            console.error(error);\n            return <pre>Unknown volume</pre>;\n        }\n    }\n    return <pre>No disk</pre>;\n};\n\n/**\n * Disks component props\n */\nexport interface DisksProps {\n    apple2: Apple2Impl;\n}\n\n/**\n * A debugger panel that displays information about currently mounted\n * disks.\n *\n * @param apple2 The apple2 object\n * @returns Disks component\n */\nexport const Disks = ({ apple2 }: DisksProps) => {\n    const [fileData, setFileData] = useState<FileData | null>(null);\n    const io = apple2.getIO();\n    const cards: MassStorage<DiskFormat>[] = [];\n\n    const onClose = useCallback(() => {\n        setFileData(null);\n    }, []);\n\n    for (let idx = 0; idx <= 7; idx++) {\n        const card = io.getSlot(idx as slot);\n        if (card instanceof DiskII || card instanceof SmartPort) {\n            cards.push(card);\n        }\n    }\n\n    return (\n        <div>\n            {cards.map((card, idx) => (\n                <div key={idx}>\n                    <div className={debuggerStyles.subHeading}>\n                        {card.constructor.name} - 1\n                    </div>\n                    <DiskInfo massStorage={card} driveNo={1} setFileData={setFileData} />\n                    <div className={debuggerStyles.subHeading}>\n                        {card.constructor.name} - 2\n                    </div>\n                    <DiskInfo massStorage={card} driveNo={2} setFileData={setFileData} />\n                </div>\n            ))}\n            <FileViewer fileData={fileData} onClose={onClose} />\n        </div>\n    );\n};\n","import RAM, { RAMState } from '../ram';\nimport { debug } from '../util';\nimport { Card, Memory, byte, Restorable } from '../types';\n\nexport interface LanguageCardState {\n    bank1: RAMState;\n    bank2: RAMState;\n    ram: RAMState;\n\n    readbsr: boolean;\n    writebsr: boolean;\n    bsr2: boolean;\n    prewrite: boolean;\n}\n\nexport default class LanguageCard implements Card, Restorable<LanguageCardState> {\n    private bank1: RAM;\n    private bank2: RAM;\n    private ram: RAM;\n\n    private _readbsr = false;\n    private _writebsr = false;\n    private _bsr2 = false;\n    private _prewrite = false;\n\n    private read1: Memory;\n    private read2: Memory;\n\n    private write1: Memory;\n    private write2: Memory;\n\n    constructor(private rom: Memory) {\n        debug('Language card');\n\n        this.bank1 = new RAM(0xd0, 0xdf);\n        this.bank2 = new RAM(0xd0, 0xdf);\n        this.ram = new RAM(0xe0, 0xff);\n\n        this.write1 = this.rom;\n        this.write2 = this.rom;\n\n        this.read1 = this.rom;\n        this.read2 = this.rom;\n    }\n\n    private debug(..._args: unknown[]) {\n        // debug.apply(null, args);\n    }\n\n    private updateBanks() {\n        if (this._readbsr) {\n            this.read1 = this._bsr2 ? this.bank2 : this.bank1;\n            this.read2 = this.ram;\n        } else {\n            this.read1 = this.rom;\n            this.read2 = this.rom;\n        }\n\n        if (this._writebsr) {\n            this.write1 = this._bsr2 ? this.bank2 : this.bank1;\n            this.write2 = this.ram;\n        } else {\n            this.write1 = this.rom;\n            this.write2 = this.rom;\n        }\n    }\n\n    // Bank 2\n    // READBSR2: 0x80\n    // WRITEBSR2: 0x81\n    // OFFBSR2: 0x82\n    // READWRBSR2: 0x83\n\n    // Bank 1\n    // READBSR1: 0x88\n    // WRITEBSR1: 0x89\n    // OFFBSR1: 0x8a\n    // READWRBSR1: 0x8b\n\n    private access(off: byte, val?: byte) {\n        const readMode = val === undefined;\n        const result = readMode ? 0 : undefined;\n\n        const writeSwitch = off & 0x01;\n        const offSwitch = off & 0x02;\n        const bank1Switch = off & 0x08;\n\n        let bankStr;\n        let rwStr;\n\n        if (writeSwitch) { // $C081, $C083, $C089, $C08B\n            if (readMode) {\n                this._writebsr = this._prewrite;\n            }\n            this._prewrite = readMode;\n\n            if (offSwitch) { // $C083, $C08B\n                this._readbsr = true;\n                rwStr = 'Read/Write';\n            } else { // $C081, $C089\n                this._readbsr = false;\n                rwStr = 'Write';\n            }\n        } else { // $C080, $C082, $C088, $C08A\n            this._writebsr = false;\n            this._prewrite = false;\n\n            if (offSwitch) { // $C082, $C08A\n                this._readbsr = false;\n                rwStr = 'Off';\n            } else { // $C080, $C088\n                this._readbsr = true;\n                rwStr = 'Read';\n            }\n        }\n\n        if (bank1Switch) { // C08[8-C]\n            this._bsr2 = false;\n            bankStr = 'Bank 1';\n        } else { // C08[0-3]\n            this._bsr2 = true;\n            bankStr = 'Bank 2';\n        }\n\n        this.debug(bankStr, rwStr);\n        this.updateBanks();\n\n        return result;\n    }\n\n    start() {\n        return 0xd0;\n    }\n\n    end() {\n        return 0xff;\n    }\n\n    ioSwitch(off: byte, val?: byte) {\n        return this.access(off, val);\n    }\n\n    read(page: byte, off: byte): byte {\n        let result: number = 0;\n        if (page < 0xe0) {\n            result = this.read1.read(page, off);\n        } else {\n            result = this.read2.read(page, off);\n        }\n        return result;\n    }\n\n    write(page: byte, off: byte, val: byte) {\n        if (page < 0xe0) {\n            this.write1.write(page, off, val);\n        } else {\n            this.write2.write(page, off, val);\n        }\n    }\n\n    public get bsr2() {\n        return this._bsr2;\n    }\n\n    public get readbsr() {\n        return this._readbsr;\n    }\n\n    public get writebsr() {\n        return this._writebsr;\n    }\n\n    getState() {\n        return {\n            readbsr: this.readbsr,\n            writebsr: this.writebsr,\n            bsr2: this.bsr2,\n            prewrite: this._prewrite,\n            ram: this.ram.getState(),\n            bank1: this.bank1.getState(),\n            bank2: this.bank2.getState()\n        };\n    }\n\n    setState(state: LanguageCardState) {\n        this._readbsr = state.readbsr;\n        this._writebsr = state.writebsr;\n        this._bsr2 = state.bsr2;\n        this._prewrite = state.prewrite;\n        this.ram.setState(state.ram);\n        this.bank1.setState(state.bank1);\n        this.bank2.setState(state.bank2);\n        this.updateBanks();\n    }\n}\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./Memory.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./Memory.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { ComponentChildren, h } from 'preact';\nimport { useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport cs from 'classnames';\n\nimport { Apple2 as Apple2Impl } from 'js/apple2';\nimport MMU from 'js/mmu';\nimport LanguageCard from 'js/cards/langcard';\n\nimport styles from './css/Memory.module.scss';\nimport debuggerStyles from './css/Debugger.module.scss';\n\n/**\n * Encapsulates the read/write status of a bank\n */\ninterface ReadWrite {\n    read: boolean;\n    write: boolean;\n}\n\n/**\n * Encapsulates the read/write status of a language card\n */\ninterface LC extends ReadWrite {\n    bank0: ReadWrite;\n    bank1: ReadWrite;\n    rom: ReadWrite;\n}\n\n/**\n * Encapsulates the read/write status of an aux/main memory bank.\n */\ninterface Bank extends ReadWrite {\n    lc: LC;\n    hires: ReadWrite;\n    text: ReadWrite;\n    zp: ReadWrite;\n}\n\n/**\n * Encapsulates the read/write status of aux main memory and rom banks.\n */\ninterface Banks {\n    main: Bank;\n    aux: Bank;\n    io: ReadWrite;\n    intcxrom: ReadWrite;\n}\n\n/**\n * Computes a language card state for an MMU aux or main bank.\n *\n * @param mmu MMU object\n * @param altzp Compute for main or aux bank\n * @returns LC read/write state\n */\nconst calcLC = (mmu: MMU, altzp: boolean) => {\n    const read = mmu.readbsr && (mmu.altzp === altzp);\n    const write = mmu.writebsr && (mmu.altzp === altzp);\n    return {\n        read,\n        write,\n        bank0: {\n            read: read && !mmu.bank1,\n            write: write && !mmu.bank1,\n        },\n        bank1: {\n            read: read && mmu.bank1,\n            write: write && mmu.bank1,\n        },\n        rom: {\n            read: !mmu.readbsr,\n            write: !mmu.writebsr,\n        },\n    };\n};\n\n/**\n * Computes the hires aux or main read/write status.\n *\n * @param mmu MMU object\n * @param aux Compute for main or aux bank\n * @returns Hires pags read/write state\n */\nconst calcHires = (mmu: MMU, aux: boolean) => {\n    const page2sel = mmu.hires && mmu._80store;\n    return {\n        read: page2sel ? mmu.page2 === aux : mmu.auxread === aux,\n        write: page2sel ? mmu.page2 === aux : mmu.auxwrite === aux,\n    };\n};\n\n/**\n * Computes the text aux or main read/write status.\n *\n * @param mmu MMU object\n * @param aux Compute for main or aux bank\n * @returns Text page read/write state\n */\nconst calcText = (mmu: MMU, aux: boolean) => {\n    const page2sel = mmu._80store;\n    return {\n        read: page2sel ? mmu.page2 === aux : mmu.auxread === aux,\n        write: page2sel ? mmu.page2 === aux : mmu.auxwrite === aux,\n    };\n};\n\n/**\n * Creates read/write state from a flag\n *\n * @param flag Read/write flag\n * @returns A read/write state\n */\nconst readAndWrite = (flag: boolean) => {\n    return {\n        read: flag,\n        write: flag,\n    };\n};\n\n/**\n * Computes the aux or main bank read/write status.\n *\n * @param mmu MMU object\n * @param aux Compute for main or aux bank\n * @returns read/write state\n */\nconst calcBanks = (mmu: MMU): Banks => {\n    return {\n        main: {\n            read: !mmu.auxread,\n            write: !mmu.auxwrite,\n            lc: calcLC(mmu, false),\n            hires: calcHires(mmu, false),\n            text: calcText(mmu, false),\n            zp: readAndWrite(!mmu.altzp),\n        },\n        aux: {\n            read: mmu.auxread,\n            write: mmu.auxwrite,\n            lc: calcLC(mmu, true),\n            hires: calcHires(mmu, true),\n            text: calcText(mmu, true),\n            zp: readAndWrite(mmu.altzp),\n        },\n        io: readAndWrite(!mmu.intcxrom),\n        intcxrom: readAndWrite(mmu.intcxrom),\n    };\n};\n\n/**\n * Computes the read/write state of a language card.\n *\n * @param card The language card\n * @returns read/write state\n */\nconst calcLanguageCard = (card: LanguageCard): LC => {\n    const read = card.readbsr;\n    const write = card.writebsr;\n    return {\n        read,\n        write,\n        bank0: {\n            read: read && !card.bsr2,\n            write: write && !card.bsr2,\n        },\n        bank1: {\n            read: read && card.bsr2,\n            write: write && card.bsr2,\n        },\n        rom: {\n            read: !card.readbsr,\n            write: !card.writebsr,\n        }\n    };\n};\n\n/**\n * Computes the classes for a bank from read/write state.\n *\n * @param rw Read/write state\n * @returns Classes\n */\nconst rw = (rw: ReadWrite) => {\n    return {\n        [styles.read]: rw.read,\n        [styles.write]: rw.write,\n        [styles.inactive]: !rw.write && !rw.read,\n    };\n};\n\n/**\n * Properties for LanguageCard component\n */\ninterface LanguageCardMapProps {\n    lc: LC;\n    children?: ComponentChildren;\n}\n\n/**\n * Language card state component use by both the MMU and LanguageCard\n * visualizations.\n *\n * @param lc LC state\n * @param children label component\n * @returns LanguageCard component\n */\nconst LanguageCardMap = ({ lc, children }: LanguageCardMapProps) => {\n    return (\n        <div className={cs(styles.bank)}>\n            <div className={cs(styles.lc, rw(lc))}>\n                {children} LC\n            </div>\n            <div className={styles.lcbanks}>\n                <div className={cs(styles.lcbank, styles.lcbank0, rw(lc.bank0))}>\n                    Bank 0\n                </div>\n                <div className={cs(styles.lcbank, rw(lc.bank1))}>\n                    Bank 1\n                </div>\n            </div>\n        </div>\n    );\n};\n\n/**\n * Legend of state colors. Green for read, red for write, blue for both, grey for\n * inactive.\n *\n * @returns Legend component\n */\nconst Legend = () => {\n    return (\n        <div>\n            <div>\n                <div className={cs(styles.read, styles.legend)}> </div> Read\n            </div>\n            <div>\n                <div className={cs(styles.write, styles.legend)}> </div> Write\n            </div>\n            <div>\n                <div className={cs(styles.write, styles.read, styles.legend)}> </div> Read/Write\n            </div>\n            <div>\n                <div className={cs(styles.inactive, styles.legend)}> </div> Inactive\n            </div>\n        </div>\n    );\n};\n\n/**\n * Properties for the Memory component.\n */\nexport interface MemoryProps {\n    apple2: Apple2Impl | undefined;\n}\n\n/**\n * Memory debugger component. Displays the active state of banks of\n * memory - aux, 80 column and language card depending up the machine.\n *\n * @param apple2 Apple2 object\n * @returns Memory component\n */\nexport const Memory = ({ apple2 }: MemoryProps) => {\n    const animationRef = useRef<number>(0);\n    const [banks, setBanks] = useState<Banks>();\n    const [lc, setLC] = useState<LC>();\n\n    const animate = useCallback(() => {\n        if (apple2) {\n            const mmu = apple2.getMMU();\n            if (mmu) {\n                setBanks(calcBanks(mmu));\n            } else {\n                const card = apple2.getIO().getSlot(0);\n                if (card instanceof LanguageCard) {\n                    setLC(calcLanguageCard(card));\n                }\n            }\n        }\n        animationRef.current = requestAnimationFrame(animate);\n    }, [apple2]);\n\n    useEffect(() => {\n        animationRef.current = requestAnimationFrame(animate);\n        return () => cancelAnimationFrame(animationRef.current);\n    }, [animate]);\n\n    if (banks) {\n        return (\n            <div className={styles.memory}>\n                <div className={debuggerStyles.heading}>MMU</div>\n                <div className={cs(styles.upperMemory, debuggerStyles.row)}>\n                    <LanguageCardMap lc={banks.aux.lc}>\n                        Aux\n                    </LanguageCardMap>\n                    <LanguageCardMap lc={banks.main.lc}>\n                        Main\n                    </LanguageCardMap>\n                    <div className={cs(styles.bank)}>\n                        <div className={cs(styles.rom, rw(banks.main.lc.rom))}>\n                            ROM\n                        </div>\n                    </div>\n                </div>\n                <div className={cs(debuggerStyles.row)}>\n                    <div className={cs(styles.io, rw(banks.io))}>\n                        IO\n                    </div>\n                    <div className={cs(styles.intcxrom, rw(banks.intcxrom))}>\n                        CXROM\n                    </div>\n                </div>\n                <div className={cs(styles.lowerMemory, debuggerStyles.row)}>\n                    <div className={cs(styles.bank, rw(banks.aux))}>\n                        Aux Mem\n                        <div className={cs(styles.hires, rw(banks.aux.hires))}>\n                            Hires\n                        </div>\n                        <div className={cs(styles.text, rw(banks.aux.text))}>\n                            Text/Lores\n                        </div>\n                        <div className={cs(styles.zp, rw(banks.aux.zp))}>\n                            Stack/ZP\n                        </div>\n                    </div>\n                    <div className={cs(styles.bank, rw(banks.main))}>\n                        Main Mem\n                        <div className={cs(styles.hires, rw(banks.main.hires))}>\n                            Hires\n                        </div>\n                        <div className={cs(styles.text, rw(banks.main.text))}>\n                            Text/Lores\n                        </div>\n                        <div className={cs(styles.zp, rw(banks.main.zp))}>\n                            <span>Stack/ZP</span>\n                        </div>\n                    </div>\n                </div>\n                <hr />\n                <Legend />\n            </div>\n        );\n    } else if (lc) {\n        return (\n            <div className={styles.memory}>\n                <div className={debuggerStyles.heading}>Language Card</div>\n                <div className={cs(debuggerStyles.row, styles.languageCard)}>\n                    <LanguageCardMap lc={lc} />\n                    <div className={cs(styles.bank)}>\n                        <div className={cs(styles.rom, rw(lc.rom))}>\n                            ROM\n                        </div>\n                    </div>\n                </div>\n                <hr />\n                <Legend />\n            </div>\n        );\n    } else {\n        return null;\n    }\n};\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./VideoModes.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./VideoModes.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h } from 'preact';\nimport { useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport cs from 'classnames';\n\nimport { Apple2 as Apple2Impl } from 'js/apple2';\nimport { VideoPage } from 'js/videomodes';\n\nimport styles from './css/VideoModes.module.scss';\nimport debuggerStyles from './css/Debugger.module.scss';\n\nexport interface VideoModesProps {\n    apple2: Apple2Impl | undefined;\n}\n\nconst blit = (page: VideoPage, canvas: HTMLCanvasElement | null) => {\n    if (canvas) {\n        const context = canvas.getContext('2d');\n        if (context) {\n            context.putImageData(page.imageData, 0, 0);\n        }\n    }\n};\n\nexport const VideoModes = ({ apple2 }: VideoModesProps) => {\n    const [text, setText] = useState(false);\n    const [hires, setHires] = useState(false);\n    const [page2, setPage2] = useState(false);\n    const canvas1 = useRef<HTMLCanvasElement>(null);\n    const canvas2 = useRef<HTMLCanvasElement>(null);\n    const canvas3 = useRef<HTMLCanvasElement>(null);\n    const canvas4 = useRef<HTMLCanvasElement>(null);\n    const animationRef = useRef<number>(0);\n\n    const animate = useCallback(() => {\n        if (apple2) {\n            const vm = apple2.getVideoModes();\n            const text = vm.isText();\n            const hires = vm.isHires();\n            const page2 = vm.isPage2();\n\n            vm.getLoresPage(1).refresh();\n            vm.getLoresPage(2).refresh();\n            vm.getHiresPage(1).refresh();\n            vm.getHiresPage(2).refresh();\n            blit(vm.getLoresPage(1), canvas1.current);\n            blit(vm.getLoresPage(2), canvas2.current);\n            blit(vm.getHiresPage(1), canvas3.current);\n            blit(vm.getHiresPage(2), canvas4.current);\n\n            setText(text);\n            setHires(hires);\n            setPage2(page2);\n        }\n        animationRef.current = requestAnimationFrame(animate);\n    }, [apple2]);\n\n    useEffect(() => {\n        animationRef.current = requestAnimationFrame(animate);\n        return () => cancelAnimationFrame(animationRef.current);\n    }, [animate]);\n\n    return (\n        <div className={styles.pages}>\n            <div className={debuggerStyles.row}>\n                <div className={cs(styles.page, { [styles.active]: (text || !hires) && !page2 })}>\n                    <div className={debuggerStyles.heading}>\n                        Text/Lores Page 1\n                    </div>\n                    <canvas width=\"560\" height=\"192\" ref={canvas1} />\n                </div>\n                <div className={cs(styles.page, { [styles.active]: (text || !hires) && page2 })}>\n                    <div className={debuggerStyles.heading}>\n                        Text/Lores Page 2\n                    </div>\n                    <canvas width=\"560\" height=\"192\" ref={canvas2} />\n                </div>\n            </div>\n            <div className={debuggerStyles.row}>\n                <div className={cs(styles.page, { [styles.active]: (!text && hires) && !page2 })}>\n                    <div className={debuggerStyles.heading}>\n                        Hires Page 1\n                    </div>\n                    <canvas width=\"560\" height=\"192\" ref={canvas3} />\n                </div>\n                <div className={cs(styles.page, { [styles.active]: (!text && hires) && page2 })}>\n                    <div className={debuggerStyles.heading}>\n                        Hires Page 2\n                    </div>\n                    <canvas width=\"560\" height=\"192\" ref={canvas4} />\n                </div>\n            </div>\n        </div>\n    );\n};\n","import { h } from 'preact';\nimport { useState } from 'preact/hooks';\nimport { Inset } from '../Inset';\nimport { Tab, Tabs } from '../Tabs';\nimport { Apple2 } from 'js/apple2';\n\nimport { Applesoft } from './Applesoft';\nimport { CPU } from './CPU';\nimport { Disks } from './Disks';\nimport { Memory } from './Memory';\nimport { VideoModes } from './VideoModes';\n\nimport styles from './css/Debugger.module.scss';\n\ninterface DebuggerProps {\n    apple2: Apple2 | undefined;\n}\n\nexport const Debugger = ({ apple2 }: DebuggerProps) => {\n    const [selected, setSelected] = useState(0);\n\n    if (!apple2) {\n        return null;\n    }\n\n    return (\n        <Inset className={styles.inset}>\n            <Tabs setSelected={setSelected}>\n                <Tab>CPU</Tab>\n                <Tab>Video</Tab>\n                <Tab>Memory</Tab>\n                <Tab>Disks</Tab>\n                <Tab>Applesoft</Tab>\n            </Tabs>\n            <div className={styles.debugger}>\n                {selected === 0 ? <CPU apple2={apple2} /> : null}\n                {selected === 1 ? <VideoModes apple2={apple2} /> : null}\n                {selected === 2 ? <Memory apple2={apple2} /> : null}\n                {selected === 3 ? <Disks apple2={apple2} /> : null}\n                {selected === 4 ? <Applesoft apple2={apple2} /> : null}\n            </div>\n        </Inset>\n    );\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./ErrorModal.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./ErrorModal.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h } from 'preact';\nimport { useCallback } from 'preact/hooks';\nimport { Modal, ModalContent, ModalFooter } from './Modal';\n\nimport styles from './css/ErrorModal.module.scss';\n\nexport interface ErrorProps {\n    error: unknown | undefined;\n    setError: (error: string | undefined) => void;\n}\n\nexport const ErrorModal = ({ error, setError }: ErrorProps) => {\n    const onClose = useCallback(() => setError(undefined), [setError]);\n    let errorStr = null;\n    if (error) {\n        if (error instanceof Error) {\n            errorStr = error.message;\n        } else if (typeof error === 'string') {\n            errorStr = error;\n        } else {\n            errorStr = 'Unknown Error';\n            console.error(error);\n        }\n    }\n\n    if (errorStr) {\n        return (\n            <Modal\n                title=\"Error\"\n                icon=\"triangle-exclamation\"\n                isOpen={true}\n                onClose={onClose}\n            >\n                <ModalContent>\n                    <div className={styles.errorModal}>\n                        {errorStr}\n                    </div>\n                </ModalContent>\n                <ModalFooter>\n                    <button onClick={onClose}>OK</button>\n                </ModalFooter>\n            </Modal>\n        );\n    } else {\n        return null;\n    }\n};\n","import { JSX } from 'preact';\nimport { DeepMemberOf, KnownKeys } from '../../types';\n\nexport const SPECIAL_KEY_MAP = {\n    'Shift': 'SHIFT',\n    'Enter': 'RETURN',\n    'CapsLock': 'LOCK',\n    'Control': 'CTRL',\n    'Escape': 'ESC',\n    'Delete': 'RESET',\n    'Tab': 'TAB',\n    'Backspace': 'DELETE',\n    'ArrowUp': '&uarr;',\n    'ArrowDown': '&darr;',\n    'ArrowRight': '&rarr;',\n    'ArrowLeft': '&larr;',\n    // UiKit symbols\n    'UIKeyInputLeftArrow': '&larr;',\n    'UIKeyInputRightArrow': '&rarr;',\n    'UIKeyInputUpArrow': '&uarr;',\n    'UIKeyInputDownArrow': '&darr;',\n    'UIKeyInputEscape': 'ESC',\n} as const;\n\nexport const isSpecialKey = (k: string): k is KnownKeys<typeof SPECIAL_KEY_MAP> => {\n    return k in SPECIAL_KEY_MAP;\n};\n\nexport const SPECIAL_KEY_CODE = {\n    'TAB': 9,\n    'RETURN': 13,\n    'ESC': 27,\n    '&uarr;': 11,\n    '&darr;': 10,\n    '&rarr;': 21,\n    '&larr;': 8,\n    'DELETE': 127,\n} as const;\n\nexport const hasSpecialKeyCode = (k: string): k is KnownKeys<typeof SPECIAL_KEY_CODE> => {\n    return k in SPECIAL_KEY_CODE;\n};\n\n/**\n * Keyboard layout for the Apple ][ / ][+\n */\nexport const keys2 = [\n    [\n        ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0', ':', '-', 'RESET'],\n        ['ESC', 'Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P', 'REPT', 'RETURN'],\n        ['CTRL', 'A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', ';', '&larr;', '&rarr;'],\n        ['SHIFT', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', ',', '.', '/', 'SHIFT'],\n        ['POWER', '&nbsp;']\n    ], [\n        ['!', '\"', '#', '$', '%', '&', '\\'', '(', ')', '0', '*', '=', 'RESET'],\n        ['ESC', 'Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', '@', 'REPT', 'RETURN'],\n        ['CTRL', 'A', 'S', 'D', 'F', 'BELL', 'H', 'J', 'K', 'L', '+', '&larr;', '&rarr;'],\n        ['SHIFT', 'Z', 'X', 'C', 'V', 'B', '^', ']', '<', '>', '?', 'SHIFT'],\n        ['POWER', '&nbsp;']\n    ]\n] as const;\n\nexport type Key2 = DeepMemberOf<typeof keys2>;\n\n/**\n * Keyboard layout for the Apple //e\n */\nexport const keys2e = [\n    [\n        ['ESC', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0', '-', '=', 'DELETE'],\n        ['TAB', 'Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P', '[', ']', '\\\\'],\n        ['CTRL', 'A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', ';', '\"', 'RETURN'],\n        ['SHIFT', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', ',', '.', '/', 'SHIFT'],\n        ['LOCK', '`', 'POW', 'OPEN_APPLE', '&nbsp;', 'CLOSED_APPLE', '&larr;', '&rarr;', '&darr;', '&uarr;']\n    ], [\n        ['ESC', '!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '+', 'DELETE'],\n        ['TAB', 'Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P', '{', '}', '|'],\n        ['CTRL', 'A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', ':', '\\'', 'RETURN'],\n        ['SHIFT', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', '<', '>', '?', 'SHIFT'],\n        ['CAPS', '~', 'POW', 'OPEN_APPLE', '&nbsp;', 'CLOSED_APPLE', '&larr;', '&rarr;', '&darr;', '&uarr;']\n    ]\n] as const;\n\n/** Shifted */\nconst SHIFTED = {\n    '!' : '1' ,\n    '@' : '2' ,\n    '#' : '3' ,\n    '$' : '4' ,\n    '%' : '5' ,\n    '^' : '6' ,\n    '&' : '7' ,\n    '*' : '8' ,\n    '(' : '9' ,\n    ')' : '0' ,\n    '_' : '-' ,\n    '+' : '=' ,\n    '{' : '[' ,\n    '}' : ']' ,\n    '|' : '\\\\',\n    ':' : ';' ,\n    '\\'' : '\"',\n    '<' : ',' ,\n    '>' : '.' ,\n    '?' : '/' ,\n    '~' : '`' ,\n} as const;\n\nexport const isShiftyKey = (k: string): k is KnownKeys<typeof SHIFTED> => {\n    return k in SHIFTED;\n};\n\nexport type Key2e = DeepMemberOf<typeof keys2e>;\n\nexport type Key = Key2 | Key2e;\n\nexport type KeyFunction = (key: KeyboardEvent) => void;\n\n/**\n * Convert a DOM keyboard event into an ASCII equivalent that\n * an Apple II can recognize.\n *\n * @param evt Event to convert\n * @param caps Caps Lock state\n * @returns a tuple of:\n *     * `key`: the symbol of the key\n *     * `keyLabel`: the label on the keycap\n *     * `keyCode`: the corresponding byte for the Apple II\n */\nexport const mapKeyboardEvent = (event: KeyboardEvent, caps: boolean = false, control: boolean = false) => {\n    let key: string;\n    if (isSpecialKey(event.key)) {\n        key = SPECIAL_KEY_MAP[event.key];\n    } else if (event.key === 'Alt') {\n        key = event.location === 1 ? 'OPEN_APPLE' : 'CLOSED_APPLE';\n    } else {\n        key = event.key;\n    }\n\n    let keyLabel = key;\n    if (key.length === 1) {\n        if (isShiftyKey(key)) {\n            keyLabel = SHIFTED[key];\n        } else {\n            keyLabel = key.toUpperCase();\n        }\n    }\n\n    let keyCode = 0xff;\n    if (hasSpecialKeyCode(key)) {\n        keyCode = SPECIAL_KEY_CODE[key];\n    } else if  (key.length === 1) {\n        keyCode = key.charCodeAt(0);\n    }\n    if ((caps || control) && keyCode >= 0x61 && keyCode <= 0x7A) {\n        keyCode -= 0x20;\n    }\n    if (control && keyCode >= 0x40 && keyCode < 0x60) {\n        keyCode -= 0x40;\n    }\n\n    return { key, keyLabel, keyCode};\n};\n\n/**\n * Convert a mouse event into an ASCII character based on the\n * data attached to the target DOM element.\n *\n * @param event Event to convert\n * @param shifted Shift key state\n * @param controlled Control key state\n * @param caps Caps Lock state\n * @param e //e status\n * @returns ASCII character\n */\nexport const mapMouseEvent = (\n    event: JSX.TargetedMouseEvent<HTMLElement>,\n    shifted: boolean,\n    controlled: boolean,\n    caps: boolean,\n    e: boolean,\n) => {\n    const keyLabel = event.currentTarget?.dataset.key2 ?? '';\n    let key = event.currentTarget?.dataset[shifted ? 'key2' : 'key1'] ?? '';\n    let keyCode = 0xff;\n\n    switch (key) {\n        case 'BELL':\n            key = 'G';\n            break;\n        case 'RETURN':\n            key = '\\r';\n            break;\n        case 'TAB':\n            key = '\\t';\n            break;\n        case 'DELETE':\n            key = '\\x7F';\n            break;\n        case '&larr;':\n            key = '\\x08';\n            break;\n        case '&rarr;':\n            key = '\\x15';\n            break;\n        case '&darr;':\n            key = '\\x0A';\n            break;\n        case '&uarr;':\n            key = '\\x0B';\n            break;\n        case '&nbsp;':\n            key = ' ';\n            break;\n        case 'ESC':\n            key = '\\x1B';\n            break;\n        default:\n            break;\n    }\n\n    if (key.length === 1) {\n        if (controlled && key >= '@' && key <= '_') {\n            keyCode = key.charCodeAt(0) - 0x40;\n        } else if (\n            e && !shifted && !caps &&\n            key >= 'A' && key <= 'Z'\n        ) {\n            keyCode = key.charCodeAt(0) + 0x20;\n        } else {\n            keyCode = key.charCodeAt(0);\n        }\n    }\n    return { keyCode, key, keyLabel };\n};\n\n/**\n * Remap keys so that upper and lower are a tuple per row instead of\n * separate rows\n *\n * @param inKeys keys2 or keys2e\n * @returns Keys remapped\n */\nexport const keysAsTuples = (inKeys: typeof keys2e | typeof keys2): string[][][] => {\n    const rows = [];\n    for (let idx = 0; idx < inKeys[0].length; idx++) {\n        const upper = inKeys[0][idx];\n        const lower = inKeys[1][idx];\n        const keys = [];\n        for (let jdx = 0; jdx < upper.length; jdx++) {\n            keys.push([upper[jdx], lower[jdx]]);\n        }\n        rows.push(keys);\n    }\n    return rows;\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Keyboard.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Keyboard.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h, Fragment, JSX } from 'preact';\nimport cs from 'classnames';\nimport { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport { Apple2 as Apple2Impl } from '../apple2';\nimport {\n    keys2,\n    keys2e,\n    mapMouseEvent,\n    keysAsTuples,\n    mapKeyboardEvent\n} from './util/keyboard';\n\nimport styles from './css/Keyboard.module.scss';\n\n/**\n * Convenience function for massaging key labels for upper\n * and lower case\n *\n * @param key Raw key label\n * @returns Span representing that label\n */\nconst buildLabel = (key: string) => {\n    const small = key.length > 1 && !key.startsWith('&');\n    return (\n        <span\n            className={cs({ [styles.small]: small })}\n            dangerouslySetInnerHTML={{ __html: key }}\n        />\n    );\n};\n\n/**\n * Key properties\n */\ninterface KeyProps {\n    lower: string;\n    upper: string;\n    active: boolean;\n    pressed: boolean;\n    onMouseDown: (event: MouseEvent) => void;\n    onMouseUp: (event: MouseEvent) => void;\n}\n\n/**\n * Individual Key components. Sets up DOM data attributes to be passed to mouse\n * handlers\n *\n * @param lower Lower key symbol\n * @param upper Upper key symbol\n * @param active Active state for shift, control, lock\n * @param pressed Pressed state\n * @param onMouseDown mouse down callback\n * @param onMouseUp mouse up callback\n */\nexport const Key = ({\n    lower,\n    upper,\n    active,\n    pressed,\n    onMouseDown,\n    onMouseUp\n}: KeyProps) => {\n    const keyName = lower.replace(/[&#;]/g, '');\n    const center =\n        lower === 'LOCK'\n            ? styles.vCenter2\n            : (upper === lower && upper.length > 1)\n                ? styles.vCenter\n                : '';\n    return (\n        <div\n            className={cs(\n                styles.key,\n                styles[`key-${keyName}`],\n                center,\n                {\n                    [styles.pressed]: pressed,\n                    [styles.active]: active,\n                },\n            )}\n            data-key1={lower}\n            data-key2={upper}\n            onMouseDown={onMouseDown}\n            onMouseUp={onMouseUp}\n        >\n            <div>\n                {buildLabel(upper)}\n                {upper !== lower && <><br />{buildLabel(lower)}</>}\n            </div>\n        </div>\n    );\n};\n\n/**\n * Keyboard properties\n */\nexport interface KeyboardProps {\n    apple2: Apple2Impl | undefined;\n    e: boolean;\n}\n\n/**\n * Keyboard component that can render an Apple ][ or //e keyboard\n * and accept keyboard and mouse input. Relies heavily on the\n * ancient keyboard css to achieve its appearance.\n *\n * @param apple2 Apple2 object\n * @returns Keyboard component\n */\nexport const Keyboard = ({ apple2, e }: KeyboardProps) => {\n    const [pressed, setPressed] = useState<string[]>([]);\n    const [active, setActive] = useState<string[]>(['LOCK']);\n    const keys = useMemo(() => keysAsTuples(e ? keys2e : keys2), [e]);\n\n    // Set global keystroke handler\n    useEffect(() => {\n        const keyDown = (event: KeyboardEvent) => {\n            if (!apple2) {\n                return;\n            }\n\n            if (document.activeElement && document.activeElement !== document.body) {\n                return;\n            }\n\n            event.preventDefault();\n\n            const { key, keyCode, keyLabel } = mapKeyboardEvent(event, active.includes('LOCK'), active.includes('CTRL'));\n            setPressed(pressed => pressed.concat([keyLabel]));\n            setActive(active => active.concat([keyLabel]));\n\n            if (key === 'RESET') {\n                apple2.reset();\n                return;\n            }\n\n            const io = apple2.getIO();\n            if (key === 'OPEN_APPLE') {\n                io.buttonDown(0, true);\n                return;\n            }\n            if (key === 'CLOSED_APPLE') {\n                io.buttonDown(1, true);\n                return;\n            }\n\n            if (keyCode !== 0xff) {\n                apple2.getIO().keyDown(keyCode);\n            }\n        };\n        const keyUp = (event: KeyboardEvent) => {\n            if (!apple2) {\n                return;\n            }\n            const { key, keyLabel } = mapKeyboardEvent(event);\n            setPressed(pressed => pressed.filter(k => k !== keyLabel));\n            setActive(active => active.filter(k => k !== keyLabel));\n\n            const io = apple2.getIO();\n            if (key === 'OPEN_APPLE') {\n                io.buttonDown(0, false);\n            }\n            if (key === 'CLOSED_APPLE') {\n                io.buttonDown(1, false);\n            }\n            apple2.getIO().keyUp();\n        };\n        document.addEventListener('keydown', keyDown);\n        document.addEventListener('keyup', keyUp);\n\n        return () => {\n            document.removeEventListener('keydown', keyDown);\n            document.removeEventListener('keyup', keyUp);\n        };\n    }, [apple2, active]);\n\n    const onMouseDown = useCallback(\n        (event: JSX.TargetedMouseEvent<HTMLElement>) => {\n            if (!apple2) {\n                return;\n            }\n            // Sometimes control-clicking will open a menu, so don't do that.\n            event.preventDefault();\n            const toggleActive = (key: string) => {\n                if (!active.includes(key)) {\n                    setActive([...active, key]);\n                    return true;\n                }\n                setActive(active.filter(x => x !== key));\n                return false;\n            };\n\n            const io = apple2.getIO();\n            const { keyCode, key, keyLabel } = mapMouseEvent(\n                event,\n                active.includes('SHIFT'),\n                active.includes('CTRL'),\n                active.includes('LOCK'),\n                true\n            );\n            if (keyCode !== 0xff) {\n                io.keyDown(keyCode);\n            } else if (key) {\n                switch (key) {\n                    case 'SHIFT':\n                    case 'CTRL':\n                    case 'LOCK':\n                        toggleActive(key);\n                        break;\n                    case 'RESET':\n                        apple2.reset();\n                        break;\n                    case 'OPEN_APPLE':\n                        io.buttonDown(0, toggleActive(key));\n                        toggleActive(key);\n                        break;\n                    case 'CLOSED_APPLE':\n                        io.buttonDown(1, toggleActive(key));\n                        toggleActive(key);\n                        break;\n                    default:\n                        break;\n                }\n            }\n            setPressed([...pressed, keyLabel]);\n        },\n        [apple2, active, pressed]\n    );\n\n    const onMouseUp = useCallback(\n        (event: JSX.TargetedMouseEvent<HTMLElement>) => {\n            const { keyLabel } = mapMouseEvent(\n                event,\n                active.includes('SHIFT'),\n                active.includes('CTRL'),\n                active.includes('LOCK'),\n                true\n            );\n            apple2?.getIO().keyUp();\n            setPressed(pressed.filter(x => x !== keyLabel));\n        },\n        [apple2, active, pressed]\n    );\n\n    const bindKey = ([lower, upper]: [string, string]) =>\n        <Key\n            lower={lower}\n            upper={upper}\n            active={active.includes(lower)}\n            pressed={pressed.includes(lower)}\n            onMouseDown={onMouseDown}\n            onMouseUp={onMouseUp}\n        />;\n\n    const rows = keys.map((row, idx) =>\n        <div key={idx} className={cs(styles.row, styles[`row${idx}`])}>\n            {row.map(bindKey)}\n        </div>\n    );\n\n    return (\n        <div className={styles.keyboard}>\n            {rows}\n        </div>\n    );\n};\n","import CPU6502 from 'js/cpu6502';\nimport { Memory } from 'js/types';\nimport { useEffect } from 'preact/hooks';\nimport Apple2IO, { slot } from '../apple2io';\nimport LanguageCardImpl from '../cards/langcard';\n\n/**\n * Language Card component properties\n */\nexport interface LanguageCardProps {\n    io: Apple2IO | undefined;\n    cpu: CPU6502 | undefined;\n    rom: Memory | undefined;\n    slot: slot;\n}\n\n/**\n * Language card component. Adds 16KB of memory.\n *\n * @param cpu 6502 object\n * @param io Apple2IO object\n * @param slot Slot to register card in\n * @returns LanguageCard component\n */\nexport const LanguageCard = ({ cpu, io, rom, slot }: LanguageCardProps) => {\n    useEffect(() => {\n        if (io && cpu && rom) {\n            const lc = new LanguageCardImpl(rom);\n            io.setSlot(slot, lc);\n            cpu.addPageHandler(lc);\n        }\n    }, [io, cpu, rom, slot]);\n\n    return null;\n};\n","import type Mouse from '../cards/mouse';\nimport { enableMouseMode } from './joystick';\n\ntype TouchEventWithTarget = TouchEvent & { target: HTMLCanvasElement };\n\nexport class MouseUI {\n    private mouse: Mouse;\n\n    constructor(private canvas: HTMLCanvasElement)  {\n        const updateTouchXY = (event: TouchEventWithTarget) => {\n            const { targetTouches, target } = event;\n            if (targetTouches.length < 1) {\n                return;\n            }\n            const rect = target.getBoundingClientRect();\n            const leftPad = (rect.width - 560) / 2 + rect.left;\n            const topPad = (rect.height - 384) / 2 + rect.top;\n            const { clientX, clientY } = targetTouches[0];\n            const xPos = clientX - leftPad;\n            const yPos = clientY - topPad;\n            this.mouse.setMouseXY(\n                Math.max(Math.min(xPos, 559), 0),\n                Math.max(Math.min(yPos, 383), 0),\n                560,\n                384,\n            );\n        };\n\n        if ('ontouchstart' in window) {\n            this.canvas.addEventListener(\n                'touchmove',\n                (event: TouchEventWithTarget) => {\n                    updateTouchXY(event);\n                }\n            );\n\n            this.canvas.addEventListener(\n                'touchstart',\n                (event: TouchEventWithTarget) => {\n                    updateTouchXY(event);\n                    // Make sure the mouse down is processed in a different\n                    // pass as the move, so that a simple tap isn't treated like\n                    // a drag.\n                    setTimeout(() => this.mouse.setMouseDown(true), 100);\n                }\n            );\n\n            this.canvas.addEventListener(\n                'touchend',\n                (event: TouchEventWithTarget) => {\n                    updateTouchXY(event);\n                    this.mouse.setMouseDown(false);\n                }\n            );\n\n            this.canvas.addEventListener(\n                'touchcancel',\n                (event: TouchEventWithTarget) => {\n                    updateTouchXY(event);\n                    this.mouse.setMouseDown(false);\n                }\n            );\n        } else {\n            this.canvas.addEventListener(\n                'mousemove',\n                (event: MouseEvent & { target: HTMLCanvasElement} ) => {\n                    const { offsetX, offsetY, target } = event;\n                    this.mouse.setMouseXY(\n                        offsetX,\n                        offsetY,\n                        target.clientWidth,\n                        target.clientHeight\n                    );\n                }\n            );\n\n            this.canvas.addEventListener('mousedown', () => {\n                this.mouse.setMouseDown(true);\n            });\n\n            this.canvas.addEventListener('mouseup', () => {\n                this.mouse.setMouseDown(false);\n            });\n        }\n    }\n\n    setMouse = (mouse: Mouse) => {\n        this.mouse = mouse;\n    };\n\n    mouseMode = (on: boolean) => {\n        enableMouseMode(on);\n        if (on) {\n            this.canvas.classList.add('mouseMode');\n        } else {\n            this.canvas.classList.remove('mouseMode');\n        }\n    };\n}\n","import { ReadonlyUint8Array } from '../../types';\n\nexport const rom: ReadonlyUint8Array = new Uint8Array([\n    0x00,0x00,0x00,0x00,0x00,0x38,0x00,0x18,\n    0x00,0x00,0x00,0x01,0x20,0x00,0x00,0x00,\n    0x00,0x00,0x20,0x21,0x22,0x23,0x24,0x25,\n    0x26,0x27,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0xd6,0x00,0x00,0x00,0x00,\n]);\n\n","import { Card, byte, word, Restorable } from '../types';\nimport CPU6502, { CpuState } from '../cpu6502';\nimport { debug } from '../util';\nimport { rom } from '../roms/cards/mouse';\n\nconst CLAMP_MIN_LOW = 0x478;\nconst CLAMP_MAX_LOW = 0x4F8;\nconst CLAMP_MIN_HIGH = 0x578;\nconst CLAMP_MAX_HIGH = 0x5F8;\n\nconst X_LOW = 0x478;\nconst Y_LOW = 0x4F8;\nconst X_HIGH = 0x578;\nconst Y_HIGH = 0x5F8;\nconst STATUS = 0x778;\nconst MODE = 0x7F8;\n\nconst STATUS_DOWN = 0x80;\nconst STATUS_LAST = 0x40;\nconst STATUS_MOVED = 0x20;\nconst INT_SCREEN = 0x08;\nconst INT_PRESS = 0x04;\nconst INT_MOVE = 0x02;\n\nconst MODE_ON = 0x01;\nconst MODE_INT_MOVE = 0x02;\nconst MODE_INT_PRESS = 0x04;\nconst MODE_INT_VBL = 0x08;\n\n/**\n * Firmware routine offset pointers\n */\nconst ENTRIES = {\n    SET_MOUSE: 0x12,\n    SERVE_MOUSE: 0x13,\n    READ_MOUSE: 0x14,\n    CLEAR_MOUSE: 0x15,\n    POS_MOUSE: 0x16,\n    CLAMP_MOUSE: 0x17,\n    HOME_MOUSE: 0x18,\n    INIT_MOUSE: 0x19\n};\n\ninterface MouseState {\n    clampXMin: word;\n    clampYMin: word;\n    clampXMax: word;\n    clampYMax: word;\n    x: word;\n    y: word;\n    mode: byte;\n    down: boolean;\n    lastDown: boolean;\n    lastX: word;\n    lastY: word;\n    serve: byte;\n    shouldIntMove: boolean;\n    shouldIntPress: boolean;\n    slot: byte;\n}\n\nexport default class Mouse implements Card, Restorable<MouseState> {\n    /** Lowest mouse X */\n    private clampXMin: word = 0;\n    /** Lowest mouse Y */\n    private clampYMin: word = 0;\n    /** Highest mouse X */\n    private clampXMax: word = 0x3FF;\n    /** Highest mouse Y */\n    private clampYMax: word = 0x3FF;\n    /** Mouse X position */\n    private x: word = 0;\n    /** Mouse Y position */\n    private y: word = 0;\n    /** Mouse mode  */\n    private mode: byte = 0;\n    /** Mouse button down state */\n    private down = false;\n    /** Last mouse button down state */\n    private lastDown = false;\n    /** Last mouse Y Position */\n    private lastX: word = 0;\n    /** Last mouse X position  */\n    private lastY: word = 0;\n    /** Interrupt service flags */\n    private serve: byte = 0;\n    /** Move happened since last refresh */\n    private shouldIntMove = false;\n    /** Button press happened since last refresh */\n    private shouldIntPress = false;\n    /** Slot for screen hole indexing */\n    private slot = 0;\n\n    constructor(\n        private cpu: CPU6502,\n        private cbs: {\n            setMouse: (mouse: Mouse) => void;\n            mouseMode: (on: boolean) => void;\n        }\n    ) {\n        this.cbs.setMouse(this);\n    }\n\n    ioSwitch(_off: byte, _val?: byte) {\n        return undefined;\n    }\n\n    read(_page: byte, off: byte) {\n        let state = this.cpu.getState();\n\n        const holeWrite = (addr: word, val: byte) => {\n            this.cpu.write(addr >> 8, (addr & 0xff) + this.slot, val);\n        };\n\n        const holeRead = (addr: word) => {\n            return this.cpu.read(addr >> 8, addr & 0xff);\n        };\n\n        const clearCarry = (state: CpuState) => {\n            state.s &= 0xFE;\n            return state;\n        };\n\n        if (this.cpu.getSync()) {\n            switch (off) {\n                case rom[ENTRIES.SET_MOUSE]:\n                    {\n                        this.mode = state.a;\n                        this.cbs.mouseMode(!!(this.mode & MODE_ON));\n                        state = clearCarry(state);\n                        // debug(\n                        //     'setMouse ',\n                        //     (_mode & MODE_ON ? 'Mouse on ' : 'Mouse off '),\n                        //     (_mode & MODE_INT_MOVE ? 'Move interrupt ' : '') +\n                        //     (_mode & MODE_INT_PRESS ? 'Move press ' : '') +\n                        //     (_mode & MODE_INT_VBL ? 'Move VBL ' : '')\n                        // );\n                    }\n                    break;\n                case rom[ENTRIES.SERVE_MOUSE]:\n                    // debug('serveMouse');\n                    holeWrite(STATUS, this.serve);\n                    state = clearCarry(state);\n                    this.serve = 0;\n                    break;\n                case rom[ENTRIES.READ_MOUSE]:\n                    {\n                        const moved = (this.lastX !== this.x) || (this.lastY !== this.y);\n                        const status =\n                            (this.down ? STATUS_DOWN : 0) |\n                            (this.lastDown ? STATUS_LAST : 0) |\n                            (moved ? STATUS_MOVED : 0);\n                        const mouseXLow = this.x & 0xff;\n                        const mouseYLow = this.y & 0xff;\n                        const mouseXHigh = this.x >> 8;\n                        const mouseYHigh = this.y >> 8;\n\n                        // debug({ mouseXLow, mouseYLow, mouseXHigh, mouseYHigh });\n\n                        holeWrite(X_LOW, mouseXLow);\n                        holeWrite(Y_LOW, mouseYLow);\n                        holeWrite(X_HIGH, mouseXHigh);\n                        holeWrite(Y_HIGH, mouseYHigh);\n                        holeWrite(STATUS, status);\n                        holeWrite(MODE, this.mode);\n\n                        this.lastDown = this.down;\n                        this.lastX = this.x;\n                        this.lastY = this.y;\n\n                        state = clearCarry(state);\n                    }\n                    break;\n                case rom[ENTRIES.CLEAR_MOUSE]:\n                    debug('clearMouse');\n                    state = clearCarry(state);\n                    break;\n                case rom[ENTRIES.POS_MOUSE]:\n                    debug('posMouse');\n                    state = clearCarry(state);\n                    break;\n                case rom[ENTRIES.CLAMP_MOUSE]:\n                    {\n                        const clampY = state.a;\n                        if (clampY) {\n                            this.clampYMin = holeRead(CLAMP_MIN_LOW) | (holeRead(CLAMP_MIN_HIGH) << 8);\n                            this.clampYMax = holeRead(CLAMP_MAX_LOW) | (holeRead(CLAMP_MAX_HIGH) << 8);\n                            debug('clampMouse Y', this.clampYMin, this.clampYMax);\n                        } else {\n                            this.clampXMin = holeRead(CLAMP_MIN_LOW) | (holeRead(CLAMP_MIN_HIGH) << 8);\n                            this.clampXMax = holeRead(CLAMP_MAX_LOW) | (holeRead(CLAMP_MAX_HIGH) << 8);\n                            debug('clampMouse X', this.clampXMin, this.clampXMax);\n                        }\n                        state = clearCarry(state);\n                    }\n                    break;\n                case rom[ENTRIES.HOME_MOUSE]:\n                    {\n                        debug('homeMouse');\n                        this.x = this.clampXMin;\n                        this.y = this.clampYMin;\n                        state = clearCarry(state);\n                    }\n                    break;\n                case rom[ENTRIES.INIT_MOUSE]:\n                    {\n                        this.slot = state.y >> 4;\n                        debug('initMouse slot', this.slot);\n                        state = clearCarry(state);\n                    }\n                    break;\n            }\n\n            this.cpu.setState(state);\n        }\n\n        return rom[off];\n    }\n\n    write() {\n        // not writable\n    }\n\n    /**\n     * Triggers interrupts based on activity since the last tick\n     */\n\n    tick() {\n        if (this.mode & MODE_INT_VBL) {\n            this.serve |= INT_SCREEN;\n        }\n        if ((this.mode & MODE_INT_PRESS) && this.shouldIntPress) {\n            this.serve |= INT_PRESS;\n        }\n        if ((this.mode & MODE_INT_MOVE) && this.shouldIntMove) {\n            this.serve |= INT_MOVE;\n        }\n        if (this.serve) {\n            this.cpu.irq();\n        }\n        this.shouldIntMove = false;\n        this.shouldIntPress = false;\n    }\n\n    /**\n     * Scales mouse position and clamps to min and max,and flags\n     * potential mouse state change interrupt\n     *\n     * @param x Client mouse X position\n     * @param y Client mouse Y position\n     * @param w Client width\n     * @param h Client height\n     */\n\n    setMouseXY(x: number, y: number, w: number, h: number) {\n        const rangeX = this.clampXMax - this.clampXMin;\n        const rangeY = this.clampYMax - this.clampYMin;\n        this.x = (x * rangeX / w + this.clampXMin) & 0xffff;\n        this.y = (y * rangeY / h + this.clampYMin) & 0xffff;\n        this.shouldIntMove = true;\n    }\n\n    /**\n     * Tracks mouse button state and flags potential\n     * mouse state change interrupt\n     *\n     * @param down Mouse button down state\n     */\n\n    setMouseDown(down: boolean) {\n        this.shouldIntPress = this.down !== down;\n        this.down = down;\n    }\n\n    /**\n     * Restores saved state\n     *\n     * @param state stored state\n     */\n\n    setState(state: MouseState) {\n        this.clampXMin = state.clampXMin;\n        this.clampYMin = state.clampYMin;\n        this.clampXMax = state.clampXMax;\n        this.clampYMax = state.clampYMax;\n        this.x = state.x;\n        this.y = state.y;\n        this.mode = state.mode;\n        this.down = state.down;\n        this.lastDown = state.lastDown;\n        this.lastX = state.lastX;\n        this.lastY = state.lastY;\n        this.serve = state.serve;\n        this.shouldIntMove = state.shouldIntMove;\n        this.shouldIntPress = state.shouldIntPress;\n        this.slot = state.slot;\n    }\n\n    /**\n     * Saves state for restoration\n     *\n     * @returns restorable state\n     */\n\n    getState(): MouseState {\n        return {\n            clampXMin: this.clampXMin,\n            clampYMin: this.clampYMin,\n            clampXMax: this.clampXMax,\n            clampYMax: this.clampYMax,\n            x: this.x,\n            y: this.y,\n            mode: this.mode,\n            down: this.down,\n            lastDown: this.lastDown,\n            lastX: this.lastX,\n            lastY: this.lastY,\n            serve: this.serve,\n            shouldIntMove: this.shouldIntMove,\n            shouldIntPress: this.shouldIntPress,\n            slot: this.slot\n        };\n    }\n}\n","import { RefObject } from 'preact';\nimport Apple2IO, { slot } from '../apple2io';\nimport { MouseUI } from '../ui/mouse';\nimport MouseCard from '../cards/mouse';\nimport CPU6502 from '../cpu6502';\nimport { useEffect } from 'preact/hooks';\n\n/**\n * Mouse component properties.\n */\nexport interface MouseProps {\n    cpu: CPU6502 | undefined;\n    io: Apple2IO | undefined;\n    screenRef: RefObject<HTMLCanvasElement>;\n    slot: slot;\n}\n\n/**\n * Mouse card component that adds a simple mouse driver.\n *\n * @param cpu CPU6502 object\n * @param screen Screen element reference\n * @param io Apple2IO object\n * @param slot Slot to register card in\n * @returns Mouse component\n */\nexport const Mouse = ({ cpu, screenRef, io, slot }: MouseProps) => {\n    useEffect(() => {\n        if (cpu && io && screenRef.current) {\n            const mouseUI = new MouseUI(screenRef.current);\n            const mouse = new MouseCard(cpu, mouseUI);\n            io.setSlot(slot, mouse);\n        }\n    }, [cpu, io, screenRef, slot]);\n\n    return null;\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Screen.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Screen.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h, Ref } from 'preact';\n\nimport styles from './css/Screen.module.scss';\n\n/**\n * Screen properties\n */\nexport interface ScreenProps {\n    screenRef: Ref<HTMLCanvasElement>;\n}\n\n/**\n * Styled canvas element that the Apple II display is\n * rendered to by VideoModes.\n *\n * @param screen Canvas element reference\n * @returns\n */\nexport const Screen = ({ screenRef }: ScreenProps) => {\n    return (\n        <div className={styles.display}>\n            <div className={styles.overscan}>\n                <canvas\n                    className={styles.screen}\n                    width=\"592\"\n                    height=\"416\"\n                    ref={screenRef}\n                />\n            </div>\n        </div>\n    );\n};\n","import { useEffect, useState } from 'preact/hooks';\n\nexport const useHash = () => {\n    const [hash, setHash] = useState(window.location.hash);\n\n    const popstateListener = () => {\n        const hash = window.location.hash;\n        setHash(hash);\n    };\n\n    useEffect(() => {\n        window.addEventListener('popstate', popstateListener);\n        return () => {\n            window.removeEventListener('popstate', popstateListener);\n        };\n    }, []);\n\n    return hash;\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./FileModal.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./FileModal.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h, Fragment, JSX } from 'preact';\nimport { useCallback, useEffect, useState } from 'preact/hooks';\nimport { DiskDescriptor, DriveNumber, FLOPPY_FORMATS, NibbleFormat } from '../formats/types';\nimport { Modal, ModalContent, ModalFooter } from './Modal';\nimport { loadLocalNibbleFile, loadJSON, getHashParts, setHashParts } from './util/files';\nimport DiskII from '../cards/disk2';\nimport { ErrorModal } from './ErrorModal';\n\nimport { noAwait, spawn } from './util/promises';\nimport { useHash } from './hooks/useHash';\nimport { FileChooser, FilePickerAcceptType } from './FileChooser';\n\nimport styles from './css/FileModal.module.scss';\n\nconst DISK_TYPES: FilePickerAcceptType[] = [\n    {\n        description: 'Disk Images',\n        accept: { 'application/octet-stream': FLOPPY_FORMATS.map(x => '.' + x) },\n    }\n];\n\nexport type NibbleFileCallback = (\n    name: string,\n    fmt: NibbleFormat,\n    rawData: ArrayBuffer\n) => boolean;\n\ninterface FileModalProps {\n    isOpen: boolean;\n    disk2: DiskII;\n    driveNo: DriveNumber;\n    onClose: (closeBox?: boolean) => void;\n}\n\ninterface IndexEntry {\n    filename: string;\n    name: string;\n    category: string;\n}\n\nexport const FileModal = ({ disk2, driveNo, onClose, isOpen }: FileModalProps) => {\n    const [busy, setBusy] = useState<boolean>(false);\n    const [empty, setEmpty] = useState<boolean>(true);\n    const [category, setCategory] = useState<string>();\n    const [handles, setHandles] = useState<FileSystemFileHandle[]>();\n    const [filename, setFilename] = useState<string>();\n    const [error, setError] = useState<unknown>();\n    const [index, setIndex] = useState<IndexEntry[]>();\n    const hash = useHash();\n\n    useEffect(() => {\n        spawn(async () => {\n            try {\n                const indexResponse = await fetch('json/disks/index.json');\n                const index = await indexResponse.json() as IndexEntry[];\n                setIndex(index);\n            } catch (error) {\n                setIndex([]);\n                setError(error);\n            }\n        });\n    }, []);\n\n    const doCancel = useCallback(() => onClose(true), [onClose]);\n\n    const doOpen = useCallback(async () => {\n        const hashParts = getHashParts(hash);\n        setBusy(true);\n\n        try {\n            if (handles?.length === 1) {\n                hashParts[driveNo] = '';\n                await loadLocalNibbleFile(disk2, driveNo, await handles[0].getFile());\n            }\n            if (filename) {\n                const name = filename.match(/\\/([^/]+).json$/) || ['', ''];\n                hashParts[driveNo] = name[1];\n                await loadJSON(disk2, driveNo, filename);\n            }\n        } catch (e) {\n            setError(e);\n        } finally {\n            setHashParts(hashParts);\n            setBusy(false);\n            onClose();\n        }\n\n        setHashParts(hashParts);\n    }, [disk2, filename, driveNo, onClose, handles, hash]);\n\n    const onChange = useCallback((handles: FileSystemFileHandle[]) => {\n        setEmpty(handles.length === 0);\n        setHandles(handles);\n    }, []);\n\n    const doSelectCategory = useCallback(\n        (event: JSX.TargetedMouseEvent<HTMLSelectElement>) =>\n            setCategory(event.currentTarget.value)\n        , []\n    );\n\n    const doSelectFilename = useCallback(\n        (event: JSX.TargetedMouseEvent<HTMLSelectElement>) => {\n            setEmpty(!event.currentTarget.value);\n            setFilename(event.currentTarget.value);\n        }, []\n    );\n\n    if (!index) {\n        return null;\n    }\n\n    const categories = index.reduce<Record<string, DiskDescriptor[]>>(\n        (\n            acc: Record<string, DiskDescriptor[]>,\n            disk: DiskDescriptor\n        ) => {\n            const category = disk.category || 'Misc';\n            acc[category] = [disk, ...(acc[category] || [])];\n\n            return acc;\n        },\n        {}\n    );\n    const categoryNames = Object.keys(categories).sort();\n\n    const disks = category ? categories[category].sort() : [];\n\n    return (\n        <>\n            <Modal title=\"Open File\" isOpen={isOpen} onClose={onClose}>\n                <ModalContent>\n                    <div className={styles.loadModal}>\n                        <select multiple onChange={doSelectCategory}>\n                            {categoryNames.map((name) => (\n                                <option key={name}>{name}</option>\n                            ))}\n                        </select>\n                        <select multiple onChange={doSelectFilename}>\n                            {disks.map((disk) => (\n                                <option key={disk.filename} value={disk.filename}>\n                                    {disk.name}\n                                    {disk.disk ? ` - ${disk.disk}` : ''}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                    <FileChooser onChange={onChange} accept={DISK_TYPES} />\n                </ModalContent>\n                <ModalFooter>\n                    <button onClick={doCancel}>Cancel</button>\n                    <button onClick={noAwait(doOpen)} disabled={busy || empty}>Open</button>\n                </ModalFooter>\n            </Modal>\n            <ErrorModal error={error} setError={setError} />\n        </>\n    );\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./DiskII.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./DiskII.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { BLOCK_FORMATS, DISK_FORMATS, DriveNumber, FLOPPY_FORMATS, MassStorage } from 'js/formats/types';\nimport { h, JSX, RefObject } from 'preact';\nimport { useEffect, useRef } from 'preact/hooks';\nimport {  loadLocalFile } from './util/files';\nimport { spawn } from './util/promises';\n\nexport interface DiskDragTargetProps<T> extends JSX.HTMLAttributes<HTMLDivElement> {\n    storage: MassStorage<T> | undefined;\n    driveNo?: DriveNumber;\n    formats: typeof FLOPPY_FORMATS\n        | typeof BLOCK_FORMATS\n        | typeof DISK_FORMATS;\n    dropRef?: RefObject<HTMLElement>;\n    onError: (error: unknown) => void;\n}\n\nexport const DiskDragTarget = ({\n    storage,\n    driveNo,\n    dropRef,\n    formats,\n    onError,\n    children,\n    ...props\n}: DiskDragTargetProps<unknown>) => {\n    const ref = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        const div = dropRef?.current || ref.current;\n        if (div) {\n            const onDragOver = (event: DragEvent) => {\n                event.preventDefault();\n                const dt = event.dataTransfer;\n                if (dt) {\n                    if (Array.from(dt.items).every((item) => item.kind === 'file')) {\n                        dt.dropEffect = 'copy';\n                    } else {\n                        dt.dropEffect = 'none';\n                    }\n                }\n            };\n\n            const onDragEnd = (event: DragEvent) => {\n                const dt = event.dataTransfer;\n                if (dt?.items) {\n                    for (let i = 0; i < dt.items.length; i++) {\n                        dt.items.remove(i);\n                    }\n                } else {\n                    dt?.clearData();\n                }\n            };\n\n            const onDrop = (event: DragEvent) => {\n                event.preventDefault();\n                event.stopPropagation();\n                const targetDrive = driveNo ?? 1;  //TODO(whscullin) Maybe pick available drive\n\n                const dt = event.dataTransfer;\n                if (dt?.files.length === 1 && storage) {\n                    spawn(async () => {\n                        try {\n                            await loadLocalFile(storage, formats, targetDrive, dt.files[0]);\n                        } catch (e) {\n                            onError(e);\n                        }\n                    });\n                } else if (dt?.files.length === 2 && storage) {\n                    spawn(async () => {\n                        try {\n                            await loadLocalFile(storage, formats, 1, dt.files[0]);\n                            await loadLocalFile(storage, formats, 2, dt.files[1]);\n                        } catch (e) {\n                            onError(e);\n                        }\n                    });\n                }\n            };\n\n            div.addEventListener('dragover', onDragOver);\n            div.addEventListener('dragend', onDragEnd);\n            div.addEventListener('drop', onDrop);\n\n            return () => {\n                div.removeEventListener('dragover', onDragOver);\n                div.removeEventListener('dragend', onDragEnd);\n                div.removeEventListener('drop', onDrop);\n            };\n        }\n    }, [driveNo, dropRef, formats, onError, storage]);\n\n    return (\n        <div ref={ref} {...props}>\n            {children}\n        </div>\n    );\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./DownloadModal.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./DownloadModal.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h, Fragment } from 'preact';\nimport { useCallback, useEffect, useState } from 'preact/hooks';\nimport { DriveNumber, MassStorage } from '../formats/types';\nimport { Modal, ModalContent, ModalFooter } from './Modal';\n\nimport styles from './css/DownloadModal.module.scss';\n\ninterface DownloadModalProps {\n    isOpen: boolean;\n    massStorage: MassStorage<unknown>;\n    driveNo: DriveNumber;\n    onClose: (closeBox?: boolean) => void;\n}\n\nexport const DownloadModal = ({ massStorage, driveNo, onClose, isOpen }: DownloadModalProps) => {\n    const [href, setHref] = useState('');\n    const [downloadName, setDownloadName] = useState('');\n    const doCancel = useCallback(() => onClose(true), [onClose]);\n\n    useEffect(() => {\n        if (isOpen) {\n            const storageData = massStorage.getBinary(driveNo);\n            if (storageData) {\n                const { ext, data } = storageData;\n                const { name } = storageData.metadata;\n                if (data.byteLength) {\n                    const blob = new Blob(\n                        [data],\n                        { type: 'application/octet-stream' }\n                    );\n                    const href = window.URL.createObjectURL(blob);\n                    setHref(href);\n                    setDownloadName(`${name}.${ext}`);\n                    return;\n                }\n            }\n            setHref('');\n            setDownloadName('');\n        }\n    }, [isOpen, driveNo, massStorage]);\n\n    return (\n        <>\n            <Modal title=\"Save File\" isOpen={isOpen} onClose={onClose}>\n                <ModalContent>\n                    <div className={styles.modalContent}>\n                        {href\n                            ? (\n                                <>\n                                    <span>Disk Name: {downloadName}</span>\n                                    <a\n                                        role=\"button\"\n                                        href={href}\n                                        download={downloadName}\n                                    >\n                                        Download\n                                    </a>\n                                </>\n                            ) : (\n                                <span>No Download Available</span>\n                            )\n                        }\n                    </div>\n                </ModalContent>\n                <ModalFooter>\n                    <button onClick={doCancel}>Close</button>\n                </ModalFooter>\n            </Modal>\n        </>\n    );\n};\n","import { h } from 'preact';\nimport { useCallback, useState } from 'preact/hooks';\nimport cs from 'classnames';\nimport Disk2 from '../cards/disk2';\nimport { ErrorModal } from './ErrorModal';\nimport { FileModal } from './FileModal';\n\nimport styles from './css/DiskII.module.scss';\nimport { DiskDragTarget } from './DiskDragTarget';\nimport { FLOPPY_FORMATS } from 'js/formats/types';\nimport { DownloadModal } from './DownloadModal';\nimport { ControlButton } from './ControlButton';\n\n/**\n * Storage structure for Disk II state returned via callbacks.\n */\nexport interface DiskIIData {\n    number: 1 | 2;\n    on: boolean;\n    name: string;\n    side?: string | undefined;\n}\n\n/**\n * Interface for Disk II component.\n */\nexport interface DiskIIProps extends DiskIIData {\n    disk2: Disk2;\n}\n\n/**\n * Disk II component\n *\n * Includes drive light, disk name and side, and UI for loading disks.\n *\n * @param disk2 Disk2 object\n * @param number Drive 1 or 2\n * @param on Active state\n * @param name Disk name identifier\n * @param side Disk side identifier\n * @returns DiskII component\n */\nexport const DiskII = ({ disk2, number, on, name, side }: DiskIIProps) => {\n    const label = side ? `${name} - ${side}` : name;\n    const [modalOpen, setModalOpen] = useState(false);\n    const [downloadModalOpen, setDownloadModalOpen] = useState(false);\n    const [error, setError] = useState<unknown>();\n\n    const doClose = useCallback(() => {\n        setModalOpen(false);\n    }, []);\n\n    const onOpenModal = useCallback(() => {\n        setModalOpen(true);\n    }, []);\n\n    const doCloseDownload = useCallback(() => {\n        setDownloadModalOpen(false);\n    }, []);\n\n    const onOpenDownloadModal = useCallback(() => {\n        setDownloadModalOpen(true);\n    }, []);\n\n    return (\n        <DiskDragTarget\n            className={styles.disk}\n            storage={disk2}\n            driveNo={number}\n            formats={FLOPPY_FORMATS}\n            onError={setError}\n        >\n            <FileModal disk2={disk2} driveNo={number} onClose={doClose} isOpen={modalOpen} />\n            <DownloadModal\n                driveNo={number}\n                massStorage={disk2}\n                isOpen={downloadModalOpen}\n                onClose={doCloseDownload}\n            />\n            <ErrorModal error={error} setError={setError} />\n            <div className={cs(styles.diskLight, { [styles.on]: on })} />\n            <ControlButton title=\"Load Disk\" onClick={onOpenModal} icon=\"folder-open\" />\n            <ControlButton title=\"Save Disk\" onClick={onOpenDownloadModal} icon=\"save\" />\n            <div className={styles.diskLabel}>\n                {label}\n            </div>\n        </DiskDragTarget>\n    );\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./BlockFileModal.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./BlockFileModal.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h, Fragment } from 'preact';\nimport { useCallback, useState } from 'preact/hooks';\nimport { DriveNumber, BLOCK_FORMATS } from '../formats/types';\nimport { ErrorModal } from './ErrorModal';\nimport { FileChooser } from './FileChooser';\nimport { Modal, ModalContent, ModalFooter } from './Modal';\nimport { loadLocalBlockFile, getHashParts, setHashParts } from './util/files';\nimport SmartPort from 'js/cards/smartport';\nimport { useHash } from './hooks/useHash';\nimport { noAwait } from './util/promises';\n\nimport styles from './css/BlockFileModal.module.scss';\n\nconst DISK_TYPES: FilePickerAcceptType[] = [\n    {\n        description: 'Disk Images',\n        accept: { 'application/octet-stream': BLOCK_FORMATS.map(x => '.' + x) },\n    }\n];\n\ninterface BlockFileModalProps {\n    isOpen: boolean;\n    smartPort: SmartPort;\n    driveNo: DriveNumber;\n    onClose: (closeBox?: boolean) => void;\n}\n\nexport const BlockFileModal = ({ smartPort, driveNo: number, onClose, isOpen }: BlockFileModalProps) => {\n    const [handles, setHandles] = useState<FileSystemFileHandle[]>();\n    const [busy, setBusy] = useState<boolean>(false);\n    const [empty, setEmpty] = useState<boolean>(true);\n    const [error, setError] = useState<unknown>();\n    const hash = useHash();\n\n    const doCancel = useCallback(() => onClose(true), [onClose]);\n\n    const doOpen = useCallback(async () => {\n        const hashParts = getHashParts(hash);\n\n        if (handles?.length === 1) {\n            hashParts[number] = '';\n            setBusy(true);\n            try {\n                await loadLocalBlockFile(smartPort, number, await handles[0].getFile());\n            } catch (error) {\n                setError(error);\n            } finally {\n                setBusy(false);\n                onClose();\n            }\n        }\n\n        setHashParts(hashParts);\n    }, [handles, hash, smartPort, number, onClose]);\n\n    const onChange = useCallback((handles: FileSystemFileHandle[]) => {\n        setEmpty(handles.length === 0);\n        setHandles(handles);\n    }, []);\n\n    return (\n        <>\n            <Modal title=\"Open File\" isOpen={isOpen} onClose={onClose}>\n                <ModalContent>\n                    <div className={styles.modalContent}>\n                        <FileChooser onChange={onChange} accept={DISK_TYPES} />\n                    </div>\n                </ModalContent>\n                <ModalFooter>\n                    <button onClick={doCancel}>Cancel</button>\n                    <button onClick={noAwait(doOpen)} disabled={busy || empty}>Open</button>\n                </ModalFooter>\n            </Modal>\n            <ErrorModal error={error} setError={setError} />\n        </>\n    );\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./BlockDisk.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./BlockDisk.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h } from 'preact';\nimport { useCallback, useState } from 'preact/hooks';\nimport cs from 'classnames';\nimport { BLOCK_FORMATS } from 'js/formats/types';\nimport SmartPort from '../cards/smartport';\nimport { BlockFileModal } from './BlockFileModal';\nimport { DiskDragTarget } from './DiskDragTarget';\nimport { DownloadModal } from './DownloadModal';\nimport { ErrorModal } from './ErrorModal';\n\nimport styles from './css/BlockDisk.module.scss';\nimport { ControlButton } from './ControlButton';\n\n/**\n * Storage structure for drive state returned via callbacks.\n */\nexport interface BlockDiskData {\n    number: 1 | 2;\n    on: boolean;\n    name?: string;\n}\n\n/**\n * Interface for BlockDisk.\n */\nexport interface BlockDiskProps extends BlockDiskData {\n    smartPort: SmartPort;\n}\n\n/**\n * BlockDisk component\n *\n * Includes drive light, disk name and side, and UI for loading disks.\n *\n * @param smartPort SmartPort object\n * @param number Drive 1 or 2\n * @param on Active state\n * @param name Disk name identifier\n * @param side Disk side identifier\n * @returns BlockDisk component\n */\nexport const BlockDisk = ({ smartPort, number, on, name }: BlockDiskProps) => {\n    const [modalOpen, setModalOpen] = useState(false);\n    const [downloadModalOpen, setDownloadModalOpen] = useState(false);\n    const [error, setError] = useState<unknown>();\n\n    const doClose = useCallback(() => {\n        setModalOpen(false);\n    }, []);\n\n    const onOpenModal = useCallback(() => {\n        setModalOpen(true);\n    }, []);\n\n    const doCloseDownload = useCallback(() => {\n        setDownloadModalOpen(false);\n    }, []);\n\n    const onOpenDownloadModal = useCallback(() => {\n        setDownloadModalOpen(true);\n    }, []);\n\n    return (\n        <DiskDragTarget\n            className={styles.disk}\n            storage={smartPort}\n            driveNo={number}\n            formats={BLOCK_FORMATS}\n            onError={setError}\n        >\n            <ErrorModal error={error} setError={setError} />\n            <BlockFileModal\n                smartPort={smartPort}\n                driveNo={number}\n                onClose={doClose}\n                isOpen={modalOpen}\n            />\n            <DownloadModal\n                driveNo={number}\n                massStorage={smartPort}\n                isOpen={downloadModalOpen}\n                onClose={doCloseDownload}\n            />\n            <div\n                id={`disk${number}`}\n                className={cs(styles.diskLight, { [styles.on]: on })}\n            />\n            <ControlButton title=\"Load Disk\" onClick={onOpenModal} icon=\"folder-open\" />\n            <ControlButton title=\"Save Disk\" onClick={onOpenDownloadModal} icon=\"save\" />\n            <div\n                id={`disk-label${number}`}\n                className={styles.diskLabel}\n            >\n                {name}\n            </div>\n        </DiskDragTarget>\n    );\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./ProgressModal.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./ProgressModal.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h } from 'preact';\nimport { Modal, ModalContent } from './Modal';\n\nimport styles from './css/ProgressModal.module.scss';\n\nexport interface ErrorProps {\n    title: string;\n    current: number | undefined;\n    total: number | undefined;\n}\n\nexport const ProgressModal = ({ title, current, total }: ErrorProps) => {\n    if (current && total) {\n        return (\n            <Modal title={title} isOpen={true}>\n                <ModalContent>\n                    <div className={styles.progressContainer}>\n                        <div\n                            className={styles.progressBar}\n                            style={{ width: Math.floor(320 * (current / total)) }}\n                        />\n                    </div>\n                </ModalContent>\n            </Modal>\n        );\n    } else {\n        return null;\n    }\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Drives.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Drives.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h } from 'preact';\nimport { useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport Disk2, { Callbacks } from '../cards/disk2';\nimport Apple2IO from '../apple2io';\nimport { DiskII, DiskIIData } from './DiskII';\nimport SmartPort from 'js/cards/smartport';\nimport CPU6502 from 'js/cpu6502';\nimport { BlockDisk } from './BlockDisk';\nimport { ErrorModal } from './ErrorModal';\nimport { ProgressModal } from './ProgressModal';\nimport { loadHttpUnknownFile, getHashParts, loadJSON, SmartStorageBroker } from './util/files';\nimport { useHash } from './hooks/useHash';\nimport { DISK_FORMATS, DRIVE_NUMBERS, SupportedSectors } from 'js/formats/types';\nimport { spawn, Ready } from './util/promises';\n\nimport styles from './css/Drives.module.scss';\nimport { DiskDragTarget } from './DiskDragTarget';\n\n/**\n * Storage device storage\n */\ninterface StorageDevices {\n    disk2: Disk2;\n    smartPort: SmartPort;\n    smartStorageBroker: SmartStorageBroker;\n}\n\n/**\n * Interface for Drives component.\n */\nexport interface DrivesProps {\n    cpu: CPU6502 | undefined;\n    io: Apple2IO | undefined;\n    enhanced: boolean;\n    sectors: SupportedSectors;\n    ready: Ready;\n}\n\n/**\n * Drive interface component. Presents the interface to load disks.\n * Provides the callback to the Disk2 and SmartPort objects to update\n * the DiskII and BlockDisk components.\n * Handles initial loading of disks specified in the hash.\n *\n * @cpu CPU object\n * @param io Apple I/O object\n * @param sectors 13 or 16 sector rom mode\n * @enhanced Whether to create a SmartPort ROM device\n * @ready Signal disk availability\n * @returns Drives component\n */\nexport const Drives = ({ cpu, io, sectors, enhanced, ready }: DrivesProps) => {\n    const [current, setCurrent] = useState(0);\n    const [error, setError] = useState<unknown>();\n    const [total, setTotal] = useState(0);\n    const bodyRef = useRef(document.body);\n    const onProgress = useCallback((current: number, total: number) => {\n        setCurrent(current);\n        setTotal(total);\n    }, []);\n\n    const [storageDevices, setStorageDevices] = useState<StorageDevices>();\n\n    const [data1, setData1] = useState<DiskIIData>({\n        on: false,\n        number: 1,\n        name: 'Disk 1',\n    });\n    const [data2, setData2] = useState<DiskIIData>({\n        on: false,\n        number: 2,\n        name: 'Disk 2',\n    });\n    const [smartData1, setSmartData1] = useState<DiskIIData>({\n        on: false,\n        number: 1,\n        name: 'HD 1'\n    });\n    const [smartData2, setSmartData2] = useState<DiskIIData>({\n        on: false,\n        number: 2,\n        name: 'HD 2'\n    });\n\n    const hash = useHash();\n\n    useEffect(() => {\n        if (storageDevices) {\n            const { smartStorageBroker, disk2 } = storageDevices;\n            const hashParts = getHashParts(hash);\n            const controllers: AbortController[] = [];\n            let loading = 0;\n            for (const driveNo of DRIVE_NUMBERS) {\n                if (hashParts && hashParts[driveNo]) {\n                    const hashPart = decodeURIComponent(hashParts[driveNo]);\n                    const isHttp = hashPart.match(/^https?:/i);\n                    const isJson = hashPart.match(/\\.json$/i);\n                    if (isHttp && !isJson) {\n                        loading++;\n                        controllers.push(spawn(async (signal) => {\n                            try {\n                                await loadHttpUnknownFile(\n                                    smartStorageBroker,\n                                    driveNo,\n                                    hashPart,\n                                    signal,\n                                    onProgress);\n                            } catch (e) {\n                                setError(e);\n                            }\n                            if (--loading === 0) {\n                                ready.onReady();\n                            }\n                            setCurrent(0);\n                            setTotal(0);\n                        }));\n                    } else {\n                        const url = isHttp ? hashPart : `json/disks/${hashPart}.json`;\n                        loadJSON(disk2, driveNo, url).catch((e) => setError(e));\n                    }\n                }\n            }\n            if (!loading) {\n                ready.onReady();\n            }\n            return () => controllers.forEach((controller) => controller.abort());\n        }\n    }, [hash, onProgress, ready, storageDevices]);\n\n    useEffect(() => {\n        const setData = [setData1, setData2];\n        const setSmartData = [setSmartData1, setSmartData2];\n        const callbacks: Callbacks = {\n            driveLight: (drive, on) => {\n                setData[drive - 1]?.(data => ({ ...data, on }));\n            },\n            label: (drive, name, side) => {\n                setData[drive - 1]?.(data => ({\n                    ...data,\n                    name: name ?? `Disk ${drive}`,\n                    side,\n                }));\n            },\n            dirty: () => {\n                // do nothing\n            }\n        };\n\n        const smartPortCallbacks: Callbacks = {\n            driveLight: (drive, on) => {\n                setSmartData[drive - 1]?.(data => ({ ...data, on }));\n            },\n            label: (drive, name, side) => {\n                setSmartData[drive - 1]?.(data => ({\n                    ...data,\n                    name: name ?? `HD ${drive}`,\n                    side,\n                }));\n            },\n            dirty: () => {/* Unused */ }\n        };\n\n        if (cpu && io) {\n            const disk2 = new Disk2(io, callbacks, sectors);\n            io.setSlot(6, disk2);\n            const smartPort = new SmartPort(cpu, smartPortCallbacks, { block: !enhanced });\n            io.setSlot(7, smartPort);\n\n            const smartStorageBroker = new SmartStorageBroker(disk2, smartPort);\n            setStorageDevices({ disk2, smartPort, smartStorageBroker });\n        }\n    }, [cpu, enhanced, io, sectors]);\n\n    if (!storageDevices) {\n        return null;\n    }\n\n    const { disk2, smartPort, smartStorageBroker } = storageDevices;\n\n    return (\n        <DiskDragTarget\n            storage={smartStorageBroker}\n            dropRef={bodyRef}\n            className={styles.drives}\n            onError={setError}\n            formats={DISK_FORMATS}\n        >\n            <ProgressModal current={current} total={total} title=\"Loading...\" />\n            <ErrorModal error={error} setError={setError} />\n            <div className={styles.driveBay}>\n                <DiskII disk2={disk2} {...data1} />\n                <DiskII disk2={disk2} {...data2} />\n            </div>\n            <div className={styles.driveBay}>\n                <BlockDisk smartPort={smartPort} {...smartData1} />\n                <BlockDisk smartPort={smartPort} {...smartData2} />\n            </div>\n        </DiskDragTarget>\n    );\n};\n","import { ReadonlyUint8Array } from '../../types';\n\nexport const rom = new Uint8Array([\n    0x43,0x4f,0x50,0x59,0x52,0x49,0x47,0x48,\n    0x54,0x20,0x28,0x43,0x29,0x20,0x31,0x39,\n    0x38,0x36,0x2d,0x38,0x39,0x20,0x41,0x50,\n    0x50,0x4c,0x49,0x45,0x44,0x20,0x45,0x4e,\n    0x47,0x49,0x4e,0x45,0x45,0x52,0x49,0x4e,\n    0x47,0x00,0x42,0x4f,0x42,0x20,0x53,0x41,\n    0x4e,0x44,0x45,0x52,0x2d,0x43,0x45,0x44,\n    0x45,0x52,0x4c,0x4f,0x46,0x00,0x4d,0x49,\n    0x43,0x48,0x41,0x45,0x4c,0x20,0x57,0x49,\n    0x4c,0x4b,0x53,0x00,0x53,0x54,0x45,0x56,\n    0x45,0x4e,0x20,0x4d,0x41,0x4c,0x45,0x43,\n    0x48,0x45,0x4b,0x00,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc1,0x4c,0x9b,0xc1,\n    0x20,0x16,0xc1,0x4c,0x9f,0xc1,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc1,0xae,0xff,0xcf,0x0e,0x9f,0xc0,\n    0xa2,0x98,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc1,0xc5,0x39,0x08,\n    0x20,0x16,0xc1,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc1,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc1,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc1,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x10,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc1,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0x9f,\n    0xc0,0xa2,0x98,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0x9f,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc1,0x4c,0x00,0xc8,0x20,0x28,0xc1,0x4c,\n    0xe8,0xcb,0xc9,0x10,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc1,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc2,0x4c,0x9b,0xc2,\n    0x20,0x16,0xc2,0x4c,0x9f,0xc2,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc2,0xae,0xff,0xcf,0x0e,0xaf,0xc0,\n    0xa2,0xa8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc2,0xc5,0x39,0x08,\n    0x20,0x16,0xc2,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc2,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc2,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc2,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x20,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc2,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xaf,\n    0xc0,0xa2,0xa8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xaf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc2,0x4c,0x00,0xc8,0x20,0x28,0xc2,0x4c,\n    0xe8,0xcb,0xc9,0x20,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc2,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc3,0x4c,0x9b,0xc3,\n    0x20,0x16,0xc3,0x4c,0x9f,0xc3,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc3,0xae,0xff,0xcf,0x0e,0xbf,0xc0,\n    0xa2,0xb8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc3,0xc5,0x39,0x08,\n    0x20,0x16,0xc3,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc3,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc3,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc3,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x30,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc3,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xbf,\n    0xc0,0xa2,0xb8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xbf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc3,0x4c,0x00,0xc8,0x20,0x28,0xc3,0x4c,\n    0xe8,0xcb,0xc9,0x30,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc3,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc4,0x4c,0x9b,0xc4,\n    0x20,0x16,0xc4,0x4c,0x9f,0xc4,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc4,0xae,0xff,0xcf,0x0e,0xcf,0xc0,\n    0xa2,0xc8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc4,0xc5,0x39,0x08,\n    0x20,0x16,0xc4,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc4,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc4,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc4,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x40,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc4,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xcf,\n    0xc0,0xa2,0xc8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xcf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc4,0x4c,0x00,0xc8,0x20,0x28,0xc4,0x4c,\n    0xe8,0xcb,0xc9,0x40,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc4,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc5,0x4c,0x9b,0xc5,\n    0x20,0x16,0xc5,0x4c,0x9f,0xc5,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc5,0xae,0xff,0xcf,0x0e,0xdf,0xc0,\n    0xa2,0xd8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc5,0xc5,0x39,0x08,\n    0x20,0x16,0xc5,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc5,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc5,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc5,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x50,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc5,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xdf,\n    0xc0,0xa2,0xd8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xdf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc5,0x4c,0x00,0xc8,0x20,0x28,0xc5,0x4c,\n    0xe8,0xcb,0xc9,0x50,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc5,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc6,0x4c,0x9b,0xc6,\n    0x20,0x16,0xc6,0x4c,0x9f,0xc6,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc6,0xae,0xff,0xcf,0x0e,0xef,0xc0,\n    0xa2,0xe8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc6,0xc5,0x39,0x08,\n    0x20,0x16,0xc6,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc6,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc6,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc6,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x60,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc6,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xef,\n    0xc0,0xa2,0xe8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xef,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc6,0x4c,0x00,0xc8,0x20,0x28,0xc6,0x4c,\n    0xe8,0xcb,0xc9,0x60,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc6,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc7,0x4c,0x9b,0xc7,\n    0x20,0x16,0xc7,0x4c,0x9f,0xc7,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc7,0xae,0xff,0xcf,0x0e,0xff,0xc0,\n    0xa2,0xf8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc7,0xc5,0x39,0x08,\n    0x20,0x16,0xc7,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc7,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc7,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc7,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x70,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc7,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xff,\n    0xc0,0xa2,0xf8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xff,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc7,0x4c,0x00,0xc8,0x20,0x28,0xc7,0x4c,\n    0xe8,0xcb,0xc9,0x70,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc7,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0x20,0x99,0xcd,0xa2,0x09,0xb5,0x42,0x48,\n    0xca,0x10,0xfa,0xba,0xbd,0x0c,0x01,0x85,\n    0x46,0xbd,0x0b,0x01,0x85,0x45,0xa0,0x03,\n    0xb1,0x45,0x99,0x41,0x00,0xfe,0x0b,0x01,\n    0xd0,0x03,0xfe,0x0c,0x01,0x88,0xd0,0xf0,\n    0x8c,0xf8,0x04,0x8c,0x78,0x05,0x8c,0xf8,\n    0x05,0xaa,0xc9,0x0a,0xb0,0x28,0xbd,0x87,\n    0xc8,0xd1,0x43,0xd0,0x24,0xa0,0x08,0xb1,\n    0x43,0x99,0x43,0x00,0x88,0xd0,0xf8,0x4a,\n    0xd0,0x11,0xae,0x78,0x07,0xa4,0x42,0xa9,\n    0xc8,0x48,0xb9,0x7d,0xc8,0x48,0x46,0x44,\n    0xa5,0x47,0x60,0xa9,0x11,0x2c,0xa9,0x01,\n    0x2c,0xa9,0x04,0x8d,0xf8,0x04,0xa2,0x00,\n    0x68,0x95,0x42,0xe8,0xe0,0x0a,0x90,0xf8,\n    0xac,0xf8,0x05,0xae,0x78,0x05,0xad,0xf8,\n    0x04,0xd0,0x01,0x18,0x60,0xca,0xa3,0xb5,\n    0x90,0x9c,0x90,0x93,0x93,0x98,0x96,0x03,\n    0x03,0x03,0x01,0x03,0x01,0x01,0x01,0x04,\n    0x04,0x4c,0x66,0xc8,0x4c,0x5e,0xc8,0xb0,\n    0x2c,0xb0,0x18,0x90,0xf7,0xf0,0xf2,0xa9,\n    0x21,0x4c,0x63,0xc8,0x90,0xee,0x20,0x0c,\n    0xc9,0xb0,0x1d,0xad,0x13,0xc0,0x06,0x4b,\n    0x0a,0x66,0x4b,0x4c,0x23,0xc9,0x90,0xdc,\n    0x20,0x0c,0xc9,0xb0,0x0b,0xad,0x14,0xc0,\n    0x06,0x4b,0x0a,0x66,0x4b,0x4c,0x82,0xc9,\n    0x4c,0x7d,0xc9,0xb0,0x13,0xd0,0xd0,0xa0,\n    0x08,0x8c,0x78,0x05,0x88,0x91,0x45,0xd0,\n    0xfb,0xa9,0x01,0x91,0x45,0x4c,0x66,0xc8,\n    0xf0,0x07,0xa0,0x19,0xc9,0x03,0xd0,0xb7,\n    0x2c,0xa0,0x04,0x8c,0x78,0x05,0x88,0xb9,\n    0xc6,0xc9,0xc0,0x02,0xd0,0x0e,0xae,0xf8,\n    0x07,0xbd,0xb8,0x05,0x4a,0x91,0x45,0x88,\n    0xbd,0x38,0x06,0x6a,0x91,0x45,0x88,0x10,\n    0xe6,0x4c,0x66,0xc8,0x0a,0x85,0x4a,0xa5,\n    0x48,0x2a,0xb0,0x0e,0x85,0x4b,0xa5,0x49,\n    0xc9,0x01,0xb0,0x06,0x85,0x47,0xa9,0x02,\n    0x85,0x48,0x60,0x20,0x64,0xc9,0xb0,0x55,\n    0x2c,0x14,0xc0,0x08,0x0a,0x90,0x03,0x8d,\n    0x05,0xc0,0xa5,0x48,0x8d,0xf8,0x05,0xf0,\n    0x0e,0xbd,0xfb,0xbf,0x91,0x45,0xc8,0xd0,\n    0xf8,0xe6,0x46,0xc6,0x48,0xd0,0xf2,0xa5,\n    0x47,0xf0,0x0d,0x8d,0x78,0x05,0xbd,0xfb,\n    0xbf,0x91,0x45,0xc8,0xc4,0x47,0xd0,0xf6,\n    0x8d,0x04,0xc0,0x28,0x10,0x03,0x8d,0x05,\n    0xc0,0x4c,0x66,0xc8,0xa5,0x49,0x9d,0xf8,\n    0xbf,0xa5,0x4a,0x9d,0xf9,0xbf,0xa5,0x4b,\n    0x29,0x7f,0x9d,0xfa,0xbf,0x20,0x9d,0xca,\n    0xa0,0x00,0xa5,0x4b,0x60,0xa9,0x2d,0x4c,\n    0x63,0xc8,0x20,0x64,0xc9,0xb0,0xf6,0x2c,\n    0x13,0xc0,0x08,0x8d,0x02,0xc0,0x0a,0x90,\n    0x03,0x8d,0x03,0xc0,0xa5,0x48,0x8d,0xf8,\n    0x05,0xf0,0x0e,0xb1,0x45,0x9d,0xfb,0xbf,\n    0xc8,0xd0,0xf8,0xe6,0x46,0xc6,0x48,0xd0,\n    0xf2,0xa5,0x47,0x8d,0x78,0x05,0xf0,0x0a,\n    0xb1,0x45,0x9d,0xfb,0xbf,0xc8,0xc4,0x47,\n    0xd0,0xf6,0x8d,0x02,0xc0,0x28,0x10,0x03,\n    0x8d,0x03,0xc0,0x4c,0x66,0xc8,0xf8,0x00,\n    0x00,0x00,0x07,0x52,0x41,0x4d,0x43,0x41,\n    0x52,0x44,0x20,0x20,0x20,0x20,0x20,0x20,\n    0x20,0x20,0x20,0x00,0x00,0x00,0x00,0xac,\n    0xf8,0x07,0x20,0x8e,0xca,0xbd,0xfb,0xbf,\n    0xc9,0xae,0xd0,0x45,0x5d,0xfb,0xbf,0xc9,\n    0x5a,0xd0,0x3e,0xbd,0xfb,0xbf,0x99,0x38,\n    0x04,0x49,0x5a,0xdd,0xfb,0xbf,0xd0,0x31,\n    0xbd,0xfb,0xbf,0x99,0xb8,0x03,0xb9,0x38,\n    0x04,0x9d,0xf8,0xbf,0xbd,0xfb,0xbf,0x99,\n    0xb8,0x04,0xbd,0xfb,0xbf,0x99,0x38,0x05,\n    0xbd,0xfb,0xbf,0x99,0xb8,0x05,0xbd,0xfb,\n    0xbf,0x99,0x38,0x06,0xbd,0xfb,0xbf,0x99,\n    0xb8,0x06,0xbd,0xfb,0xbf,0x99,0x38,0x07,\n    0x60,0xb9,0xb8,0x06,0x59,0x38,0x07,0xc9,\n    0x5a,0xf0,0x38,0x20,0x8e,0xca,0xa9,0x04,\n    0x9d,0xf9,0xbf,0xbd,0xfb,0xbf,0x5d,0xfb,\n    0xbf,0x5d,0xfb,0xbf,0x5d,0xfb,0xbf,0xa2,\n    0x4c,0xc9,0x03,0xf0,0x0c,0xa2,0x00,0xc9,\n    0x06,0xf0,0x06,0xa2,0x33,0xc9,0xbe,0xd0,\n    0x09,0x8a,0x99,0xb8,0x06,0x49,0x5a,0x99,\n    0x38,0x07,0x20,0x00,0xcb,0xac,0xf8,0x07,\n    0x99,0xb8,0x03,0xb9,0xb8,0x03,0x0a,0x99,\n    0xb8,0x05,0xa9,0x00,0x99,0x38,0x06,0x99,\n    0x38,0x05,0x99,0xb8,0x04,0xa9,0x01,0x99,\n    0x38,0x04,0x60,0xae,0x78,0x07,0xa9,0x00,\n    0x9d,0xf8,0xbf,0x9d,0xf9,0xbf,0x9d,0xfa,\n    0xbf,0x60,0x20,0x8e,0xca,0xac,0xf8,0x07,\n    0xb9,0xb8,0x03,0xc9,0x09,0xbd,0xfa,0xbf,\n    0xb0,0x02,0x29,0x0f,0x48,0xd0,0x1e,0xb9,\n    0x38,0x04,0xc9,0x08,0xd0,0x17,0xbd,0xf9,\n    0xbf,0xc9,0x02,0xb0,0x10,0x09,0xfe,0x9d,\n    0xf9,0xbf,0xb9,0xb8,0x03,0xe9,0x00,0x2a,\n    0x9d,0xfa,0xbf,0x68,0x60,0xbd,0xf9,0xbf,\n    0xd9,0x38,0x06,0x68,0x48,0xf9,0xb8,0x05,\n    0xb0,0xf1,0xbd,0xf9,0xbf,0x79,0x38,0x05,\n    0x9d,0xf9,0xbf,0x68,0x79,0xb8,0x04,0x9d,\n    0xfa,0xbf,0x60,0xa0,0x00,0xbd,0xfb,0xbf,\n    0x99,0x00,0x08,0xc8,0xd0,0xf7,0xbd,0xfb,\n    0xbf,0x99,0x00,0x09,0xc8,0xd0,0xf7,0x60,\n    0x20,0x8b,0xca,0xa8,0xdd,0xfa,0xbf,0xd0,\n    0x02,0xa0,0x02,0x19,0x95,0xcb,0x85,0x3f,\n    0x85,0x3e,0x9d,0xfa,0xbf,0xbd,0xfb,0xbf,\n    0xde,0xf8,0xbf,0x48,0xa5,0x3f,0x9d,0xfb,\n    0xbf,0xde,0xf8,0xbf,0x39,0x95,0xcb,0xf0,\n    0x14,0xa5,0x3f,0x38,0xf9,0x98,0xcb,0x4c,\n    0x0e,0xcb,0x18,0xa5,0x3f,0x79,0x98,0xcb,\n    0x85,0x3f,0x9d,0xfa,0xbf,0xbd,0xfb,0xbf,\n    0xc5,0x3f,0xd0,0x3f,0x49,0xff,0xde,0xf8,\n    0xbf,0x9d,0xfb,0xbf,0xde,0xf8,0xbf,0xdd,\n    0xfb,0xbf,0xd0,0x2f,0xde,0xf8,0xbf,0xa5,\n    0x3f,0x39,0x95,0xcb,0xd9,0x95,0xcb,0xd0,\n    0xd1,0xa5,0x3e,0x9d,0xfa,0xbf,0x68,0x9d,\n    0xfb,0xbf,0xde,0xf8,0xbf,0x18,0xa5,0x3e,\n    0x79,0x98,0xcb,0x85,0x3e,0x39,0x95,0xcb,\n    0xd0,0xe7,0xa5,0x3f,0x88,0x10,0x8c,0x4a,\n    0x69,0x02,0x60,0xde,0xf8,0xbf,0x38,0xa5,\n    0x3f,0xf0,0xd6,0xf9,0x98,0xcb,0x85,0x3f,\n    0x4c,0x61,0xcb,0xea,0xea,0x0c,0x30,0xc0,\n    0x04,0x10,0x40,0xa2,0x04,0xa0,0x00,0xa9,\n    0x00,0x48,0x38,0xa5,0x3e,0xfd,0xde,0xcb,\n    0x48,0xa5,0x3f,0xfd,0xe3,0xcb,0x90,0x0a,\n    0x85,0x3f,0x68,0x85,0x3e,0x68,0x69,0x00,\n    0xd0,0xe7,0x68,0x68,0xd0,0x08,0x88,0x10,\n    0x05,0x8a,0xf0,0x02,0xa9,0x10,0xc8,0x49,\n    0xb0,0x20,0xed,0xfd,0xca,0x10,0xd0,0xa9,\n    0xcb,0x4c,0xed,0xfd,0x08,0x08,0x20,0x38,\n    0x50,0x68,0x80,0x98,0xb0,0xc8,0x04,0x28,\n    0x90,0xa0,0x40,0x00,0x00,0x01,0x0f,0x9c,\n    0xa4,0x42,0xc8,0xf0,0x6b,0x20,0x99,0xcd,\n    0xa0,0x2b,0xb0,0x18,0xa0,0x28,0xa5,0x43,\n    0x30,0x12,0xa4,0x42,0xf0,0x11,0x88,0xf0,\n    0x1e,0x88,0xf0,0x39,0x88,0xf0,0x14,0xa0,\n    0x01,0x2c,0xa0,0x27,0x98,0x38,0x60,0xac,\n    0xf8,0x07,0x20,0xe4,0xcf,0xac,0x78,0x04,\n    0xae,0xf8,0x04,0xa9,0x00,0x18,0x60,0x20,\n    0x58,0xcc,0xb0,0xe6,0xa0,0x00,0xbd,0xfb,\n    0xbf,0x91,0x44,0xc8,0xd0,0xf8,0xe6,0x45,\n    0xbd,0xfb,0xbf,0x91,0x44,0xc8,0xd0,0xf8,\n    0xc6,0x45,0x98,0x18,0x60,0x20,0x58,0xcc,\n    0xb0,0xc8,0xa0,0x00,0xb1,0x44,0x9d,0xfb,\n    0xbf,0xc8,0xd0,0xf8,0xe6,0x45,0xb1,0x44,\n    0x9d,0xfb,0xbf,0xc8,0xd0,0xf8,0xf0,0xe0,\n    0xa9,0x00,0x9d,0xf8,0xbf,0xa5,0x46,0x0a,\n    0x9d,0xf9,0xbf,0xa5,0x47,0x2a,0xb0,0x06,\n    0x9d,0xfa,0xbf,0x20,0x9d,0xca,0x60,0x20,\n    0x56,0xcd,0xa0,0x10,0xb0,0x6a,0x20,0xfb,\n    0xcc,0xa0,0x02,0xb1,0x48,0x85,0x3e,0x49,\n    0x01,0xf0,0x05,0x90,0x58,0x20,0x16,0xcd,\n    0xa0,0x0e,0xa9,0xfe,0x91,0x48,0xa0,0x04,\n    0x84,0x3f,0xb1,0x48,0xdd,0x35,0xcd,0xb0,\n    0x44,0x4a,0x66,0x3f,0x4a,0x66,0x3f,0x4a,\n    0x66,0x3f,0xe0,0x01,0xf0,0x03,0x4a,0x66,\n    0x3f,0x48,0xc8,0xb1,0x48,0xdd,0x37,0xcd,\n    0xb0,0x2b,0x05,0x3f,0x48,0x20,0x8b,0xca,\n    0x68,0x9d,0xf9,0xbf,0x68,0x9d,0xfa,0xbf,\n    0x20,0x9d,0xca,0xb0,0x18,0xa0,0x08,0xb1,\n    0x48,0x85,0x3e,0xc8,0xb1,0x48,0x85,0x3f,\n    0xa0,0x0c,0xb1,0x48,0xa8,0xf0,0x1d,0x88,\n    0xf0,0x12,0x88,0xf0,0x05,0x38,0xa0,0x80,\n    0xd0,0x13,0xb1,0x3e,0x9d,0xfb,0xbf,0xc8,\n    0xd0,0xf8,0xf0,0x08,0xbd,0xfb,0xbf,0x91,\n    0x3e,0xc8,0xd0,0xf8,0x18,0x98,0xa0,0x0d,\n    0x91,0x48,0x60,0xac,0xf8,0x07,0xa2,0x03,\n    0xb9,0x38,0x06,0xdd,0x31,0xcd,0xb9,0xb8,\n    0x05,0xfd,0x2d,0xcd,0xb0,0x04,0xca,0x10,\n    0xef,0x60,0x8a,0x4a,0xaa,0x60,0x18,0xac,\n    0xf8,0x07,0xb9,0x38,0x05,0x7d,0x3b,0xcd,\n    0x99,0x38,0x05,0xb9,0xb8,0x04,0x7d,0x39,\n    0xcd,0x99,0xb8,0x04,0x60,0x02,0x04,0x06,\n    0x0c,0x30,0x60,0x40,0x80,0x23,0x32,0x10,\n    0x20,0x02,0x06,0x30,0x40,0xac,0xf8,0x07,\n    0x20,0xe4,0xcf,0xc9,0x10,0xb0,0x05,0xad,\n    0x78,0x04,0xf0,0x09,0xb9,0x38,0x07,0x49,\n    0x5a,0xd9,0xb8,0x06,0x38,0x60,0x20,0x3d,\n    0xcd,0x90,0x3c,0xd0,0x06,0xc9,0x33,0xd0,\n    0x36,0x18,0x60,0xa9,0x33,0x99,0xb8,0x06,\n    0x20,0xfb,0xcc,0x30,0x2a,0x90,0x22,0xb9,\n    0x38,0x05,0x48,0xb9,0xb8,0x04,0x48,0x8e,\n    0xf8,0x04,0x20,0x16,0xcd,0xbc,0xe2,0xcf,\n    0x20,0xfb,0xcd,0xae,0xf8,0x04,0xac,0xf8,\n    0x07,0x68,0x99,0xb8,0x04,0x68,0x99,0x38,\n    0x05,0xbc,0xe2,0xcf,0x4c,0xc1,0xcd,0x38,\n    0x60,0x20,0x3d,0xcd,0x90,0x12,0xd0,0x12,\n    0xc9,0xcd,0xd0,0x02,0x18,0x60,0x20,0xec,\n    0xcd,0xd0,0x05,0xd9,0xb8,0x06,0xf0,0xf4,\n    0x38,0x60,0x20,0xec,0xcd,0xd0,0xf9,0x99,\n    0xb8,0x06,0xa0,0x00,0x0a,0xd0,0x02,0xa0,\n    0x87,0x20,0xfb,0xcd,0x20,0x8e,0xca,0xac,\n    0xf8,0x07,0xb9,0x38,0x04,0xc9,0x01,0xf0,\n    0x11,0x18,0x69,0x04,0x9d,0xf8,0xbf,0xb9,\n    0xb8,0x06,0x9d,0xfb,0xbf,0x49,0x5a,0x9d,\n    0xfb,0xbf,0xb9,0xb8,0x06,0x49,0x5a,0x99,\n    0x38,0x07,0x18,0x60,0xad,0x00,0xbf,0xf0,\n    0x02,0xc9,0x4c,0x60,0xae,0x78,0x07,0x20,\n    0x67,0xce,0xc8,0xb9,0x30,0xcf,0xd0,0xf4,\n    0x60,0x29,0x0f,0x9d,0xfb,0xbf,0xa9,0x00,\n    0x9d,0xfb,0xbf,0x60,0x98,0x48,0xad,0xf8,\n    0x04,0xc9,0x01,0xad,0x78,0x04,0xe9,0x00,\n    0x4a,0x4a,0x4a,0x4a,0xa8,0xa9,0xff,0x85,\n    0x3e,0xa9,0x03,0x4a,0x66,0x3e,0x88,0x10,\n    0xfa,0x9d,0xfb,0xbf,0xa5,0x3e,0x9d,0xfb,\n    0xbf,0x68,0xa8,0x60,0x20,0x53,0xce,0xa9,\n    0x01,0x48,0x20,0x06,0xce,0xa9,0x11,0x9d,\n    0xfb,0xbf,0x68,0x48,0x9d,0xfb,0xbf,0x20,\n    0x53,0xce,0x68,0x18,0x69,0x01,0xc9,0x1f,\n    0x90,0xe7,0x60,0xa9,0x00,0x2c,0xa9,0xff,\n    0x9d,0xfb,0xbf,0xdd,0xf8,0xbf,0xd0,0xf8,\n    0x6a,0x90,0x03,0x9d,0xfb,0xbf,0x60,0xc9,\n    0x40,0xb0,0x23,0xc9,0x30,0xb0,0x3e,0xc9,\n    0x20,0xb0,0x8e,0xc9,0x10,0xb0,0x95,0xc9,\n    0x04,0xf0,0x4a,0xb0,0x08,0xc9,0x02,0x90,\n    0x58,0xf0,0xd0,0xb0,0xd1,0xc9,0x06,0x90,\n    0x49,0xf0,0xa9,0x4c,0xf4,0xce,0x48,0x29,\n    0x3f,0xf0,0x18,0x68,0x48,0x29,0xc0,0x0a,\n    0xf0,0x08,0xa9,0xff,0xb0,0x04,0xc8,0xb9,\n    0x30,0xcf,0x9d,0xfb,0xbf,0x68,0x38,0xe9,\n    0x01,0xd0,0xe3,0x68,0x60,0x29,0x0f,0x48,\n    0xa9,0xff,0x9d,0xfb,0xbf,0x9d,0xfb,0xbf,\n    0x20,0x06,0xce,0x9d,0xfb,0xbf,0x68,0x38,\n    0xe9,0x01,0xd0,0xeb,0x60,0xad,0xf8,0x04,\n    0x9d,0xfb,0xbf,0xad,0x78,0x04,0x9d,0xfb,\n    0xbf,0x60,0xad,0xf8,0x07,0x49,0xf0,0xd0,\n    0xf5,0xa9,0x00,0x9d,0xf8,0xbf,0xc8,0xb9,\n    0x30,0xcf,0x9d,0xf9,0xbf,0xc8,0xb9,0x30,\n    0xcf,0x9d,0xfa,0xbf,0x98,0x48,0x20,0x9d,\n    0xca,0x68,0xa8,0x60,0x98,0x48,0xac,0x78,\n    0x04,0xf0,0x0d,0xea,0x98,0x48,0xa0,0x20,\n    0x20,0x27,0xcf,0x68,0xa8,0x88,0xd0,0xf4,\n    0xad,0xf8,0x04,0x48,0x4a,0x4a,0x4a,0xf0,\n    0x04,0xa8,0x20,0x27,0xcf,0x68,0x29,0x07,\n    0xa8,0xa9,0x00,0x38,0x6a,0x88,0x10,0xfb,\n    0x0a,0x9d,0xfb,0xbf,0x68,0xa8,0x60,0xa9,\n    0xff,0x9d,0xfb,0xbf,0x88,0xd0,0xfa,0x60,\n    0x01,0x00,0x00,0x02,0x02,0x01,0x02,0x00,\n    0x02,0x02,0x20,0x23,0x44,0xf4,0x52,0x41,\n    0x4d,0x05,0x99,0x43,0xc3,0x27,0x0d,0x20,\n    0x26,0x04,0x02,0x02,0x22,0x24,0x02,0x02,\n    0x23,0x25,0x02,0x02,0x24,0x20,0x02,0x02,\n    0x07,0x02,0x02,0x01,0x0c,0x00,0x10,0x00,\n    0x01,0x00,0x00,0x02,0x01,0x04,0x00,0x44,\n    0x02,0x0f,0x20,0x93,0x01,0x10,0x01,0x47,\n    0x33,0x11,0x0f,0x04,0x00,0x00,0xfe,0xa0,\n    0x41,0x7a,0x88,0x48,0x11,0x01,0x00,0x00,\n    0x23,0x10,0x00,0x01,0x88,0x3f,0x84,0x3f,\n    0x32,0x02,0x06,0x00,0x01,0x00,0x00,0x02,\n    0x01,0x04,0x00,0x44,0x02,0x0f,0x20,0x93,\n    0x01,0x20,0x02,0x47,0x33,0x11,0x1f,0x04,\n    0x00,0x00,0xfe,0xa0,0x41,0x7a,0x88,0x48,\n    0x11,0x01,0x00,0x00,0x32,0x20,0x00,0x01,\n    0x84,0xc8,0xf8,0x84,0x03,0x06,0x00,0x01,\n    0x00,0x00,0x02,0x02,0x01,0x02,0x00,0x02,\n    0x02,0x82,0x41,0x06,0x83,0x44,0x04,0x52,\n    0x41,0x4d,0x05,0x83,0x04,0x02,0x02,0x02,\n    0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,\n    0x02,0x00,0x44,0xae,0xf4,0x08,0x52,0x02,\n    0x02,0x00,0x30,0x5c,0xb9,0xb8,0x05,0x4a,\n    0x8d,0x78,0x04,0xb9,0x38,0x06,0x6a,0x8d,\n    0xf8,0x04,0x60,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0x43,0x4f,0x50,0x59,0x52,0x49,0x47,0x48,\n    0x54,0x20,0x28,0x43,0x29,0x20,0x31,0x39,\n    0x38,0x36,0x2d,0x38,0x39,0x20,0x41,0x50,\n    0x50,0x4c,0x49,0x45,0x44,0x20,0x45,0x4e,\n    0x47,0x49,0x4e,0x45,0x45,0x52,0x49,0x4e,\n    0x47,0x00,0x42,0x4f,0x42,0x20,0x53,0x41,\n    0x4e,0x44,0x45,0x52,0x2d,0x43,0x45,0x44,\n    0x45,0x52,0x4c,0x4f,0x46,0x00,0x4d,0x49,\n    0x43,0x48,0x41,0x45,0x4c,0x20,0x57,0x49,\n    0x4c,0x4b,0x53,0x00,0x53,0x54,0x45,0x56,\n    0x45,0x4e,0x20,0x4d,0x41,0x4c,0x45,0x43,\n    0x48,0x45,0x4b,0x00,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc1,0x4c,0x9b,0xc1,\n    0x20,0x16,0xc1,0x4c,0x9f,0xc1,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc1,0xae,0xff,0xcf,0x0e,0x9f,0xc0,\n    0xa2,0x98,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc1,0xc5,0x39,0x08,\n    0x20,0x16,0xc1,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc1,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc1,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc1,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x10,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc1,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0x9f,\n    0xc0,0xa2,0x98,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0x9f,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc1,0x4c,0x00,0xc8,0x20,0x28,0xc1,0x4c,\n    0xe8,0xcb,0xc9,0x10,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc1,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc2,0x4c,0x9b,0xc2,\n    0x20,0x16,0xc2,0x4c,0x9f,0xc2,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc2,0xae,0xff,0xcf,0x0e,0xaf,0xc0,\n    0xa2,0xa8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc2,0xc5,0x39,0x08,\n    0x20,0x16,0xc2,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc2,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc2,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc2,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x20,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc2,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xaf,\n    0xc0,0xa2,0xa8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xaf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc2,0x4c,0x00,0xc8,0x20,0x28,0xc2,0x4c,\n    0xe8,0xcb,0xc9,0x20,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc2,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc3,0x4c,0x9b,0xc3,\n    0x20,0x16,0xc3,0x4c,0x9f,0xc3,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc3,0xae,0xff,0xcf,0x0e,0xbf,0xc0,\n    0xa2,0xb8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc3,0xc5,0x39,0x08,\n    0x20,0x16,0xc3,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc3,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc3,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc3,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x30,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc3,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xbf,\n    0xc0,0xa2,0xb8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xbf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc3,0x4c,0x00,0xc8,0x20,0x28,0xc3,0x4c,\n    0xe8,0xcb,0xc9,0x30,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc3,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc4,0x4c,0x9b,0xc4,\n    0x20,0x16,0xc4,0x4c,0x9f,0xc4,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc4,0xae,0xff,0xcf,0x0e,0xcf,0xc0,\n    0xa2,0xc8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc4,0xc5,0x39,0x08,\n    0x20,0x16,0xc4,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc4,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc4,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc4,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x40,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc4,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xcf,\n    0xc0,0xa2,0xc8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xcf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc4,0x4c,0x00,0xc8,0x20,0x28,0xc4,0x4c,\n    0xe8,0xcb,0xc9,0x40,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc4,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc5,0x4c,0x9b,0xc5,\n    0x20,0x16,0xc5,0x4c,0x9f,0xc5,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc5,0xae,0xff,0xcf,0x0e,0xdf,0xc0,\n    0xa2,0xd8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc5,0xc5,0x39,0x08,\n    0x20,0x16,0xc5,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc5,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc5,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc5,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x50,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc5,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xdf,\n    0xc0,0xa2,0xd8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xdf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc5,0x4c,0x00,0xc8,0x20,0x28,0xc5,0x4c,\n    0xe8,0xcb,0xc9,0x50,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc5,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc6,0x4c,0x9b,0xc6,\n    0x20,0x16,0xc6,0x4c,0x9f,0xc6,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc6,0xae,0xff,0xcf,0x0e,0xef,0xc0,\n    0xa2,0xe8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc6,0xc5,0x39,0x08,\n    0x20,0x16,0xc6,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc6,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc6,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc6,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x60,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc6,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xef,\n    0xc0,0xa2,0xe8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xef,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc6,0x4c,0x00,0xc8,0x20,0x28,0xc6,0x4c,\n    0xe8,0xcb,0xc9,0x60,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc6,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc7,0x4c,0x9b,0xc7,\n    0x20,0x16,0xc7,0x4c,0x9f,0xc7,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc7,0xae,0xff,0xcf,0x0e,0xff,0xc0,\n    0xa2,0xf8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc7,0xc5,0x39,0x08,\n    0x20,0x16,0xc7,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc7,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc7,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc7,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x70,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc7,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xff,\n    0xc0,0xa2,0xf8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xff,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc7,0x4c,0x00,0xc8,0x20,0x28,0xc7,0x4c,\n    0xe8,0xcb,0xc9,0x70,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc7,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0x8e,0x2b,0x0d,0x20,0x58,0xfc,0xa0,0x00,\n    0x20,0x7d,0x0c,0x20,0x00,0xcb,0x8d,0x2a,\n    0x0d,0xa0,0x00,0x8c,0x2f,0x0d,0x0a,0x90,\n    0x02,0x88,0x98,0x84,0x3e,0x85,0x3f,0x20,\n    0x9b,0xcb,0xa0,0x21,0x20,0x7d,0x0c,0x20,\n    0x8b,0xca,0x9d,0xfb,0xbf,0xa9,0x04,0x9d,\n    0xf9,0xbf,0xa9,0xff,0x9d,0xfb,0xbf,0xac,\n    0xf8,0x07,0x99,0xb8,0x06,0xa9,0x00,0x85,\n    0x24,0xa0,0x27,0x20,0x7d,0x0c,0xad,0x2f,\n    0x0d,0x20,0xda,0xfd,0xa0,0x2c,0x20,0x7d,\n    0x0c,0xa5,0x24,0x18,0x65,0x28,0x8d,0xe5,\n    0x0a,0xa9,0x00,0x65,0x29,0x8d,0xe6,0x0a,\n    0xa0,0x08,0x88,0x88,0x8c,0x29,0x0d,0x20,\n    0xe4,0x0a,0x20,0xe8,0x0a,0xb0,0x11,0xac,\n    0x29,0x0d,0xd0,0xee,0xee,0x2f,0x0d,0xad,\n    0x00,0xc0,0x10,0xc1,0x8d,0x10,0xc0,0x60,\n    0x98,0x48,0xa0,0x35,0x20,0x7d,0x0c,0xa9,\n    0x08,0x38,0xed,0x29,0x0d,0x4a,0xa8,0x09,\n    0xb0,0x20,0xed,0xfd,0xc0,0x03,0xb0,0x02,\n    0x68,0x60,0xa0,0x42,0x20,0x7d,0x0c,0xae,\n    0x78,0x07,0xbd,0xf8,0xbf,0xde,0xf8,0xbf,\n    0x29,0x7f,0xd0,0x0d,0xbd,0xf9,0xbf,0xde,\n    0xf9,0xbf,0x29,0x7f,0xd0,0x03,0xde,0xfa,\n    0xbf,0xbd,0xfa,0xbf,0xac,0x2a,0x0d,0xc0,\n    0x09,0xb0,0x02,0x29,0x0f,0x20,0xda,0xfd,\n    0xbd,0xf9,0xbf,0x20,0xda,0xfd,0xbd,0xf8,\n    0xbf,0x20,0xda,0xfd,0xa9,0xad,0x20,0xed,\n    0xfd,0x68,0x5d,0xfb,0xbf,0x20,0xda,0xfd,\n    0x20,0x8e,0xfd,0x60,0xee,0x00,0x04,0x60,\n    0xb9,0xf5,0x0a,0x48,0xb9,0xf4,0x0a,0x48,\n    0xae,0x2b,0x0d,0x60,0xe3,0x0b,0x80,0x0b,\n    0x1d,0x0b,0xfb,0x0a,0xa0,0x00,0x98,0x20,\n    0x0a,0x0d,0x5d,0xfa,0xbf,0x29,0x0f,0xd0,\n    0x13,0x98,0xdd,0xf9,0xbf,0xd0,0x0d,0xdd,\n    0xf8,0xbf,0xd0,0x08,0x20,0xe4,0x0a,0xc8,\n    0xd0,0xe4,0x18,0x60,0x38,0x60,0xa9,0x00,\n    0xa0,0xf0,0x20,0x0a,0x0d,0xad,0x28,0x0d,\n    0x20,0x6b,0x0b,0x8d,0x28,0x0d,0xad,0x27,\n    0x0d,0x20,0x6b,0x0b,0x8d,0x27,0x0d,0x20,\n    0x13,0x0d,0xee,0x28,0x0d,0xd0,0x0c,0xee,\n    0x27,0x0d,0xd0,0x07,0xee,0x26,0x0d,0xd0,\n    0x02,0x18,0x60,0x20,0xe4,0x0a,0xbd,0xfb,\n    0xbf,0xbd,0xfa,0xbf,0x4d,0x26,0x0d,0xd0,\n    0x10,0xbd,0xf9,0xbf,0xcd,0x27,0x0d,0xd0,\n    0x08,0xbd,0xf8,0xbf,0xcd,0x28,0x0d,0xf0,\n    0xbc,0x38,0x60,0xc9,0x10,0x90,0x06,0xc9,\n    0x70,0xb0,0x03,0xa9,0x70,0x60,0xc9,0x90,\n    0x90,0xfb,0xc9,0xf0,0xb0,0xf7,0xa9,0xf0,\n    0x60,0xad,0x2a,0x0d,0xf0,0x0e,0xa9,0x00,\n    0x8d,0x30,0x0d,0x20,0x96,0x0b,0x20,0x96,\n    0x0b,0x20,0x96,0x0b,0x18,0x60,0x20,0x8e,\n    0xca,0xa8,0x98,0x9d,0xfb,0xbf,0x20,0xbe,\n    0x0b,0xd0,0xf7,0x20,0xe4,0x0a,0x98,0x20,\n    0x0a,0x0d,0x98,0xdd,0xfb,0xbf,0xd0,0x0a,\n    0x20,0xbe,0x0b,0xd0,0xf5,0x38,0x6e,0x30,\n    0x0d,0x60,0x68,0x68,0x38,0x60,0x2c,0x30,\n    0x0d,0x10,0x18,0xee,0x26,0x0d,0xfe,0xfa,\n    0xbf,0xad,0x26,0x0d,0x4a,0xcd,0x2a,0x0d,\n    0x90,0x09,0xa0,0x00,0x60,0xee,0x27,0x0d,\n    0xfe,0xf9,0xbf,0xee,0x28,0x0d,0xc8,0x60,\n    0x00,0x55,0xaa,0xff,0xad,0x2a,0x0d,0xf0,\n    0x13,0xa0,0x03,0xb9,0xe0,0x0b,0x8d,0x2c,\n    0x0d,0x20,0xfe,0x0b,0x20,0x2e,0x0c,0xb0,\n    0x04,0x88,0x10,0xef,0x18,0x60,0x20,0x6d,\n    0x0c,0x20,0x0a,0x0c,0xce,0x2d,0x0d,0xd0,\n    0xf8,0x60,0x98,0x48,0xad,0x2c,0x0d,0xa0,\n    0x00,0x8c,0x2e,0x0d,0x9d,0xfb,0xbf,0x9d,\n    0xfb,0xbf,0x9d,0xfb,0xbf,0x9d,0xfb,0xbf,\n    0xc8,0xd0,0xf1,0x20,0xe4,0x0a,0xee,0x2e,\n    0x0d,0xd0,0xe9,0x68,0xa8,0x60,0x20,0x6d,\n    0x0c,0x20,0x3c,0x0c,0xb0,0x05,0xce,0x2d,\n    0x0d,0xd0,0xf6,0x60,0x98,0x48,0xad,0x2c,\n    0x0d,0xa0,0x00,0x8c,0x2e,0x0d,0xdd,0xfb,\n    0xbf,0xd0,0x1e,0xdd,0xfb,0xbf,0xd0,0x19,\n    0xdd,0xfb,0xbf,0xd0,0x14,0xdd,0xfb,0xbf,\n    0xd0,0x0f,0xc8,0xd0,0xe9,0x20,0xe4,0x0a,\n    0xee,0x2e,0x0d,0xd0,0xe1,0x68,0xa8,0x18,\n    0x60,0xa8,0x68,0x38,0x60,0xad,0x2a,0x0d,\n    0x4a,0x8d,0x2d,0x0d,0x4c,0x8e,0xca,0x08,\n    0x20,0xed,0xfd,0x28,0x24,0x18,0x20,0x8f,\n    0x0c,0xbd,0xa1,0x0c,0xd0,0xf1,0x20,0x8f,\n    0x0c,0xbd,0xb0,0x0c,0xd0,0xe9,0x60,0xb9,\n    0xc0,0x0c,0xb0,0x07,0x4a,0x4a,0x4a,0x4a,\n    0xaa,0x38,0x60,0xc8,0x29,0x0f,0xaa,0x18,\n    0x60,0x00,0x8d,0xd2,0xc1,0xcd,0xae,0xd4,\n    0xc9,0xd3,0xa0,0xc7,0xcf,0xcc,0xc4,0xc5,\n    0xce,0x00,0xc2,0xc3,0xc6,0xc8,0xd0,0xd9,\n    0xda,0xcd,0xd1,0xd5,0xd6,0xb1,0xb4,0xba,\n    0x30,0x60,0x6c,0x7e,0xd9,0xef,0xa7,0xfe,\n    0xe2,0x7f,0xa9,0x23,0x40,0x43,0x03,0x6b,\n    0x29,0x6e,0x86,0x90,0xc0,0xd5,0x0e,0x11,\n    0x4e,0x4b,0x20,0x79,0x87,0x08,0xe0,0xf9,\n    0x01,0x90,0x20,0x76,0xe8,0x11,0x01,0x06,\n    0x38,0x80,0xf9,0x01,0x99,0x99,0x6e,0x86,\n    0x7f,0xa9,0x55,0x50,0x19,0x11,0x03,0x32,\n    0xd9,0x04,0x37,0xc0,0xb2,0xe5,0x97,0xd0,\n    0xf9,0x01,0x99,0x93,0xdd,0x2e,0x88,0x0f,\n    0x90,0x19,0x8d,0x28,0x0d,0x8d,0x27,0x0d,\n    0x8c,0x26,0x0d,0xad,0x28,0x0d,0x9d,0xf8,\n    0xbf,0xad,0x27,0x0d,0x9d,0xf9,0xbf,0xad,\n    0x26,0x0d,0x9d,0xfa,0xbf,0x60,0x20,0x8b,\n    0xca,0xbd,0xfb,0xbf,0xc9,0xae,0xd0,0x11,\n    0x5d,0xfb,0xbf,0xc9,0x5a,0xd0,0x0a,0xbd,\n    0xfb,0xbf,0x5d,0xfb,0xbf,0xc9,0x5a,0xf0,\n    0x50,0xac,0xf8,0x07,0xb9,0xb8,0x06,0x59,\n    0x38,0x07,0xc9,0x5a,0xd0,0x17,0x20,0x58,\n    0xfc,0xa0,0x88,0x20,0x8e,0x0c,0xa9,0xbf,\n    0x20,0xed,0xfd,0x20,0x97,0x0e,0xc9,0xd9,\n    0xf0,0x03,0x4c,0x06,0x0e,0x20,0x8b,0xca,\n    0xa0,0xaa,0x20,0xfb,0xcd,0x20,0x8b,0xca,\n    0xa9,0x04,0x9d,0xf8,0xbf,0xac,0xf8,0x07,\n    0xb9,0xb8,0x03,0x48,0x9d,0xfb,0xbf,0xa9,\n    0x0a,0x9d,0xf8,0xbf,0x68,0x0a,0x38,0xe9,\n    0x01,0x9d,0xfb,0xbf,0xa9,0xfc,0x9d,0xfb,\n    0xbf,0x20,0x8e,0xca,0x20,0xeb,0xca,0xad,\n    0x02,0x08,0x8d,0x01,0x09,0x20,0x58,0xfc,\n    0x4e,0x00,0x09,0xa9,0x00,0x85,0x24,0x85,\n    0x25,0xa0,0x00,0x20,0x8e,0x0c,0xad,0xf8,\n    0x07,0x49,0x70,0x20,0xed,0xfd,0x20,0x8e,\n    0xfd,0x20,0x8e,0xfd,0xa0,0x00,0x20,0x03,\n    0x0c,0xc8,0xc0,0x09,0x90,0xf8,0xa0,0x14,\n    0x20,0x8e,0x0c,0xa0,0x59,0x2c,0x00,0x09,\n    0x10,0x02,0xa0,0x27,0x20,0x8e,0x0c,0x20,\n    0x42,0xfc,0x20,0x97,0x0e,0xc9,0xb1,0x90,\n    0x14,0xc9,0xba,0xb0,0x10,0xe9,0xb0,0x20,\n    0x81,0x0c,0x8d,0x01,0x09,0x2c,0x00,0x09,\n    0x30,0xb1,0x4c,0xf6,0x0d,0x8d,0x02,0x09,\n    0xa0,0x06,0x2c,0x00,0x09,0x10,0x02,0xa0,\n    0xfd,0xc8,0xc8,0xc8,0xb9,0xf7,0x0a,0xf0,\n    0x0e,0xcd,0x02,0x09,0xd0,0xf3,0xb9,0xf9,\n    0x0a,0x48,0xb9,0xf8,0x0a,0x48,0x60,0x20,\n    0xe2,0xfb,0x4c,0x7d,0x0a,0xce,0x50,0x0b,\n    0xc3,0xf4,0x0b,0xd3,0x70,0x0b,0x8d,0x15,\n    0x0b,0x88,0x38,0x0b,0x8b,0x38,0x0b,0x8a,\n    0x48,0x0b,0x95,0x48,0x0b,0x9b,0x2a,0x0b,\n    0xd2,0x23,0x0b,0x00,0x2c,0x00,0x09,0x30,\n    0x03,0x4c,0xf6,0x0d,0x20,0xe8,0x0d,0x4c,\n    0x7a,0x0a,0x38,0x6e,0x00,0x09,0x4c,0x7d,\n    0x0a,0x2c,0x00,0x09,0x10,0x03,0x4c,0x00,\n    0x0a,0x20,0xd7,0x0d,0x4c,0x36,0x0e,0xad,\n    0x01,0x09,0x38,0xe9,0x18,0xc9,0xe0,0xb0,\n    0x03,0x8d,0x01,0x09,0x4c,0x7d,0x0a,0xad,\n    0x01,0x09,0x18,0x69,0x18,0x90,0xee,0xa0,\n    0x76,0x20,0x8e,0x0c,0xa2,0x10,0x20,0x4f,\n    0x0e,0xb0,0x11,0xa2,0x00,0xac,0x01,0x09,\n    0xbd,0x08,0x09,0x99,0x08,0x08,0xc8,0xe8,\n    0xe0,0x10,0x90,0xf4,0x4c,0x7d,0x0a,0x20,\n    0x43,0x0e,0xf0,0x74,0x98,0x18,0x69,0x18,\n    0xa8,0xc0,0xe0,0xb0,0x6b,0x20,0x46,0x0e,\n    0xf0,0x66,0xa0,0x7f,0x20,0x8e,0x0c,0xa2,\n    0x06,0x20,0x4f,0x0e,0x20,0xa1,0x0e,0x0e,\n    0x04,0x09,0x2e,0x05,0x09,0x0e,0x04,0x09,\n    0x2e,0x05,0x09,0x18,0xac,0x01,0x09,0xb9,\n    0x03,0x08,0x79,0x1b,0x08,0x8d,0x06,0x09,\n    0xb9,0x02,0x08,0x79,0x1a,0x08,0x8d,0x07,\n    0x09,0x38,0xad,0x06,0x09,0xed,0x04,0x09,\n    0x48,0xad,0x07,0x09,0xed,0x05,0x09,0x90,\n    0x23,0x99,0x1a,0x08,0x68,0x99,0x1b,0x08,\n    0x18,0xad,0x04,0x09,0x99,0x03,0x08,0x79,\n    0x01,0x08,0x99,0x19,0x08,0xad,0x05,0x09,\n    0x99,0x02,0x08,0x79,0x00,0x08,0x99,0x18,\n    0x08,0x4c,0x7d,0x0a,0x68,0xa0,0xd5,0x2c,\n    0xa0,0xc9,0x20,0x8e,0x0c,0x20,0x0c,0xfd,\n    0x4c,0x7d,0x0a,0x20,0x43,0x0e,0xd0,0x06,\n    0xae,0x01,0x09,0xfe,0x05,0x08,0x4c,0x7d,\n    0x0a,0x98,0x48,0x20,0x81,0x0c,0x48,0xa2,\n    0xff,0xcd,0x01,0x09,0xd0,0x02,0xa2,0x3f,\n    0x86,0x32,0x20,0x79,0x0c,0x98,0x18,0x69,\n    0xb1,0x20,0xed,0xfd,0x20,0x79,0x0c,0x68,\n    0x48,0xa8,0xa2,0x10,0xb9,0x08,0x08,0xd0,\n    0x02,0xa9,0xa0,0x20,0xed,0xfd,0xc8,0xca,\n    0xd0,0xf2,0x20,0x79,0x0c,0x68,0x48,0xa8,\n    0xb9,0x02,0x08,0x85,0x3f,0xb9,0x03,0x08,\n    0x85,0x3e,0x20,0x9b,0xcb,0xa9,0xff,0x85,\n    0x32,0x20,0x79,0x0c,0x68,0xa8,0xb9,0x05,\n    0x08,0x49,0x5a,0xd9,0x04,0x08,0xf0,0x02,\n    0xa9,0x01,0xa0,0x04,0xd9,0x6f,0x0c,0xf0,\n    0x03,0x88,0xd0,0xf8,0xb9,0x74,0x0c,0xa8,\n    0x20,0x8e,0x0c,0x68,0xa8,0x60,0x4c,0x00,\n    0x33,0xcd,0xdf,0xe9,0xf5,0xe4,0xef,0xa9,\n    0xa0,0x20,0xed,0xfd,0x4c,0xed,0xfd,0x8d,\n    0x02,0x09,0x0a,0x6d,0x02,0x09,0x0a,0x0a,\n    0x0a,0x69,0x08,0x60,0x18,0x20,0xac,0x0c,\n    0xbd,0xbe,0x0c,0xd0,0x09,0x20,0xac,0x0c,\n    0xbd,0xcd,0x0c,0xd0,0x01,0x60,0x08,0x30,\n    0x03,0x20,0x79,0x0c,0x20,0xed,0xfd,0x28,\n    0xd0,0xe3,0xb9,0xdd,0x0c,0xb0,0x07,0x4a,\n    0x4a,0x4a,0x4a,0xaa,0x38,0x60,0xc8,0x29,\n    0x0f,0xaa,0x18,0x60,0x00,0x8d,0x01,0xc7,\n    0xcc,0xc9,0xd4,0xc3,0xc8,0xa0,0xd2,0xc5,\n    0xc1,0xd3,0xcf,0xce,0x00,0xc6,0xd0,0xd5,\n    0xc4,0xcd,0xad,0xb1,0xb9,0xbd,0xc2,0xd1,\n    0xd7,0xda,0xd9,0x1a,0xc0,0x60,0x2c,0x76,\n    0xea,0x90,0x3c,0xa6,0x56,0x5e,0xfd,0x22,\n    0x29,0x9d,0x4e,0x69,0x0a,0x90,0x19,0x10,\n    0x4d,0xb9,0xca,0xae,0x0d,0xd9,0xea,0x90,\n    0x80,0x70,0x99,0x6e,0x9d,0xb4,0xb7,0x61,\n    0x10,0x19,0xf0,0xaf,0xc0,0x6b,0x97,0x8c,\n    0xf3,0xb2,0x29,0xab,0x60,0xa5,0xfd,0x6c,\n    0x44,0x97,0x8c,0xf3,0xbd,0x1d,0x0a,0xd5,\n    0x0e,0xb9,0x78,0xcf,0x3b,0x22,0x9b,0xd7,\n    0x0a,0x02,0xea,0x3b,0x69,0x78,0xcf,0x3b,\n    0xd1,0x70,0xa7,0x4b,0xca,0x90,0x3c,0xa6,\n    0x56,0x5e,0xf0,0x19,0xab,0x60,0xa0,0xbe,\n    0xe6,0x96,0x8b,0x90,0x3c,0xa6,0x56,0x5e,\n    0xf2,0x9a,0x0a,0xab,0x7e,0xf0,0x25,0x30,\n    0x4a,0xb1,0xbd,0x70,0xa0,0xc0,0x45,0x60,\n    0x19,0x11,0xfb,0x0d,0x9f,0xc0,0x6b,0x90,\n    0xa9,0x01,0x11,0xfb,0x0d,0x9d,0x50,0xeb,\n    0x90,0xa9,0x01,0x10,0xdc,0xaf,0x5f,0x30,\n    0x79,0x5f,0xd6,0xc4,0x45,0xf3,0x90,0x3c,\n    0xa6,0x56,0x5e,0xfd,0x90,0x5b,0xd6,0xae,\n    0x0f,0xd1,0x68,0xb9,0x05,0x5a,0xb7,0x6e,\n    0xa0,0xf0,0x79,0x3e,0x9c,0x8b,0xc0,0x50,\n    0x19,0x11,0x7c,0xff,0xe6,0x90,0xbe,0xe6,\n    0x96,0x8c,0x69,0x03,0xca,0x65,0x65,0xef,\n    0x10,0xbe,0xe6,0x90,0x2a,0xe0,0x69,0xd4,\n    0xe6,0x90,0xa9,0x01,0x11,0x7c,0xff,0xe6,\n    0x97,0x8c,0xf3,0xb9,0xd5,0x0e,0xb0,0x19,\n    0x11,0xd5,0x0e,0xb9,0x6e,0xe9,0x4c,0xa3,\n    0xb0,0x19,0x74,0xbc,0xa9,0x10,0x19,0x05,\n    0xed,0x99,0x91,0x01,0x03,0xae,0x05,0xed,\n    0x10,0x19,0x70,0x30,0x70,0x69,0x91,0x01,\n    0x03,0xcd,0x7c,0x41,0x01,0xad,0x01,0x09,\n    0x8d,0x02,0x08,0x49,0x5a,0x8d,0x03,0x08,\n    0x20,0xe8,0x0d,0x4c,0xdf,0xc9,0x20,0x8b,\n    0xca,0xa8,0xb9,0x00,0x08,0x9d,0xfb,0xbf,\n    0xc8,0xd0,0xf7,0x60,0x20,0xd7,0x0d,0x20,\n    0x43,0x0e,0xd0,0x0b,0xb9,0x02,0x08,0x19,\n    0x03,0x08,0xf0,0x03,0x20,0x27,0x0e,0xa0,\n    0xae,0x20,0x8e,0x0c,0xa2,0x01,0x20,0x4f,\n    0x0e,0xb0,0x21,0xad,0x08,0x09,0xc9,0xb1,\n    0x90,0xf2,0xc9,0xb8,0xb0,0xee,0x69,0x10,\n    0xa8,0xa9,0x00,0xf0,0x08,0xae,0x78,0x07,\n    0xac,0xf8,0x07,0xa9,0x7b,0x84,0x01,0x85,\n    0x00,0x6c,0x00,0x00,0xa2,0x02,0xa9,0x00,\n    0x9d,0x00,0x08,0xca,0x10,0xfa,0x6c,0xfc,\n    0xff,0xac,0x01,0x09,0xb9,0x04,0x08,0x59,\n    0x05,0x08,0xc9,0x5a,0x60,0x8e,0x03,0x09,\n    0xa9,0xa0,0x9d,0x08,0x09,0xca,0x10,0xfa,\n    0xe8,0x20,0x97,0x0e,0xc9,0x88,0xf0,0x22,\n    0xc9,0x8d,0xf0,0x1c,0xc9,0x9b,0xf0,0x19,\n    0xc9,0xa0,0xb0,0x06,0x20,0xe2,0xfb,0x4c,\n    0x5b,0x0e,0xec,0x03,0x09,0xb0,0xf5,0x9d,\n    0x08,0x09,0x20,0xed,0xfd,0xe8,0xd0,0xd9,\n    0x18,0x60,0x8a,0xf0,0xd4,0xca,0xc6,0x24,\n    0xa9,0xa0,0x9d,0x08,0x09,0x20,0xed,0xfd,\n    0xc6,0x24,0x4c,0x5b,0x0e,0x20,0x0c,0xfd,\n    0xc9,0xe0,0x90,0x02,0x29,0xdf,0x60,0xa9,\n    0x00,0xa8,0xaa,0x8d,0x04,0x09,0x8e,0x05,\n    0x09,0xa9,0x0a,0x8d,0x02,0x09,0xa2,0x00,\n    0xb9,0x08,0x09,0x49,0xb0,0xc9,0x0a,0x90,\n    0x01,0x60,0x6d,0x04,0x09,0x48,0x8a,0x6d,\n    0x05,0x09,0xaa,0x68,0xce,0x02,0x09,0xd0,\n    0xf1,0xc8,0xd0,0xd7,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff\n]) as ReadonlyUint8Array;\n","import { allocMem, debug } from '../util';\nimport { Card, Restorable, byte, memory } from '../types';\nimport { rom } from '../roms/cards/ramfactor';\n\nconst LOC = {\n    // Disk II Stuff\n    RAMLO: 0x80,\n    RAMMID: 0x81,\n    RAMHI: 0x82,\n    RAMDATA: 0x83,\n    _RAMLO: 0x84,\n    _RAMMID: 0x85,\n    _RAMHI: 0x86,\n    _RAMDATA: 0x87,\n    BANK: 0x8F\n} as const;\n\nexport class RAMFactorState {\n    loc: number;\n    firmware: byte;\n    mem: memory;\n}\n\nexport default class RAMFactor implements Card, Restorable<RAMFactorState> {\n    private mem: memory;\n\n    private firmware = 0;\n    private ramlo = 0;\n    private rammid = 0;\n    private ramhi = 0;\n\n    private loc = 0;\n\n    constructor(size: number) {\n        debug('RAMFactor card');\n\n        this.mem = allocMem(size);\n        for (let off = 0; off < size; off++) {\n            this.mem[off] = 0;\n        }\n    }\n\n    private sethi(val: byte) {\n        this.ramhi = (val & 0xff);\n    }\n\n    private setmid(val: byte) {\n        if (((this.rammid & 0x80) !== 0) && ((val & 0x80) === 0)) {\n            this.sethi(this.ramhi + 1);\n        }\n        this.rammid = (val & 0xff);\n    }\n\n    private setlo(val: byte) {\n        if (((this.ramlo & 0x80) !== 0) && ((val & 0x80) === 0)) {\n            this.setmid(this.rammid + 1);\n        }\n        this.ramlo = (val & 0xff);\n    }\n\n    private access(off: byte, val: byte) {\n        let result = 0;\n        switch (off & 0x8f) {\n            case LOC.RAMLO:\n            case LOC._RAMLO:\n                if (val !== undefined) {\n                    this.setlo(val);\n                } else {\n                    result = this.ramlo;\n                }\n                break;\n            case LOC.RAMMID:\n            case LOC._RAMMID:\n                if (val !== undefined) {\n                    this.setmid(val);\n                } else {\n                    result = this.rammid;\n                }\n                break;\n            case LOC.RAMHI:\n            case LOC._RAMHI:\n                if (val !== undefined) {\n                    this.sethi(val);\n                } else {\n                    result = this.ramhi;\n                    result |= 0xf0;\n                }\n                break;\n            case LOC.RAMDATA:\n            case LOC._RAMDATA:\n                if (val !== undefined) {\n                    this.mem[this.loc % this.mem.length] = val;\n                } else {\n                    result = this.mem[this.loc % this.mem.length];\n                }\n                this.setlo(this.ramlo + 1);\n                break;\n            case LOC.BANK:\n                if (val !== undefined) {\n                    this.firmware = val & 0x01;\n                } else {\n                    result = this.firmware;\n                }\n                break;\n            default:\n                break;\n        }\n        this.loc = (this.ramhi << 16) | (this.rammid << 8) | (this.ramlo);\n\n        /*\n        if (val === undefined) {\n            debug(\"Read: \" + toHex(result) + \" from \" + toHex(off) + \" (loc = \" + _loc + \")\");\n        } else {\n            debug(\"Wrote: \" + toHex(val) + \" to \" + toHex(off) + \" (loc = \" + _loc + \")\");\n        }\n        */\n\n        return result;\n    }\n\n    ioSwitch(off: byte, val: byte) {\n        return this.access(off, val);\n    }\n\n    read(page: byte, off: byte) {\n        return rom[this.firmware << 12 | (page - 0xC0) << 8 | off];\n    }\n\n    write() {\n        // not writable\n    }\n\n    reset() {\n        this.firmware = 0;\n    }\n\n    getState() {\n        return {\n            loc: this.loc,\n            firmware: this.firmware,\n            mem: new Uint8Array(this.mem)\n        };\n    }\n\n    setState(state: RAMFactorState) {\n        this.loc = state.loc;\n        this.firmware = state.firmware;\n        this.mem = new Uint8Array(state.mem);\n\n        this.ramhi = (this.loc >> 16) & 0xff;\n        this.rammid = (this.loc >> 8) & 0xff;\n        this.ramlo = (this.loc) & 0xff;\n    }\n}\n","import { useEffect } from 'preact/hooks';\nimport Apple2IO, { slot } from '../apple2io';\nimport RAMFactor from '../cards/ramfactor';\n\n/**\n * Slinky component properties\n */\nexport interface SlinkyProps {\n    io: Apple2IO | undefined;\n    slot: slot;\n}\n\n/**\n * RAMFactory (Slinky) memory card component. Adds\n * 1MB of slinky compatible memory.\n *\n * @param io Apple2IO object\n * @param slot Slot to register card in\n * @returns Slinky component\n */\nexport const Slinky = ({ io, slot }: SlinkyProps) => {\n    useEffect(() => {\n        if (io) {\n            const slinky = new RAMFactor(1024 * 1024);\n            io.setSlot(slot, slinky);\n        }\n    }, [io, slot]);\n\n    return null;\n};\n","import { ReadonlyUint8Array } from '../../types';\n\nexport const rom = new Uint8Array([\n    0x08,0x78,0x28,0x2c,0x58,0xff,0x70,0x05, // 00\n    0x38,0xb0,0x01,0x18,0xb8,0x08,0x78,0x48,\n    0x8a,0x48,0x98,0x48,0xad,0xff,0xcf,0x20, // 10\n    0x1a,0xc8,0x68,0x68,0xba,0x8d,0xf8,0x07,\n    0x0a,0x0a,0x0a,0x0a,0x8d,0x78,0x07,0x68, // 20\n    0x68,0x68,0xa8,0x68,0x9a,0x09,0x04,0x48,\n    0x28,0x98,0xac,0x78,0x07,0xae,0xf8,0x07, // 30\n    0x29,0x7f,0x48,0x50,0x0e,0xb8,0xa5,0x36,\n    0xd0,0x04,0xe4,0x37,0xf0,0x0a,0xa9,0x08, // 40\n    0x85,0x38,0x38,0x90,0x16,0x4c,0x50,0xc9,\n    0xa9,0x0b,0x85,0x36,0xa9,0x5e,0x9d,0xb8, // 50\n    0x04,0xa9,0x0a,0x9d,0x38,0x04,0xa9,0x00,\n    0x9d,0x38,0x05,0x68,0xc9,0x25,0xf0,0x5c, // 60\n    0xc9,0x26,0xf0,0x58,0xc9,0x3c,0xf0,0x54,\n    0xc9,0x3e,0xf0,0x50,0xc9,0x23,0xf0,0x4c, // 70\n    0xc9,0x5e,0xf0,0x5a,0xc9,0x21,0xf0,0x4a,\n    0xc9,0x2a,0xf0,0x52,0xa2,0x20,0xc9,0x2c, // 80\n    0xf0,0x52,0xa2,0x28,0xc9,0x2e,0xf0,0x4c,\n    0xa2,0x30,0xc9,0x2f,0xf0,0x46,0xae,0xf8, // 90\n    0x07,0x48,0xbd,0xb8,0x04,0xc9,0x21,0xf0,\n    0x41,0xc9,0x5e,0xf0,0x0e,0x68,0x29,0x1f, // A0\n    0x0a,0x38,0xe9,0x01,0x9d,0x38,0x04,0xa9,\n    0x5e,0xd0,0x23,0x68,0x38,0xe9,0x41,0x30, // B0\n    0x20,0xc9,0x16,0x10,0x1c,0xaa,0xbd,0x8d,\n    0xcb,0x4c,0x04,0xcb,0x9d,0x38,0x05,0x4c, // C0\n    0x2f,0xc9,0xa9,0x20,0x20,0xb7,0xca,0xa9,\n    0x08,0x20,0xb7,0xca,0xa9,0x21,0x9d,0xb8, // D0\n    0x04,0x4c,0x2f,0xc9,0x8a,0x20,0xb7,0xca,\n    0xd0,0xf7,0x68,0xc9,0x0d,0xf0,0x13,0xc9, // E0\n    0x20,0xf0,0x44,0x29,0x0f,0x20,0xcf,0xca,\n    0xf0,0x02,0xa9,0x0a,0x9d,0x38,0x07,0x18, // F0\n    0x90,0x35,0x20,0xcf,0xca,0x7d,0x38,0x07,\n    0x48,0xa9,0x09,0x9d,0x38,0x06,0x20,0xcf, // 00\n    0xca,0x48,0xde,0x38,0x06,0xd0,0xf7,0xa9,\n    0x0a,0x9d,0x38,0x06,0x68,0x20,0xcf,0xca,\n    0xde,0x38,0x06,0xd0,0xf7,0xa9,0x10,0x20,\n    0xb7,0xca,0xd0,0xb2,0xba,0x68,0x68,0x98,\n    0x48,0x68,0x68,0xa9,0x8d,0x48,0x9a,0xae,\n    0xf8,0x07,0xac,0x78,0x07,0xbd,0xb8,0x03,\n    0xdd,0x38,0x07,0xd0,0x0c,0x1d,0x38,0x07,\n    0xf0,0x07,0xc9,0x40,0xd0,0x03,0x99,0x80,\n    0xc0,0x68,0xa8,0x68,0xaa,0x68,0x28,0x60,\n    0x68,0xa9,0x18,0x20,0xb7,0xca,0xa9,0x08,\n    0x20,0xb7,0xca,0xa9,0x09,0x9d,0x38,0x06,\n    0x20,0xcf,0xca,0xc9,0x0a,0x30,0x02,0xa9,\n    0x00,0x48,0xde,0x38,0x06,0xd0,0xf1,0x20,\n    0xcf,0xca,0xc9,0x0d,0x30,0x02,0xa9,0x00,\n    0x48,0xbd,0x38,0x05,0xf0,0x04,0xc9,0x23,\n    0xd0,0x5e,0xa0,0x00,0x68,0xc9,0x0a,0x30,\n    0x04,0xc8,0x38,0xe9,0x0a,0x48,0x98,0xa2,\n    0x00,0x20,0xa6,0xca,0x68,0x20,0xa6,0xca,\n    0xac,0xf8,0x07,0xb9,0x38,0x05,0xd0,0x2a,\n    0xa9,0xaf,0x20,0xa8,0xca,0x68,0xa0,0x04,\n    0x68,0x20,0xa6,0xca,0x68,0x20,0xa6,0xca,\n    0x88,0xf0,0x07,0xa9,0x3b,0x20,0xa8,0xca,\n    0xd0,0xee,0xa9,0xa0,0x8d,0x05,0x02,0xb9,\n    0xf3,0xcb,0xf0,0x19,0x20,0xa8,0xca,0xc8,\n    0xd0,0xf5,0xa9,0x00,0x48,0xa0,0x05,0x20,\n    0xaf,0xca,0x68,0x20,0xa6,0xca,0x68,0x20,\n    0xa6,0xca,0x88,0xd0,0xf2,0x4c,0x9a,0xca,\n    0x68,0xaa,0x68,0x0a,0x0a,0xa8,0x8a,0x0a,\n    0x0a,0x48,0xae,0xf8,0x07,0xbd,0x38,0x05,\n    0xa2,0xa0,0xc9,0x3c,0xb0,0x02,0xa2,0xa2,\n    0x8a,0xa2,0x00,0x20,0xa8,0xca,0xb9,0xa3,\n    0xcb,0xc8,0x20,0xa8,0xca,0xc9,0xa0,0xd0,\n    0xf5,0x68,0xa8,0xb9,0xbf,0xcb,0xc8,0x20,\n    0xa8,0xca,0xc9,0xa0,0xd0,0xf5,0x68,0x20,\n    0xa4,0xca,0x68,0x20,0xa6,0xca,0x20,0xb3,\n    0xca,0xa0,0x03,0x68,0x20,0xa4,0xca,0xd0,\n    0x03,0x20,0xa6,0xca,0x68,0x20,0xa6,0xca,\n    0x88,0xf0,0x09,0xa9,0xba,0x20,0xa8,0xca,\n    0x68,0x4c,0x29,0xca,0xac,0xf8,0x07,0xb9,\n    0x38,0x05,0xc9,0x25,0xf0,0x04,0xc9,0x3e,\n    0xd0,0x50,0xa0,0x41,0xad,0x0c,0x02,0xc9,\n    0xa0,0xd0,0x02,0xa9,0x30,0x0a,0x0a,0x0a,\n    0x0a,0x8d,0x20,0x02,0xad,0x0d,0x02,0x29,\n    0x0f,0x0d,0x20,0x02,0xc9,0x12,0x30,0x02,\n    0xa0,0x50,0xc9,0x00,0xd0,0x04,0xa9,0x12,\n    0xd0,0x09,0xc9,0x13,0x30,0x16,0xf8,0x38,\n    0xe9,0x12,0xd8,0xa2,0x0c,0x48,0x20,0xff,\n    0xca,0x29,0x0f,0x20,0xa4,0xca,0x68,0x29,\n    0x0f,0x20,0xa6,0xca,0xa2,0x14,0x20,0xb3,\n    0xca,0x98,0x20,0xa8,0xca,0xa9,0x4d,0x20,\n    0xa8,0xca,0x8a,0xa8,0xa9,0x8d,0x20,0xa8,\n    0xca,0x4c,0x24,0xc9,0xf0,0x0d,0x09,0x30,\n    0x09,0x80,0x9d,0x00,0x02,0xe8,0x60,0xa9,\n    0xac,0xd0,0xf5,0xa9,0xa0,0xd0,0xf1,0x99,\n    0x80,0xc0,0x09,0x04,0x99,0x80,0xc0,0x20,\n    0xc7,0xca,0x49,0x04,0x99,0x80,0xc0,0x20,\n    0xca,0xca,0x48,0x48,0x68,0x68,0x60,0x48,\n    0xa9,0x04,0x9d,0xb8,0x06,0xa9,0x00,0x9d,\n    0xb8,0x05,0xb9,0x80,0xc0,0x0a,0x7e,0xb8,\n    0x05,0x68,0x48,0x29,0x01,0x99,0x80,0xc0,\n    0x09,0x02,0x99,0x80,0xc0,0x49,0x02,0x99,\n    0x80,0xc0,0x68,0x6a,0x48,0xde,0xb8,0x06,\n    0xd0,0xe0,0x68,0xbd,0xb8,0x05,0x18,0x6a,\n    0x6a,0x6a,0x6a,0x60,0x48,0xae,0xf8,0x07,\n    0xbd,0x38,0x04,0x9d,0xb8,0x06,0x20,0x50,\n    0xcb,0x68,0x48,0x20,0x4c,0xcb,0x68,0x48,\n    0x49,0xf8,0x20,0x4c,0xcb,0xa2,0xa0,0x20,\n    0x69,0xcb,0xa2,0xa0,0x20,0x69,0xcb,0xa0,\n    0x18,0x20,0x60,0xcb,0xae,0xf8,0x07,0xde,\n    0xb8,0x06,0xd0,0xda,0x68,0xa0,0xbc,0xca,\n    0xd0,0xfd,0x88,0xd0,0xfa,0x4c,0x2f,0xc9,\n    0x48,0x90,0x05,0x20,0x50,0xcb,0xf0,0x03,\n    0x20,0x59,0xcb,0x68,0x0a,0xd0,0xf1,0x60,\n    0xa2,0x50,0x20,0x69,0xcb,0xa0,0x28,0xd0,\n    0x07,0xa2,0x18,0x20,0x69,0xcb,0xa0,0x44,\n    0xa2,0x13,0xca,0xd0,0xfd,0x88,0xd0,0xf8,\n    0x60,0xac,0x78,0x07,0xa9,0x20,0x99,0x80,\n    0xc0,0xea,0xea,0xea,0x49,0x20,0x99,0x80,\n    0xc0,0xea,0xea,0xea,0x49,0x20,0x99,0x80,\n    0xc0,0xea,0xea,0xea,0x49,0x20,0x99,0x80,\n    0xc0,0xca,0xd0,0xe0,0x60,0x64,0xe4,0x24,\n    0xa4,0x14,0x94,0x54,0xd4,0x74,0xf4,0x34,\n    0xb4,0x04,0x84,0x44,0xc4,0x2c,0x3c,0x5c,\n    0x4c,0x1c,0x0c,0x53,0x55,0x4e,0x20,0x4d,\n    0x4f,0x4e,0x20,0x54,0x55,0x45,0x20,0x57,\n    0x45,0x44,0x20,0x54,0x48,0x55,0x20,0x46,\n    0x52,0x49,0x20,0x53,0x41,0x54,0x20,0x45,\n    0x52,0x52,0x20,0x4a,0x41,0x4e,0x20,0x46,\n    0x45,0x42,0x20,0x4d,0x41,0x52,0x20,0x41,\n    0x50,0x52,0x20,0x4d,0x41,0x59,0x20,0x4a,\n    0x55,0x4e,0x20,0x4a,0x55,0x4c,0x20,0x41,\n    0x55,0x47,0x20,0x53,0x45,0x50,0x20,0x4f,\n    0x43,0x54,0x20,0x4e,0x4f,0x56,0x20,0x44,\n    0x45,0x43,0x20,0xae,0xb0,0xb0,0xb0,0x00,\n    0xae,0xb0,0xb0,0xb0,0x00,0xa0,0xa0,0xc1,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff\n]) as ReadonlyUint8Array;\n","import { debug, toHex } from '../util';\nimport { Card, Restorable, byte } from '../types';\nimport { rom } from '../roms/cards/thunderclock';\n\nconst LOC = {\n    CONTROL: 0x80,\n    AUX: 0x88\n} as const;\n\nconst COMMANDS = {\n    MASK: 0x18,\n    REGHOLD: 0x00,\n    REGSHIFT: 0x08,\n    TIMED: 0x18\n} as const;\n\nconst FLAGS = {\n    DATA: 0x01,\n    CLOCK: 0x02,\n    STROBE: 0x04\n} as const;\n\nexport interface ThunderclockState {}\n\nexport default class Thunderclock implements Card, Restorable<ThunderclockState>\n{\n    constructor() {\n        debug('Thunderclock');\n    }\n\n    private clock = false;\n    private strobe = false;\n    private shiftMode = false;\n    private register = 0;\n    private bits: boolean[] = [];\n    private command: byte = COMMANDS.REGHOLD;\n\n    private debug(..._args: unknown[]) {\n        // debug.apply(this, arguments);\n    }\n\n    private calcBits() {\n        const shift = (val: byte) => {\n            for (let idx = 0; idx < 4; idx++) {\n                this.bits.push((val & 0x08) !== 0);\n                val <<= 1;\n            }\n        };\n\n        const shiftBCD = (val: byte) => {\n            shift(Math.floor(val / 10));\n            shift(val % 10);\n        };\n\n        const now = new Date();\n        const day = now.getDate();\n        const weekday = now.getDay();\n        const month = now.getMonth() + 1;\n        const hour = now.getHours();\n        const minutes = now.getMinutes();\n        const seconds = now.getSeconds();\n\n        this.bits = [];\n        shift(month);\n        shift(weekday);\n        shiftBCD(day);\n        shiftBCD(hour);\n        shiftBCD(minutes);\n        shiftBCD(seconds);\n    }\n\n    private shift() {\n        if (this.shiftMode) {\n            if (this.bits.pop()) {\n                this.debug('shifting 1');\n                this.register |= 0x80;\n            } else {\n                this.debug('shifting 0');\n                this.register &= 0x7f;\n            }\n        }\n    }\n\n    private access(off: byte, val?: byte) {\n        switch (off & 0x8F) {\n            case LOC.CONTROL:\n                if (val !== undefined) {\n                    const strobe = val & FLAGS.STROBE ? true : false;\n                    if (strobe !== this.strobe) {\n                        this.debug('strobe', this.strobe ? 'high' : 'low');\n                        if (strobe) {\n                            this.command = val & COMMANDS.MASK;\n                            switch (this.command) {\n                                case COMMANDS.TIMED:\n                                    this.debug('TIMED');\n                                    this.calcBits();\n                                    break;\n                                case COMMANDS.REGSHIFT:\n                                    this.debug('REGSHIFT');\n                                    this.shiftMode = true;\n                                    this.shift();\n                                    break;\n                                case COMMANDS.REGHOLD:\n                                    this.debug('REGHOLD');\n                                    this.shiftMode = false;\n                                    break;\n                                default:\n                                    this.debug('Unknown command', toHex(this.command));\n                            }\n                        }\n                    }\n\n                    const clock = val & FLAGS.CLOCK ? true : false;\n\n                    if (clock !== this.clock) {\n                        this.clock = clock;\n                        this.debug('clock', this.clock ? 'high' : 'low');\n                        if (clock) {\n                            this.shift();\n                        }\n                    }\n                }\n                break;\n            case LOC.AUX:\n                break;\n        }\n        return this.register;\n    }\n\n    read(page: byte, off: byte) {\n        let result;\n        if (page < 0xc8) {\n            result = rom[off];\n        } else {\n            result = rom[(page - 0xc8) << 8 | off];\n        }\n        return result;\n    }\n\n    write() {\n        // not writable\n    }\n\n    ioSwitch(off: byte, val?: byte) {\n        return this.access(off, val);\n    }\n\n    getState() {\n        return {};\n    }\n\n    setState(_state: ThunderclockState) {\n        // can't set the state\n    }\n}\n","import { useEffect } from 'preact/hooks';\nimport Apple2IO, { slot } from '../apple2io';\nimport ThunderClockCard from '../cards/thunderclock';\n\n/**\n * ThunderClock component properties.\n */\nexport interface ThunderClockProps {\n    io: Apple2IO | undefined;\n    slot: slot;\n}\n\n/**\n * ThunderClock card component.\n *\n * @param io Apple2IO object\n * @param slot Slot to register card in\n */\nexport const ThunderClock = ({ io, slot }: ThunderClockProps) => {\n    useEffect(() => {\n        if (io) {\n            const clock = new ThunderClockCard();\n            io.setSlot(slot, clock);\n        }\n    }, [io, slot]);\n\n    return null;\n};\n","import { ReadonlyUint8Array } from '../../types';\n\nexport const ROM = new Uint8Array([\n    0xad,0x7b,0x07,0x29,0xf8,0xc9,0x30,0xf0,\n    0x21,0xa9,0x30,0x8d,0x7b,0x07,0x8d,0xfb,\n    0x07,0xa9,0x00,0x8d,0xfb,0x06,0x20,0x61,\n    0xc9,0xa2,0x00,0x8a,0x8d,0xb0,0xc0,0xbd,\n    0xa1,0xc8,0x8d,0xb1,0xc0,0xe8,0xe0,0x10,\n    0xd0,0xf1,0x8d,0x59,0xc0,0x60,0xad,0xfb,\n    0x07,0x29,0x08,0xf0,0x09,0x20,0x93,0xfe,\n    0x20,0x22,0xfc,0x20,0x89,0xfe,0x68,0xa8,\n    0x68,0xaa,0x68,0x60,0x20,0xd1,0xc8,0xe6,\n    0x4e,0xd0,0x02,0xe6,0x4f,0xad,0x00,0xc0,\n    0x10,0xf5,0x20,0x5c,0xc8,0x90,0xf0,0x2c,\n    0x10,0xc0,0x18,0x60,0xc9,0x8b,0xd0,0x02,\n    0xa9,0xdb,0xc9,0x81,0xd0,0x0a,0xad,0xfb,\n    0x07,0x49,0x40,0x8d,0xfb,0x07,0xb0,0xe7,\n    0x48,0xad,0xfb,0x07,0x0a,0x0a,0x68,0x90,\n    0x1f,0xc9,0xb0,0x90,0x1b,0x2c,0x63,0xc0,\n    0x30,0x14,0xc9,0xb0,0xf0,0x0e,0xc9,0xc0,\n    0xd0,0x02,0xa9,0xd0,0xc9,0xdb,0x90,0x08,\n    0x29,0xcf,0xd0,0x04,0xa9,0xdd,0x09,0x20,\n    0x48,0x29,0x7f,0x8d,0x7b,0x06,0x68,0x38,\n    0x60,0x7b,0x50,0x5e,0x29,0x1b,0x08,0x18,\n    0x19,0x00,0x08,0xe0,0x08,0x00,0x00,0x00,\n    0x00,0x8d,0x7b,0x06,0xa5,0x25,0xcd,0xfb,\n    0x05,0xf0,0x06,0x8d,0xfb,0x05,0x20,0x04,\n    0xca,0xa5,0x24,0xcd,0x7b,0x05,0x90,0x03,\n    0x8d,0x7b,0x05,0xad,0x7b,0x06,0x20,0x89,\n    0xca,0xa9,0x0f,0x8d,0xb0,0xc0,0xad,0x7b,\n    0x05,0xc9,0x50,0xb0,0x13,0x6d,0x7b,0x04,\n    0x8d,0xb1,0xc0,0xa9,0x0e,0x8d,0xb0,0xc0,\n    0xa9,0x00,0x6d,0xfb,0x04,0x8d,0xb1,0xc0,\n    0x60,0x49,0xc0,0xc9,0x08,0xb0,0x1d,0xa8,\n    0xa9,0xc9,0x48,0xb9,0xf2,0xcb,0x48,0x60,\n    0xea,0xac,0x7b,0x05,0xa9,0xa0,0x20,0x71,\n    0xca,0xc8,0xc0,0x50,0x90,0xf8,0x60,0xa9,\n    0x34,0x8d,0x7b,0x07,0x60,0xa9,0x32,0xd0,\n    0xf8,0xa0,0xc0,0xa2,0x80,0xca,0xd0,0xfd,\n    0xad,0x30,0xc0,0x88,0xd0,0xf5,0x60,0xac,\n    0x7b,0x05,0xc0,0x50,0x90,0x05,0x48,0x20,\n    0xb0,0xc9,0x68,0xac,0x7b,0x05,0x20,0x71,\n    0xca,0xee,0x7b,0x05,0x2c,0x78,0x04,0x10,\n    0x07,0xad,0x7b,0x05,0xc9,0x50,0xb0,0x68,\n    0x60,0xac,0x7b,0x05,0xad,0xfb,0x05,0x48,\n    0x20,0x07,0xca,0x20,0x04,0xc9,0xa0,0x00,\n    0x68,0x69,0x00,0xc9,0x18,0x90,0xf0,0xb0,\n    0x23,0x20,0x67,0xc9,0x98,0xf0,0xe8,0xa9,\n    0x00,0x8d,0x7b,0x05,0x8d,0xfb,0x05,0xa8,\n    0xf0,0x12,0xce,0x7b,0x05,0x10,0x9d,0xa9,\n    0x4f,0x8d,0x7b,0x05,0xad,0xfb,0x05,0xf0,\n    0x93,0xce,0xfb,0x05,0x4c,0x04,0xca,0xa9,\n    0x30,0x8d,0x7b,0x07,0x68,0x09,0x80,0xc9,\n    0xb1,0xd0,0x67,0xa9,0x08,0x8d,0x58,0xc0,\n    0xd0,0x5b,0xc9,0xb2,0xd0,0x51,0xa9,0xfe,\n    0x2d,0xfb,0x07,0x8d,0xfb,0x07,0x60,0x8d,\n    0x7b,0x06,0x4e,0x78,0x04,0x4c,0xcb,0xc8,\n    0x20,0x27,0xca,0xee,0xfb,0x05,0xad,0xfb,\n    0x05,0xc9,0x18,0x90,0x4a,0xce,0xfb,0x05,\n    0xad,0xfb,0x06,0x69,0x04,0x29,0x7f,0x8d,\n    0xfb,0x06,0x20,0x12,0xca,0xa9,0x0d,0x8d,\n    0xb0,0xc0,0xad,0x7b,0x04,0x8d,0xb1,0xc0,\n    0xa9,0x0c,0x8d,0xb0,0xc0,0xad,0xfb,0x04,\n    0x8d,0xb1,0xc0,0xa9,0x17,0x20,0x07,0xca,\n    0xa0,0x00,0x20,0x04,0xc9,0xb0,0x95,0xc9,\n    0xb3,0xd0,0x0e,0xa9,0x01,0x0d,0xfb,0x07,\n    0xd0,0xa9,0xc9,0xb0,0xd0,0x9c,0x4c,0x09,\n    0xc8,0x4c,0x27,0xc9,0xad,0xfb,0x05,0x8d,\n    0xf8,0x04,0x0a,0x0a,0x6d,0xf8,0x04,0x6d,\n    0xfb,0x06,0x48,0x4a,0x4a,0x4a,0x4a,0x8d,\n    0xfb,0x04,0x68,0x0a,0x0a,0x0a,0x0a,0x8d,\n    0x7b,0x04,0x60,0xc9,0x0d,0xd0,0x06,0xa9,\n    0x00,0x8d,0x7b,0x05,0x60,0x09,0x80,0xc9,\n    0xa0,0xb0,0xce,0xc9,0x87,0x90,0x08,0xa8,\n    0xa9,0xc9,0x48,0xb9,0xb9,0xc9,0x48,0x60,\n    0x18,0x71,0x13,0xb2,0x48,0x60,0xaf,0x9d,\n    0xf2,0x13,0x13,0x13,0x13,0x13,0x13,0x13,\n    0x13,0x13,0x66,0x0e,0x13,0x38,0x00,0x14,\n    0x7b,0x18,0x98,0x6d,0x7b,0x04,0x48,0xa9,\n    0x00,0x6d,0xfb,0x04,0x48,0x0a,0x29,0x0c,\n    0xaa,0xbd,0xb0,0xc0,0x68,0x4a,0x68,0xaa,\n    0x60,0x0a,0x48,0xad,0xfb,0x07,0x4a,0x68,\n    0x6a,0x48,0x20,0x59,0xca,0x68,0xb0,0x05,\n    0x9d,0x00,0xcc,0x90,0x03,0x9d,0x00,0xcd,\n    0x60,0x48,0xa9,0xf7,0x20,0xa0,0xc9,0x8d,\n    0x59,0xc0,0xad,0x7b,0x07,0x29,0x07,0xd0,\n    0x04,0x68,0x4c,0x23,0xca,0x29,0x04,0xf0,\n    0x03,0x4c,0x87,0xc9,0x68,0x38,0xe9,0x20,\n    0x29,0x7f,0x48,0xce,0x7b,0x07,0xad,0x7b,\n    0x07,0x29,0x03,0xd0,0x15,0x68,0xc9,0x18,\n    0xb0,0x03,0x8d,0xfb,0x05,0xad,0xf8,0x05,\n    0xc9,0x50,0xb0,0x03,0x8d,0x7b,0x05,0x4c,\n    0x04,0xca,0x68,0x8d,0xf8,0x05,0x60,0xad,\n    0x00,0xc0,0xc9,0x93,0xd0,0x0f,0x2c,0x10,\n    0xc0,0xad,0x00,0xc0,0x10,0xfb,0xc9,0x83,\n    0xf0,0x03,0x2c,0x10,0xc0,0x60,0xa8,0xb9,\n    0x31,0xcb,0x20,0xf1,0xc8,0x20,0x44,0xc8,\n    0xc9,0xce,0xb0,0x08,0xc9,0xc9,0x90,0x04,\n    0xc9,0xcc,0xd0,0xea,0x4c,0xf1,0xc8,0xea,\n    0x2c,0xcb,0xff,0x70,0x31,0x38,0x90,0x18,\n    0xb8,0x50,0x2b,0x01,0x82,0x11,0x14,0x1c,\n    0x22,0x4c,0x00,0xc8,0x20,0x44,0xc8,0x29,\n    0x7f,0xa2,0x00,0x60,0x20,0xa7,0xc9,0xa2,\n    0x00,0x60,0xc9,0x00,0xf0,0x09,0xad,0x00,\n    0xc0,0x0a,0x90,0x03,0x20,0x5c,0xc8,0xa2,\n    0x00,0x60,0x91,0x28,0x38,0xb8,0x8d,0xff,\n    0xcf,0x48,0x85,0x35,0x8a,0x48,0x98,0x48,\n    0xa5,0x35,0x86,0x35,0xa2,0xc3,0x8e,0x78,\n    0x04,0x48,0x50,0x10,0xa9,0x32,0x85,0x38,\n    0x86,0x39,0xa9,0x07,0x85,0x36,0x86,0x37,\n    0x20,0x00,0xc8,0x18,0x90,0x6f,0x68,0xa4,\n    0x35,0xf0,0x1f,0x88,0xad,0x78,0x06,0xc9,\n    0x88,0xf0,0x17,0xd9,0x00,0x02,0xf0,0x12,\n    0x49,0x20,0xd9,0x00,0x02,0xd0,0x3b,0xad,\n    0x78,0x06,0x99,0x00,0x02,0xb0,0x03,0x20,\n    0xed,0xca,0xa9,0x80,0x20,0xf5,0xc9,0x20,\n    0x44,0xc8,0xc9,0x9b,0xf0,0xf1,0xc9,0x8d,\n    0xd0,0x05,0x48,0x20,0x01,0xc9,0x68,0xc9,\n    0x95,0xd0,0x12,0xac,0x7b,0x05,0x20,0x59,\n    0xca,0xb0,0x05,0xbd,0x00,0xcc,0x90,0x03,\n    0xbd,0x00,0xcd,0x09,0x80,0x8d,0x78,0x06,\n    0xd0,0x08,0x20,0x44,0xc8,0xa0,0x00,0x8c,\n    0x78,0x06,0xba,0xe8,0xe8,0xe8,0x9d,0x00,\n    0x01,0xa9,0x00,0x85,0x24,0xad,0xfb,0x05,\n    0x85,0x25,0x4c,0x2e,0xc8,0x68,0xac,0xfb,\n    0x07,0x10,0x08,0xac,0x78,0x06,0xc0,0xe0,\n    0x90,0x01,0x98,0x20,0xb1,0xc8,0x20,0xcf,\n    0xca,0xa9,0x7f,0x20,0xa0,0xc9,0xad,0x7b,\n    0x05,0xe9,0x47,0x90,0xd4,0x69,0x1f,0x18,\n    0x90,0xd1,0x60,0x38,0x71,0xb2,0x7b,0x00,\n    0x48,0x66,0xc4,0xc2,0xc1,0xff,0xc3,0xea,\n]) as ReadonlyUint8Array;\n\nexport const VIDEO_ROM = new Uint8Array([\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0xff,0xff,0xff,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,\n    0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xff,0xff,0xff,0x00,0x00,0x00,0xff,0xff,\n    0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,\n    0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xe0,0x90,0xe0,0x9e,0xf0,0x0c,0x02,0x1c,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x90,0x90,0xf0,0x90,0xbe,0x08,0x08,0x08,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x80,0x80,0x80,0x9e,0xf0,0x18,0x10,0x10,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x88,0x88,0x50,0x20,0x3e,0x08,0x08,0x08,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xf0,0x80,0xc0,0x9e,0x90,0x18,0x10,0x10,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x70,0x80,0x80,0x7c,0x12,0x1c,0x14,0x12,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x70,0x80,0x60,0x10,0xec,0x12,0x12,0x0c,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x70,0x80,0x60,0x1e,0xe4,0x04,0x04,0x0e,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x08,0x08,0x08,0x08,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x0f,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x08,0x08,0x08,0x0f,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x08,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x00,0x00,0x00,0x00,0x0f,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x0f,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x00,0x00,0x00,0x00,0xf8,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x08,0x08,0x08,0xf8,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0xff,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x08,0x08,0x08,0xff,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0xf8,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0xf8,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x00,0x00,0x00,0x00,0xff,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0xff,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x18,0x18,0x18,0x18,0x18,0x00,0x18,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x36,0x36,0x12,0x24,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x24,0x24,0x7e,0x24,0x7e,0x24,0x24,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x3e,0x48,0x3c,0x12,0x7c,0x10,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x62,0x94,0x68,0x10,0x2c,0x52,0x8c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x20,0x50,0x50,0x62,0x94,0x88,0x76,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x18,0x18,0x08,0x10,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x0c,0x10,0x20,0x20,0x20,0x10,0x0c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x30,0x08,0x04,0x04,0x04,0x08,0x30,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x10,0x92,0x54,0x38,0x54,0x92,0x10,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x10,0x10,0xfe,0x10,0x10,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x18,0x18,0x08,0x10,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x7e,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x02,0x04,0x08,0x10,0x20,0x40,0x80,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x38,0x44,0x8a,0x92,0xa2,0x44,0x38,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x38,0x08,0x08,0x08,0x08,0x3e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3c,0x42,0x02,0x1c,0x20,0x40,0x7e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7e,0x04,0x08,0x1c,0x02,0x42,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x04,0x0c,0x14,0x24,0x7e,0x04,0x04,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7e,0x40,0x7c,0x02,0x02,0x42,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x1e,0x20,0x40,0x7c,0x42,0x42,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7e,0x02,0x04,0x08,0x10,0x20,0x20,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3c,0x42,0x42,0x3c,0x42,0x42,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3c,0x42,0x42,0x3e,0x02,0x04,0x78,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x18,0x18,0x00,0x18,0x18,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x18,0x18,0x00,0x18,0x18,0x08,0x10,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x06,0x18,0x60,0x18,0x06,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x7e,0x00,0x7e,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x60,0x18,0x06,0x18,0x60,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3c,0x42,0x02,0x0c,0x10,0x00,0x10,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3c,0x42,0x9a,0xaa,0x94,0x40,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x18,0x24,0x42,0x42,0x7e,0x42,0x42,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7c,0x42,0x42,0x7c,0x42,0x42,0x7c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x1c,0x22,0x40,0x40,0x40,0x22,0x1c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x78,0x44,0x42,0x42,0x42,0x44,0x78,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7e,0x40,0x40,0x78,0x40,0x40,0x7e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7e,0x40,0x40,0x78,0x40,0x40,0x40,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x1c,0x22,0x40,0x4e,0x42,0x22,0x1e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x42,0x42,0x42,0x7e,0x42,0x42,0x42,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x1c,0x08,0x08,0x08,0x08,0x08,0x1c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x0e,0x04,0x04,0x04,0x04,0x44,0x38,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x42,0x44,0x48,0x50,0x68,0x44,0x42,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x40,0x40,0x40,0x40,0x40,0x40,0x7e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x82,0xc6,0xaa,0x92,0x82,0x82,0x82,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x42,0x62,0x52,0x4a,0x46,0x42,0x42,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x38,0x44,0x82,0x82,0x82,0x44,0x38,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7c,0x42,0x42,0x7c,0x40,0x40,0x40,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x38,0x44,0x82,0x82,0x8a,0x44,0x3a,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7c,0x42,0x42,0x7c,0x48,0x44,0x42,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3c,0x42,0x40,0x3c,0x02,0x42,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xfe,0x10,0x10,0x10,0x10,0x10,0x10,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x42,0x42,0x42,0x42,0x42,0x42,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x82,0x82,0x44,0x44,0x28,0x28,0x10,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x82,0x82,0x82,0x82,0x92,0xaa,0x44,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x82,0x44,0x28,0x10,0x28,0x44,0x82,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x82,0x44,0x28,0x10,0x10,0x10,0x10,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xfe,0x04,0x08,0x10,0x20,0x40,0xfe,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3e,0x30,0x30,0x30,0x30,0x30,0x3e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x80,0x40,0x20,0x10,0x08,0x04,0x02,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3e,0x06,0x06,0x06,0x06,0x06,0x3e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x1c,0x2a,0x08,0x08,0x08,0x08,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xfe,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x18,0x18,0x10,0x08,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0xf8,0x04,0x7c,0x84,0x7a,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x40,0x40,0x7c,0x42,0x42,0x42,0x7c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x3c,0x42,0x40,0x40,0x3e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x02,0x02,0x3e,0x42,0x42,0x42,0x3e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x3c,0x42,0x7e,0x40,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x1c,0x22,0x20,0x78,0x20,0x20,0x20,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x02,0x3c,0x42,0x42,0x3e,0x02,0x42,\n    0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x40,0x40,0x5c,0x62,0x42,0x42,0x42,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x00,0x08,0x08,0x08,0x08,0x08,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x04,0x00,0x04,0x04,0x04,0x04,0x04,0x24,\n    0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x40,0x40,0x46,0x58,0x60,0x58,0x46,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x18,0x08,0x08,0x08,0x08,0x08,0x1c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0xec,0x92,0x92,0x92,0x92,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x5c,0x22,0x22,0x22,0x22,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x3c,0x42,0x42,0x42,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x7c,0x42,0x42,0x42,0x7c,0x40,\n    0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x3e,0x42,0x42,0x42,0x3e,0x02,\n    0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x5c,0x62,0x40,0x40,0x40,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x3e,0x40,0x3c,0x02,0x7c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x10,0x3e,0x10,0x10,0x10,0x0e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x44,0x44,0x44,0x44,0x3a,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x82,0x82,0x44,0x28,0x10,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x82,0x82,0x92,0xaa,0x44,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x42,0x24,0x18,0x24,0x42,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x82,0x82,0x44,0x28,0x10,0x20,\n    0xc0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x7e,0x04,0x18,0x20,0x7e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x0c,0x10,0x08,0x30,0x08,0x10,0x0c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x08,0x08,0x00,0x08,0x08,0x08,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x30,0x08,0x10,0x0c,0x10,0x08,0x30,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x60,0x92,0x0c,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x24,0x48,0x92,0x24,0x48,0x92,0x24,0x48,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n]) as ReadonlyUint8Array;\n","import { allocMemPages, debug } from '../util';\nimport { Card, Restorable, byte, Color, memory, word } from '../types';\nimport { ROM, VIDEO_ROM } from '../roms/cards/videoterm';\n\ninterface VideotermState {\n    curReg: byte;\n    startPos: word;\n    cursorPos: word;\n    bank: byte;\n    buffer: memory;\n    regs: byte[];\n}\n\nconst LOC = {\n    IOREG: 0x80,\n    IOVAL: 0x81\n} as const;\n\nconst REGS = {\n    CURSOR_UPPER: 0x0A,\n    CURSOR_LOWER: 0x0B,\n    STARTPOS_HI: 0x0C,\n    STARTPOS_LO: 0x0D,\n    CURSOR_HI: 0x0E,\n    CURSOR_LO: 0x0F,\n    LIGHTPEN_HI: 0x10,\n    LIGHTPEN_LO: 0x11\n} as const;\n\nconst CURSOR_MODES = {\n    SOLID: 0x00,\n    HIDDEN: 0x01,\n    BLINK: 0x10,\n    FAST_BLINK: 0x11\n} as const;\n\nconst BLACK: Color = [0x00, 0x00, 0x00];\nconst WHITE: Color = [0xff, 0xff, 0xff];\n\nexport default class Videoterm implements Card, Restorable<VideotermState> {\n    private regs = [\n        0x7b, // 00 - Horiz. total\n        0x50, // 01 - Horiz. displayed\n        0x62, // 02 - Horiz. sync pos\n        0x29, // 03 - Horiz. sync width\n        0x1b, // 04 - Vert. total\n        0x08, // 05 - Vert. adjust\n        0x18, // 06 - Vert. displayed\n        0x19, // 07 - Vert. sync pos\n        0x00, // 08 - Interlaced\n        0x08, // 09 - Max. scan line\n        0xc0, // 0A - Cursor upper\n        0x08, // 0B - Cursor lower\n        0x00, // 0C - Startpos Hi\n        0x00, // 0D - Startpos Lo\n        0x00, // 0E - Cursor Hi\n        0x00, // 0F - Cursor Lo\n        0x00, // 10 - Lightpen Hi\n        0x00  // 11 - Lightpen Lo\n    ];\n\n    private blink = false;\n    private curReg = 0;\n    private startPos: word;\n    private cursorPos: word;\n    private shouldRefresh: boolean;\n\n    // private cursor = 0;\n    private bank = 0;\n    private buffer = allocMemPages(8);\n    private imageData;\n    private dirty = false;\n\n    constructor() {\n        debug('Videx Videoterm');\n\n        this.imageData = new ImageData(560, 192);\n        for (let idx = 0; idx < 560 * 192 * 4; idx++) {\n            this.imageData.data[idx] = 0xff;\n        }\n\n        for (let idx = 0; idx < 0x800; idx++) {\n            this.buffer[idx] = idx & 0xff;\n        }\n\n        this.refresh();\n\n        setInterval(() => {\n            this.blink = !this.blink;\n            this.refreshCursor(false);\n        }, 300);\n    }\n\n    private updateBuffer(addr: word, val: byte) {\n        this.buffer[addr] = val;\n        val &= 0x7f; // XXX temp\n        const saddr = (0x800 + addr - this.startPos) & 0x7ff;\n        const data = this.imageData.data;\n        const row = (saddr / 80) & 0xff;\n        const col = saddr % 80;\n        const x = col * 7;\n        const y = row << 3;\n        const c = val << 4;\n        let color;\n\n        if (row < 25) {\n            this.dirty = true;\n            for (let idx = 0; idx < 8; idx++) {\n                let cdata = VIDEO_ROM[c + idx];\n                for (let jdx = 0; jdx < 7; jdx++) {\n                    if (cdata & 0x80) {\n                        color = WHITE;\n                    } else {\n                        color = BLACK;\n                    }\n                    data[(y + idx) * 560 * 4 + (x + jdx) * 4] = color[0];\n                    data[(y + idx) * 560 * 4 + (x + jdx) * 4 + 1] = color[1];\n                    data[(y + idx) * 560 * 4 + (x + jdx) * 4 + 2] = color[2];\n                    cdata <<= 1;\n                }\n            }\n        }\n    }\n\n    private refreshCursor(fromRegs: boolean) {\n        const addr = this.regs[REGS.CURSOR_HI] << 8 | this.regs[REGS.CURSOR_LO];\n        const saddr = (0x800 + addr - this.startPos) & 0x7ff;\n        const data = this.imageData.data;\n        const row = (saddr / 80) & 0xff;\n        const col = saddr % 80;\n        const x = col * 7;\n        const y = row << 3;\n        const blinkmode = (this.regs[REGS.CURSOR_UPPER] & 0x60) >> 5;\n\n        if (fromRegs) {\n            if (addr !== this.cursorPos) {\n                const caddr = (0x800 + this.cursorPos - this.startPos) & 0x7ff;\n                this.updateBuffer(caddr, this.buffer[caddr]);\n                this.cursorPos = addr;\n            }\n        }\n\n        this.updateBuffer(addr, this.buffer[addr]);\n        if (blinkmode === CURSOR_MODES.HIDDEN) {\n            return;\n        }\n        if (this.blink || (blinkmode === CURSOR_MODES.SOLID)) {\n            this.dirty = true;\n            for (let idx = 0; idx < 8; idx++) {\n                const color = WHITE;\n                if (idx >= (this.regs[REGS.CURSOR_UPPER] & 0x1f) &&\n                    idx <= (this.regs[REGS.CURSOR_LOWER] & 0x1f)) {\n                    for (let jdx = 0; jdx < 7; jdx++) {\n                        data[(y + idx) * 560 * 4 + (x + jdx) * 4] = color[0];\n                        data[(y + idx) * 560 * 4 + (x + jdx) * 4 + 1] = color[1];\n                        data[(y + idx) * 560 * 4 + (x + jdx) * 4 + 2] = color[2];\n                    }\n                }\n            }\n        }\n    }\n\n    private updateStartPos() {\n        const startPos =\n            this.regs[REGS.STARTPOS_HI] << 8 |\n            this.regs[REGS.STARTPOS_LO];\n        if (this.startPos !== startPos) {\n            this.startPos = startPos;\n            this.shouldRefresh = true;\n        }\n    }\n\n    private refresh() {\n        for (let idx = 0; idx < 0x800; idx++) {\n            this.updateBuffer(idx, this.buffer[idx]);\n        }\n    }\n\n    private access(off: byte, val?: byte) {\n        let result = undefined;\n        switch (off & 0x81) {\n            case LOC.IOREG:\n                if (val !== undefined) {\n                    this.curReg = val;\n                } else {\n                    result = this.curReg;\n                }\n                break;\n            case LOC.IOVAL:\n                if (val !== undefined) {\n                    this.regs[this.curReg] = val;\n                    switch (this.curReg) {\n                        case REGS.CURSOR_UPPER:\n                        case REGS.CURSOR_LOWER:\n                            this.refreshCursor(true);\n                            break;\n                        case REGS.CURSOR_HI:\n                        case REGS.CURSOR_LO:\n                            this.refreshCursor(true);\n                            break;\n                        case REGS.STARTPOS_HI:\n                        case REGS.STARTPOS_LO:\n                            this.updateStartPos();\n                            break;\n                    }\n                } else {\n                    result = this.regs[this.curReg];\n                }\n                break;\n        }\n        this.bank = (off & 0x0C) >> 2;\n        return result;\n    }\n\n    ioSwitch(off: byte, val?: byte) {\n        return this.access(off, val);\n    }\n\n    read(page: byte, off: byte) {\n        if (page < 0xcc) {\n            return ROM[(page & 0x03) << 8 | off];\n        } else if (page < 0xce){\n            const addr = ((page & 0x01) + (this.bank << 1)) << 8 | off;\n            return this.buffer[addr];\n        }\n        return 0;\n    }\n\n    write(page: byte, off: byte, val: byte) {\n        if (page > 0xcb && page < 0xce) {\n            const addr = ((page & 0x01) + (this.bank << 1)) << 8 | off;\n            this.updateBuffer(addr, val);\n        }\n    }\n\n    blit() {\n        if (this.shouldRefresh) {\n            this.refresh();\n            this.shouldRefresh = false;\n        }\n        if (this.dirty) {\n            this.dirty = false;\n            return this.imageData;\n        }\n        return;\n    }\n\n    getState() {\n        return {\n            curReg: this.curReg,\n            startPos: this.startPos,\n            cursorPos: this.cursorPos,\n            bank: this.bank,\n            buffer: new Uint8Array(this.buffer),\n            regs: [...this.regs],\n        };\n    }\n\n    setState(state: VideotermState) {\n        this.curReg = state.curReg;\n        this.startPos = state.startPos;\n        this.cursorPos = state.cursorPos;\n        this.bank = state.bank;\n        this.buffer = new Uint8Array(this.buffer);\n        this.regs = [...state.regs];\n\n        this.shouldRefresh = true;\n        this.dirty = true;\n    }\n}\n","import { useEffect } from 'preact/hooks';\nimport Apple2IO, { slot } from 'js/apple2io';\nimport VideotermImpl from 'js/cards/videoterm';\n/**\n * VideoTerm component properties\n */\nexport interface VideotermProps {\n    io: Apple2IO | undefined;\n    slot: slot;\n}\n\nexport const Videoterm = ({ io, slot }: VideotermProps ) => {\n    useEffect(() => {\n        if (io) {\n            const videoterm = new VideotermImpl();\n            io.setSlot(slot, videoterm);\n        }\n    }, [io, slot]);\n    return null;\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Apple2.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./Apple2.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h } from 'preact';\nimport cs from 'classnames';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { Apple2 as Apple2Impl } from '../apple2';\nimport { ControlStrip } from './ControlStrip';\nimport { Debugger } from './debugger/Debugger';\nimport { ErrorModal } from './ErrorModal';\nimport { Inset } from './Inset';\nimport { Keyboard } from './Keyboard';\nimport { LanguageCard } from './LanguageCard';\nimport { Mouse } from './Mouse';\nimport { Screen } from './Screen';\nimport { Drives } from './Drives';\nimport { Slinky } from './Slinky';\nimport { ThunderClock } from './ThunderClock';\nimport { Videoterm } from './Videoterm';\nimport { spawn, Ready } from './util/promises';\n\nimport styles from './css/Apple2.module.scss';\nimport { SupportedSectors } from 'js/formats/types';\n\ndeclare global {\n    interface Window {\n        apple2: Apple2Impl;\n    }\n}\n\n/**\n * Interface for the Apple2 component.\n */\nexport interface Apple2Props {\n    characterRom: string;\n    enhanced: boolean;\n    e: boolean;\n    gl: boolean;\n    rom: string;\n    sectors: SupportedSectors;\n}\n\n/**\n * Component to bind various UI components together to form\n * the application layout. Includes the screen, drives,\n * emulator controls and keyboard. Bootstraps the core\n * Apple2 emulator.\n *\n * @param props Apple2 initialization props\n * @returns\n */\nexport const Apple2 = (props: Apple2Props) => {\n    const { e, enhanced, sectors } = props;\n    const screenRef = useRef<HTMLCanvasElement>(null);\n    const [apple2, setApple2] = useState<Apple2Impl>();\n    const [error, setError] = useState<unknown>();\n    const [ready, setReady] = useState(false);\n    const [showDebug, setShowDebug] = useState(false);\n    const drivesReady = useMemo(() => new Ready(setError), []);\n\n    const io = apple2?.getIO();\n    const cpu = apple2?.getCPU();\n    const vm = apple2?.getVideoModes();\n    const rom = apple2?.getROM();\n\n    const doPaste = useCallback((event: Event) => {\n        if (\n            (document.activeElement !== screenRef.current) &&\n            (document.activeElement !== document.body)\n        ) {\n            return;\n        }\n        if (io) {\n            const paste = (event.clipboardData || window.clipboardData)?.getData('text');\n            if (paste) {\n                io.setKeyBuffer(paste);\n            }\n        }\n        event.preventDefault();\n    }, [io]);\n\n    const doCopy = useCallback((event: Event) => {\n        if (\n            (document.activeElement !== screenRef.current) &&\n            (document.activeElement !== document.body)\n        ) {\n            return;\n        }\n        if (vm) {\n            event.clipboardData?.setData('text/plain', vm.getText());\n        }\n        event.preventDefault();\n    }, [vm]);\n\n    useEffect(() => {\n        if (screenRef.current) {\n            const options = {\n                canvas: screenRef.current,\n                tick: () => { /* do nothing */ },\n                ...props,\n            };\n            const apple2 = new Apple2Impl(options);\n            const controller = spawn(async (signal) => {\n                try {\n                    await apple2.ready;\n                    if (signal.aborted) {\n                        return;\n                    }\n                    setApple2(apple2);\n                    await drivesReady.ready;\n                    if (signal.aborted) {\n                        setApple2(undefined);\n                        return;\n                    }\n                    apple2.reset();\n                    apple2.run();\n                } catch (e) {\n                    setError(e);\n                }\n                setReady(true);\n            });\n\n            window.apple2 = apple2;\n\n            return () => controller.abort();\n        }\n    }, [props, drivesReady]);\n\n    useEffect(() => {\n        const { current } = screenRef;\n\n        window.addEventListener('paste', doPaste);\n        window.addEventListener('copy', doCopy);\n\n        current?.addEventListener('paste', doPaste);\n        current?.addEventListener('copy', doCopy);\n\n        return () => {\n            window.removeEventListener('paste', doPaste);\n            window.removeEventListener('copy', doCopy);\n\n            current?.removeEventListener('paste', doPaste);\n            current?.removeEventListener('copy', doCopy);\n        };\n    }, [doCopy, doPaste]);\n\n    const toggleDebugger = useCallback(() => {\n        setShowDebug((on) => !on);\n    }, []);\n\n    return (\n        <div className={styles.container}>\n            <div\n                className={cs(styles.outer, { apple2e: e, [styles.ready]: ready })}\n            >\n                <Screen screenRef={screenRef} />\n                {!e ? <LanguageCard cpu={cpu} io={io} rom={rom} slot={0} /> : null}\n                <Slinky io={io} slot={2} />\n                {!e ? <Videoterm io={io} slot={3} /> : null}\n                <Mouse cpu={cpu} screenRef={screenRef} io={io} slot={4} />\n                <ThunderClock io={io} slot={5} />\n                <Inset>\n                    <Drives cpu={cpu} io={io} sectors={sectors} enhanced={enhanced} ready={drivesReady} />\n                </Inset>\n                <ControlStrip apple2={apple2} e={e} toggleDebugger={toggleDebugger} />\n                <Inset>\n                    <Keyboard apple2={apple2} e={e} />\n                </Inset>\n                <ErrorModal error={error} setError={setError} />\n            </div>\n            {showDebug ? <Debugger apple2={apple2} /> : null}\n        </div>\n    );\n};\n","import Prefs from 'js/prefs';\n\n// Todo(whscullin): More robust preferences\n\nconst prefs = new Prefs();\n\nexport const usePrefs = () => prefs;\n","export interface SystemType {\n    rom: string;\n    characterRom: string;\n    e: boolean;\n    enhanced: boolean;\n    sectors: 13 | 16;\n}\n\n// Enhanced Apple //e\n\nexport const defaultSystem = {\n    rom: 'apple2enh',\n    characterRom: 'apple2enh_char',\n    e: true,\n    enhanced: true,\n    sectors: 16,\n} as const;\n\nexport const systemTypes: Record<string, Partial<SystemType>> = {\n    // Apple //e\n    apple2e: {\n        rom: 'apple2e',\n        characterRom: 'apple2e_char',\n        enhanced: false\n    },\n    apple2rm: {\n        characterRom: 'rmfont_char',\n    },\n    apple2ex: {\n        rom: 'apple2ex',\n        e: false,\n    },\n\n    // Apple ][s\n    apple2: {\n        rom: 'intbasic',\n        characterRom: 'apple2_char',\n        e: false,\n    },\n    apple213: {\n        rom: 'intbasic',\n        characterRom: 'apple2_char',\n        e: false,\n        sectors: 13,\n    },\n    original: {\n        rom: 'original',\n        characterRom: 'apple2_char',\n        e: false,\n    },\n    apple2jplus: {\n        rom: 'apple2j',\n        characterRom: 'apple2j_char',\n        e: false,\n    },\n    apple2pig: {\n        rom: 'fpbasic',\n        characterRom: 'pigfont_char',\n        e: false,\n    },\n    apple2lc:{\n        rom: 'fpbasic',\n        characterRom: 'apple2lc_char',\n        e: false,\n    },\n    apple2plus: {\n        rom: 'fpbasic',\n        characterRom: 'apple2_char',\n        e: false,\n    }\n} as const;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./App.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./App.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { h, render } from 'preact';\nimport { App } from './components/App';\n\n// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\nrender(<App />, document.getElementById('app')!);\n","import 'preact/debug';\nimport cs from 'classnames';\nimport { h } from 'preact';\nimport { Header } from './Header';\nimport { Apple2 } from './Apple2';\nimport { usePrefs } from './hooks/usePrefs';\nimport { SYSTEM_TYPE_APPLE2E } from '../ui/system';\nimport { SCREEN_GL } from '../ui/screen';\nimport { defaultSystem, systemTypes } from './util/systems';\n\nimport styles from './css/App.module.scss';\nimport componentStyles from './css/Components.module.scss';\n\n/**\n * Top level application component, provides the parameters\n * needed by the Apple2 component to bootstrap itself.\n *\n * @returns Application component\n */\nexport const App = () => {\n    const prefs = usePrefs();\n    const systemType = prefs.readPref(SYSTEM_TYPE_APPLE2E, 'apple2enh');\n    const gl = prefs.readPref(SCREEN_GL, 'true') === 'true';\n\n    const system = {\n        ...defaultSystem,\n        ...(systemTypes[systemType] || {})\n    };\n\n    return (\n        <div className={cs(styles.container, componentStyles.components)}>\n            <Header e={system.e} />\n            <Apple2\n                gl={gl}\n                {...system}\n            />\n        </div>\n    );\n};\n"],"sourceRoot":""}